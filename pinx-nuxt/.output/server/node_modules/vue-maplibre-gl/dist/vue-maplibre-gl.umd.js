/*!
* vue-maplibre-gl v3.1.3
* (c) 2024 Volker Nauruhn
* @license MIT
*/
(function(d,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue"),require("maplibre-gl"),require("mitt")):typeof define=="function"&&define.amd?define(["exports","vue","maplibre-gl","mitt"],t):(d=typeof globalThis<"u"?globalThis:d||self,t(d.VueMaplibreGl={},d.Vue,d.maplibregl,d.mitt))})(this,function(d,t,N,Ne){"use strict";var Ge=Object.defineProperty;var We=(d,t,N)=>t in d?Ge(d,t,{enumerable:!0,configurable:!0,writable:!0,value:N}):d[t]=N;var L=(d,t,N)=>(We(d,typeof t!="symbol"?t+"":t,N),N);var q=document.createElement("style");q.textContent=`.mgl-container{position:relative}.mgl-wrapper{position:absolute;top:0;right:0;bottom:0;left:0}.maplibregl-ctrl .maplibregl-ctrl-icon svg{margin-top:2px}.maplibregl-ctrl .maplibregl-style-switch{display:block}.maplibregl-ctrl .maplibregl-style-switch.is-open,.maplibregl-ctrl .maplibregl-style-list{display:none}.maplibregl-ctrl .maplibregl-style-list.is-open{display:block}.maplibregl-ctrl .maplibregl-style-list button{width:100%;text-align:left;padding:0 5px}.maplibregl-ctrl .maplibregl-style-list button.is-active{font-weight:700}.maplibregl-ctrl-top-left .maplibregl-style-list button,.maplibregl-ctrl-bottom-left .maplibregl-style-list button{text-align:left}.maplibregl-ctrl-top-right .maplibregl-style-list button,.maplibregl-ctrl-bottom-right .maplibregl-style-list button{text-align:right}
`,document.head.appendChild(q);const p=Symbol("map"),v=Symbol("isLoaded"),j=Symbol("isInitialized"),R=Symbol("componentId"),C=Symbol("sourceId"),P=Symbol("sourceLayerRegistry"),U=Symbol("emitter");function Ee(e){return Object.keys(e)}function _(e){return Object.keys(e)}const m=t.reactive({style:"https://demotiles.maplibre.org/style.json",center:Object.freeze([0,0]),zoom:1,trackResize:!1});class E{static createEventHandler(a,n,i,o){return(r={})=>i.emit(o,{type:r.type,map:n,component:a,event:r})}}L(E,"MAP_OPTION_KEYS",["antialias","attributionControl","bearing","bearingSnap","bounds","boxZoom","center","clickTolerance","collectResourceTiming","crossSourceCollisions","container","customAttribution","dragPan","dragRotate","doubleClickZoom","hash","fadeDuration","failIfMajorPerformanceCaveat","fitBoundsOptions","interactive","keyboard","locale","localIdeographFontFamily","logoPosition","maxBounds","maxPitch","maxZoom","minPitch","minZoom","preserveDrawingBuffer","pitch","pitchWithRotate","refreshExpiredTiles","renderWorldCopies","scrollZoom","mapStyle","trackResize","transformRequest","touchZoomRotate","touchPitch","zoom","maxTileCacheSize","pixelRatio","cooperativeGestures"]),L(E,"MARKER_OPTION_KEYS",["element","offset","anchor","color","draggable","clickTolerance","rotation","rotationAlignment","pitchAlignment","scale"]),L(E,"MAP_EVENT_TYPES",["error","load","idle","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"]);var x=(e=>(e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(x||{});const H=Object.values(x),Z=new Map,J=Symbol("default");function Me(e=J){let a=Z.get(e);return a||(a=t.reactive({isLoaded:!1,isMounted:!1,language:null}),Z.set(e,a)),a}function je(e,a,n=J){var o;let i=Z.get(n);return i||(i=t.reactive({isLoaded:!1,isMounted:!1,language:null}),Z.set(n,i)),i.isLoaded=!1,i.isMounted=!1,i.component=e,i.map=a.value,i.isLoaded=((o=a.value)==null?void 0:o.loaded())||!1,i}function Te(e,a=250,n=!1){let i;function o(){const r=arguments,s=()=>{i=void 0,n!==!0&&e.apply(this,r)};clearTimeout(i),n===!0&&i===void 0&&e.apply(this,r),i=window.setTimeout(s,a)}return o.cancel=()=>{clearTimeout(i)},o}const X={AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(X)),new Set(Object.values(X));function $(e,a){const n=e.getStyle().layers,i=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,o=/^\s*name\s*(:\s*(\S*))?\s*$/,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,s=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,y=a?`name:${a}`:"name",u=["case",["has",y],["get",y],["get","name"]];for(let O=0;O<n.length;O+=1){const b=n[O],M=b.layout;if(!M||!M["text-field"])continue;const h=e.getLayoutProperty(b.id,"text-field");let I;if(Array.isArray(h)&&h.length>=2&&h[0].trim().toLowerCase()==="concat"){const S=h.slice();for(let f=0;f<h.length;f+=1){const l=h[f];if((typeof l=="string"||l instanceof String)&&i.exec(l.toString())){S[f]=u;break}else if(Array.isArray(l)&&l.length>=2&&l[0].trim().toLowerCase()==="get"&&o.exec(l[1].toString())){S[f]=u;break}else if(Array.isArray(l)&&l.length===4&&l[0].trim().toLowerCase()==="case"){S[f]=u;break}}e.setLayoutProperty(b.id,"text-field",S)}else if(Array.isArray(h)&&h.length>=2&&h[0].trim().toLowerCase()==="get"&&o.exec(h[1].toString())){const S=u;e.setLayoutProperty(b.id,"text-field",S)}else if((typeof h=="string"||h instanceof String)&&i.exec(h.toString())){const S=u;e.setLayoutProperty(b.id,"text-field",S)}else if(Array.isArray(h)&&h.length===4&&h[0].trim().toLowerCase()==="case"){const S=u;e.setLayoutProperty(b.id,"text-field",S)}else if((typeof h=="string"||h instanceof String)&&(I=r.exec(h.toString()))!==null){const S=`{${y}}${I[3]}{name${I[4]||""}}`;e.setLayoutProperty(b.id,"text-field",S)}else if((typeof h=="string"||h instanceof String)&&(I=s.exec(h.toString()))!==null){const S=`${I[1]}{${y}}${I[5]}`;e.setLayoutProperty(b.id,"text-field",S)}}}const Q=t.defineComponent({name:"MglMap",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},antialias:{type:Boolean,default:()=>m.antialias},attributionControl:{type:Boolean,default:()=>m.attributionControl},bearing:{type:Number,default:()=>m.bearing},bearingSnap:{type:Number,default:()=>m.bearingSnap},bounds:{type:[Array,Object],default:()=>m.bounds},boxZoom:{type:Boolean,default:()=>m.boxZoom},center:{type:[Array,Object],default:()=>m.center},clickTolerance:{type:Number,default:()=>m.clickTolerance},collectResourceTiming:{type:Boolean,default:()=>m.collectResourceTiming},crossSourceCollisions:{type:Boolean,default:()=>m.crossSourceCollisions},customAttribution:{type:[String,Array],default:()=>m.customAttribution},dragPan:{type:Boolean,default:()=>m.dragPan},dragRotate:{type:Boolean,default:()=>m.dragRotate},doubleClickZoom:{type:Boolean,default:()=>m.doubleClickZoom},hash:{type:[Boolean,String],default:()=>m.hash},fadeDuration:{type:Number,default:()=>m.fadeDuration},failIfMajorPerformanceCaveat:{type:Boolean,default:()=>m.failIfMajorPerformanceCaveat},fitBoundsOptions:{type:Object,default:()=>m.fitBoundsOptions},interactive:{type:Boolean,default:()=>m.interactive},keyboard:{type:Boolean,default:()=>m.keyboard},locale:{type:Object,default:()=>m.locale},language:{type:String,default:()=>m.language||null},localIdeographFontFamily:{type:String,default:()=>m.localIdeographFontFamily},logoPosition:{type:[String],validator:e=>e in x,default:()=>m.logoPosition},maxBounds:{type:[Array,Object],default:()=>m.maxBounds},maxPitch:{type:Number,default:()=>m.maxPitch},maxZoom:{type:Number,default:()=>m.maxZoom},minPitch:{type:Number,default:()=>m.minPitch},minZoom:{type:Number,default:()=>m.minZoom},preserveDrawingBuffer:{type:Boolean,default:()=>m.preserveDrawingBuffer},pitch:{type:Number,default:()=>m.pitch},pitchWithRotate:{type:Boolean,default:()=>m.pitchWithRotate},refreshExpiredTiles:{type:Boolean,default:()=>m.refreshExpiredTiles},renderWorldCopies:{type:Boolean,default:()=>m.renderWorldCopies},scrollZoom:{type:Boolean,default:()=>m.scrollZoom},mapStyle:{type:[String,Object],default:()=>m.style},trackResize:{type:Boolean,default:()=>m.trackResize},transformRequest:{type:Function,default:m.transformRequest},touchZoomRotate:{type:Boolean,default:()=>m.touchZoomRotate},touchPitch:{type:Boolean,default:()=>m.touchPitch},zoom:{type:Number,default:()=>m.zoom},maxTileCacheSize:{type:Number,default:()=>m.maxTileCacheSize},mapKey:{type:[String,Symbol]},pixelRatio:{type:Number,default:()=>m.pixelRatio},cooperativeGestures:{type:[Boolean,Object],default:()=>m.cooperativeGestures}},emits:["map:error","map:load","map:idle","map:remove","map:render","map:resize","map:webglcontextlost","map:webglcontextrestored","map:dataloading","map:data","map:tiledataloading","map:sourcedataloading","map:styledataloading","map:sourcedata","map:styledata","map:boxzoomcancel","map:boxzoomstart","map:boxzoomend","map:touchcancel","map:touchmove","map:touchend","map:touchstart","map:click","map:contextmenu","map:dblclick","map:mousemove","map:mouseup","map:mousedown","map:mouseout","map:mouseover","map:movestart","map:move","map:moveend","map:zoomstart","map:zoom","map:zoomend","map:rotatestart","map:rotate","map:rotateend","map:dragstart","map:drag","map:dragend","map:pitchstart","map:pitch","map:pitchend","map:wheel"],slots:Object,setup(e,a){const n=t.markRaw(t.getCurrentInstance()),i=t.shallowRef(),o=t.shallowRef(),r=t.ref(!1),s=t.ref(!1),y=t.ref(!1),u=new Map,O=Ne(),b=je(n,o,e.mapKey);let M;t.provide(p,o),t.provide(v,s),t.provide(j,r),t.provide(R,n.uid),t.provide(C,""),t.provide(U,O),t.watch(()=>e.bearing,l=>{var c;l&&((c=o.value)==null||c.setBearing(l))}),t.watch(()=>e.bounds,l=>{var c;l&&((c=o.value)==null||c.fitBounds(l,e.fitBoundsOptions))}),t.watch(()=>e.center,l=>{var c;l&&((c=o.value)==null||c.setCenter(l))}),t.watch(()=>e.maxBounds,l=>{var c;l&&((c=o.value)==null||c.setMaxBounds(l))}),t.watch(()=>e.maxPitch,l=>{var c;l&&((c=o.value)==null||c.setMaxPitch(l))}),t.watch(()=>e.maxZoom,l=>{var c;l&&((c=o.value)==null||c.setMaxZoom(l))}),t.watch(()=>e.minPitch,l=>{var c;l&&((c=o.value)==null||c.setMinPitch(l))}),t.watch(()=>e.minZoom,l=>{var c;l&&((c=o.value)==null||c.setMinZoom(l))}),t.watch(()=>e.pitch,l=>{var c;l&&((c=o.value)==null||c.setPitch(l))}),t.watch(()=>e.renderWorldCopies,l=>{var c;l&&((c=o.value)==null||c.setRenderWorldCopies(l))}),t.watch(()=>e.mapStyle,l=>{var c;l&&((c=o.value)==null||c.setStyle(l))}),t.watch(()=>e.transformRequest,l=>{var c;l&&((c=o.value)==null||c.setTransformRequest(l))}),t.watch(()=>e.zoom,l=>{var c;l&&((c=o.value)==null||c.setZoom(l))}),t.watch(()=>e.zoom,l=>{var c;l&&((c=o.value)==null||c.setZoom(l))}),t.watch(()=>e.language,l=>{y.value&&o.value&&b.language!==(l||null)&&($(o.value,l||""),b.language=l||null)}),t.watch(()=>b.language,l=>{y.value&&o.value&&$(o.value,l||"")});function h(){y.value=!0,e.language?b.language=e.language:b.language&&$(o.value,e.language||"")}function I(){b.isMounted=!0;const l=Object.keys(e).filter(c=>e[c]!==void 0&&E.MAP_OPTION_KEYS.indexOf(c)!==-1).reduce((c,V)=>(c[V==="mapStyle"?"style":V]=t.unref(e[V]),c),{container:i.value});if(o.value=t.markRaw(new N.Map(l)),b.map=o.value,r.value=!0,u.set("__load",()=>(s.value=!0,b.isLoaded=!0)),o.value.once("styledata",h),o.value.on("load",u.get("__load")),n.vnode.props){for(let c=0,V=E.MAP_EVENT_TYPES.length;c<V;c++)if(n.vnode.props["onMap:"+E.MAP_EVENT_TYPES[c]]){const Ie=E.createEventHandler(n,o.value,a,"map:"+E.MAP_EVENT_TYPES[c]);u.set(E.MAP_EVENT_TYPES[c],Ie),o.value.on(E.MAP_EVENT_TYPES[c],Ie)}}o.value.getCanvas().addEventListener("webglcontextlost",f)}async function S(){b.isMounted=!1,b.isLoaded=!1,s.value=!1,o.value&&(o.value.getCanvas().removeEventListener("webglcontextlost",f),o.value._controls.forEach(l=>{o.value.removeControl(l)}),r.value=!1,u.forEach((l,c)=>{o.value.off(c.startsWith("__")?c.substring(2):c,l)}),o.value.remove())}function f(){S(),t.nextTick(I)}return t.onMounted(()=>{I(),o.value&&(M=new ResizeObserver(Te(o.value.resize.bind(o.value),100)),M.observe(i.value))}),t.onBeforeUnmount(()=>{M!==void 0&&(M.disconnect(),M=void 0),S()}),a.expose({map:o}),()=>t.h("div",{class:"mgl-container",style:{height:e.height,width:e.width}},[t.h("div",{ref:i,class:"mgl-wrapper"}),r.value&&a.slots.default?a.slots.default({}):void 0])}});function B(e,a,n){t.watch(e,i=>{var o,r;i&&H.indexOf(i)===-1||((o=a.value)!=null&&o.hasControl(n)&&a.value.removeControl(n),(r=a.value)==null||r.addControl(n,i))},{immediate:!0})}const ee=t.defineComponent({name:"MglAttributionControl",props:{position:{type:String,validator:e=>H.indexOf(e)!==-1},compact:Boolean,customAttribution:[String,Array]},setup(e){const a=t.inject(p),n=t.inject(j),i=new N.AttributionControl({compact:e.compact,customAttribution:e.customAttribution});B(()=>e.position,a,i),t.onBeforeUnmount(()=>n.value&&a.value.removeControl(i))},render(){}}),k=class k{constructor(a,n){L(this,"container");this.isAdded=a,this.container=document.createElement("div"),this.setClasses(n)}getDefaultPosition(){return x.TOP_LEFT}onAdd(){return t.nextTick(()=>this.isAdded.value=!0),this.container}onRemove(){this.isAdded.value=!1,this.container.remove()}setClasses(a){a?(this.container.classList.remove(k.CONTROL_CLASS),this.container.classList.remove(k.CONTROL_GROUP_CLASS)):(this.container.classList.add(k.CONTROL_CLASS),this.container.classList.add(k.CONTROL_GROUP_CLASS))}};L(k,"CONTROL_CLASS","maplibregl-ctrl"),L(k,"CONTROL_GROUP_CLASS","maplibregl-ctrl-group");let G=k;const te=t.defineComponent({name:"MglCustomControl",props:{position:{type:String,validator:e=>H.indexOf(e)!==-1},noClasses:{type:Boolean,default:!1}},slots:Object,setup(e,{slots:a}){const n=t.inject(p),i=t.inject(j),o=t.ref(!1),r=new G(o,e.noClasses);return B(()=>e.position,n,r),t.watch(()=>e.noClasses,s=>r.setClasses(s)),t.onBeforeUnmount(()=>{var s;return i.value&&((s=n.value)==null?void 0:s.removeControl(r))}),()=>{var s;return o.value?t.h(t.Teleport,{to:r.container},(s=a.default)==null?void 0:s.call(a,{})):t.createCommentVNode("custom-component")}}}),oe=t.defineComponent({name:"MglFullscreenControl",props:{position:{type:String,default:x.TOP_RIGHT,validator:e=>H.indexOf(e)!==-1},container:{type:Object,default:null}},setup(e){const a=t.inject(p),n=t.inject(j),i=new N.FullscreenControl({container:e.container||void 0});function o(){t.nextTick(()=>{var r;return(r=a.value)==null?void 0:r.resize()})}i.on("fullscreenstart",o),i.on("fullscreenend",o),B(()=>e.position,a,i),t.onBeforeUnmount(()=>{var r;i.off("fullscreenstart",o),i.off("fullscreenend",o),n.value&&((r=a.value)==null||r.removeControl(i))})},render(){}});class Pe{constructor(a="rgba(0,0,0,0.9)",n=4*window.devicePixelRatio,i="#7cf859",o="Monaco, Consolas, Courier, monospace",r=60*window.devicePixelRatio,s=90*window.devicePixelRatio,y=0,u=5*window.devicePixelRatio,O=100*window.devicePixelRatio){L(this,"frames",0);L(this,"totalTime",0);L(this,"totalFrames",0);L(this,"time",null);L(this,"map");L(this,"container");L(this,"readOutput");L(this,"canvas");L(this,"eventHandlers",new Map);this.background=a,this.barWidth=n,this.color=i,this.font=o,this.graphHeight=r,this.graphWidth=s,this.graphTop=y,this.graphRight=u,this.width=O}getDefaultPosition(){return x.TOP_RIGHT}onAdd(a){this.map=a;const n=this.container=document.createElement("div");return n.className="maplibregl-ctrl maplibregl-ctrl-fps",n.style.backgroundColor=this.background,n.style.borderRadius="6px",this.readOutput=document.createElement("div"),this.readOutput.style.color=this.color,this.readOutput.style.fontFamily=this.font,this.readOutput.style.padding="0 5px 5px",this.readOutput.style.fontSize="9px",this.readOutput.style.fontWeight="bold",this.readOutput.textContent="Waitingâ€¦",this.canvas=document.createElement("canvas"),this.canvas.className="maplibregl-ctrl-canvas",this.canvas.width=this.width,this.canvas.height=this.graphHeight,this.canvas.style.cssText=`width: ${this.width/window.devicePixelRatio}px; height: ${this.graphHeight/window.devicePixelRatio}px;`,n.appendChild(this.readOutput),n.appendChild(this.canvas),this.eventHandlers.set("movestart",this.onMoveStart.bind(this)),this.eventHandlers.set("moveend",this.onMoveEnd.bind(this)),this.map.on("movestart",this.eventHandlers.get("movestart")),this.map.on("moveend",this.eventHandlers.get("moveend")),this.container}onRemove(){this.map.off("movestart",this.eventHandlers.get("movestart")),this.map.off("moveend",this.eventHandlers.get("moveend")),this.eventHandlers.clear(),this.container.parentNode.removeChild(this.container),this.map=void 0}onMoveStart(){this.frames=0,this.time=performance.now(),this.eventHandlers.set("render",this.onRender.bind(this)),this.map.on("render",this.eventHandlers.get("render"))}onMoveEnd(){const a=performance.now();this.updateGraph(this.getFPS(a)),this.frames=0,this.time=null,this.map.off("render",this.eventHandlers.get("render"))}onRender(){if(this.time){this.frames++;const a=performance.now();a>=this.time+1e3&&(this.updateGraph(this.getFPS(a)),this.frames=0,this.time=performance.now())}}getFPS(a){return this.totalTime+=a-this.time,this.totalFrames+=this.frames,Math.round(1e3*this.frames/(a-this.time))||0}updateGraph(a){const n=this.canvas.getContext("2d"),i=Math.round(1e3*this.totalFrames/this.totalTime)||0,o=(this.graphHeight,this.barWidth);n.fillStyle=this.background,n.globalAlpha=1,n.fillRect(0,0,this.graphWidth,this.graphTop),n.fillStyle=this.color,this.readOutput.textContent=`${a} FPS (${i} Avg)`,n.drawImage(this.canvas,this.graphRight+o,this.graphTop,this.graphWidth-o,this.graphHeight,this.graphRight,this.graphTop,this.graphWidth-o,this.graphHeight),n.fillRect(this.graphRight+this.graphWidth-o,this.graphTop,o,this.graphHeight),n.fillStyle=this.background,n.globalAlpha=.75,n.fillRect(this.graphRight+this.graphWidth-o,this.graphTop,o,(1-a/100)*this.graphHeight)}}const ae=t.defineComponent({name:"MglFrameRateControl",props:{position:{type:String,validator:e=>H.indexOf(e)!==-1},background:{type:String,default:"rgba(0,0,0,0.9)"},barWidth:{type:Number,default:4*window.devicePixelRatio},color:{type:String,default:"#7cf859"},font:{type:String,default:"Monaco, Consolas, Courier, monospace"},graphHeight:{type:Number,default:60*window.devicePixelRatio},graphWidth:{type:Number,default:90*window.devicePixelRatio},graphTop:{type:Number,default:0},graphRight:{type:Number,default:5*window.devicePixelRatio},width:{type:Number,default:100*window.devicePixelRatio}},setup(e){const a=t.inject(p),n=t.inject(j),i=new Pe(e.background,e.barWidth,e.color,e.font,e.graphHeight,e.graphWidth,e.graphTop,e.graphRight,e.width);B(()=>e.position,a,i),t.onBeforeUnmount(()=>{var o;return n.value&&((o=a.value)==null?void 0:o.removeControl(i))})},render(){}}),ie=t.defineComponent({name:"MglGeolocationControl",props:{position:{type:String,default:x.TOP_RIGHT,validator:e=>H.indexOf(e)!==-1},positionOptions:{type:Object,default:{enableHighAccuracy:!1,timeout:6e3}},fitBoundsOptions:{type:Object,default:{maxZoom:15}},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const a=t.inject(p),n=t.inject(j),i=new N.GeolocateControl({positionOptions:e.positionOptions,fitBoundsOptions:e.fitBoundsOptions,trackUserLocation:e.trackUserLocation,showAccuracyCircle:e.showAccuracyCircle,showUserLocation:e.showUserLocation});B(()=>e.position,a,i),t.onBeforeUnmount(()=>{var o;return n.value&&((o=a.value)==null?void 0:o.removeControl(i))})},render(){}}),ne=t.defineComponent({name:"MglNavigationControl",props:{position:{type:String,default:x.TOP_RIGHT,validator:e=>H.indexOf(e)!==-1},showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:Boolean},setup(e){const a=t.inject(p),n=t.inject(j),i=new N.NavigationControl({showCompass:e.showCompass,showZoom:e.showZoom,visualizePitch:e.visualizePitch});B(()=>e.position,a,i),t.onBeforeUnmount(()=>{var o;return n.value&&((o=a.value)==null?void 0:o.removeControl(i))})},render(){}});var re=(e=>(e.IMPERIAL="imperial",e.METRIC="metric",e.NAUTICAL="nautical",e))(re||{});const xe=Object.values(re),le=t.defineComponent({name:"MglScaleControl",props:{position:{type:String,validator:e=>H.indexOf(e)!==-1},maxWidth:{type:Number,default:100},unit:{type:String,default:"metric",validator:e=>xe.indexOf(e)!==-1}},setup(e){const a=t.inject(p),n=t.inject(j),i=new N.ScaleControl({maxWidth:e.maxWidth,unit:e.unit});B(()=>e.position,a,i),t.onBeforeUnmount(()=>{var o;return n.value&&((o=a.value)==null?void 0:o.removeControl(i))})},render(){}});var W=(e=>(e.DEFAULT="default",e.TEXT="text",e.MDI="mdi",e.SIMPLE_ICON="simple-icons",e))(W||{});const He=Object.values(W),Y={text:void 0,mdi:{size:21,viewbox:"0 0 24 24"},"simple-icons":{size:21,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},K=t.defineComponent({name:"MglButton",props:{type:{type:String,default:"default",validator:e=>He.indexOf(e)!==-1},path:{type:String},size:Number,viewbox:String},slots:Object,setup(e,{slots:a}){!e.path&&e.type!=="text"&&t.warn("property `path` must be set on MaplibreButton");const n=t.ref(Y[e.type]||Y.default);return t.watch(()=>e.type,i=>n.value=Y[i]||Y.default),()=>{var i,o;return e.type==="text"?t.h("button",{type:"button"},(i=a.default)==null?void 0:i.call(a,{})):t.h("button",{type:"button",class:"maplibregl-ctrl-icon"},[t.h("svg",{width:e.size||n.value.size,height:e.size||n.value.size,viewBox:e.viewbox||n.value.viewbox},t.h("path",{fill:"currentColor",d:e.path})),(o=a.default)==null?void 0:o.call(a,{})])}}});function se(e){return e&&!!e.stopPropagation}const ce=t.defineComponent({name:"MglStyleSwitchControl",props:{position:{type:String,validator:e=>H.indexOf(e)!==-1},mapStyles:{type:Array,required:!0,default:[]},modelValue:{type:Object},isOpen:{type:Boolean,default:void 0}},slots:Object,emits:["update:modelValue","update:isOpen"],setup(e,{emit:a,slots:n}){const i=t.inject(p),o=t.inject(j),r=t.inject(v),s=t.inject(U),y=t.ref(!1),u=t.ref(e.isOpen===void 0?!1:e.isOpen),O=t.shallowRef(e.modelValue===void 0?e.mapStyles.length?e.mapStyles[0]:null:e.modelValue),b=new G(y,!1),M=S.bind(null,!1);function h(){const f=i.value.getStyle().name;for(let l=0,c=e.mapStyles.length;l<c;l++)if(e.mapStyles[l].name===f){I(e.mapStyles[l]);break}}t.watch(r,f=>{f&&h()},{immediate:!0}),i.value.on("style.load",h),document.addEventListener("click",M),B(()=>e.position,i,b),e.modelValue!==void 0&&t.watch(()=>e.modelValue,f=>{f!==void 0&&(O.value=f)}),e.isOpen!==void 0&&t.watch(()=>e.isOpen,f=>{f!==void 0&&(u.value=f)}),t.onBeforeUnmount(()=>{o.value&&(i.value.removeControl(b),i.value.off("style.load",h)),document.removeEventListener("click",M)});function I(f){var l;((l=O.value)==null?void 0:l.name)!==f.name&&(s.emit("styleSwitched",f),i.value.setStyle(f.style,{diff:!1}),e.modelValue===void 0&&(O.value=f),a("update:modelValue",f),S(!1))}function S(f,l){se(l)?l.stopPropagation():se(f)&&f.stopPropagation(),!(e.isOpen!==void 0&&e.isOpen===f||u.value===f)&&(e.isOpen===void 0?(u.value=typeof f=="boolean"?f:!u.value,a("update:isOpen",u.value)):a("update:isOpen",typeof f=="boolean"?f:!e.isOpen))}return()=>{if(!y.value)return t.createCommentVNode("style-switch-control");const f={isOpen:u,toggleOpen:S,setStyle:I,mapStyles:e.mapStyles,currentStyle:O};return t.h(t.Teleport,{to:b.container},n.default?n.default(f):[n.button?n.button(f):t.h(K,{type:W.MDI,path:"M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z",class:["maplibregl-ctrl-icon maplibregl-style-switch",u.value?"is-open":""],onClick:S.bind(null,!0)}),n.styleList?n.styleList(f):t.h("div",{class:["maplibregl-style-list",u.value?"is-open":""]},e.mapStyles.map(l=>{var c,V;return l.icon?t.h(K,{type:W.MDI,path:l.icon.path,class:((c=O.value)==null?void 0:c.name)===l.name?"is-active":"",onClick:()=>I(l)},t.createTextVNode(l.label)):t.h("button",{type:"button",class:((V=O.value)==null?void 0:V.name)===l.name?"is-active":"",onClick:()=>I(l)},t.createTextVNode(l.label))}))])}},template:`
		<slot>
		<slot name="button"></slot>
		<slot name="styleList"></slot>
		</slot>
	`}),de=t.defineComponent({name:"MglMarker",props:{coordinates:{type:[Object,Array],required:!0},offset:[Object,Array],anchor:String,color:String,clickTolerance:Number,rotation:Number,rotationAlignment:String,pitchAlignment:String,scale:Number},setup(e){const a=t.inject(p),n=Object.keys(e).filter(o=>e[o]!==void 0&&E.MARKER_OPTION_KEYS.indexOf(o)!==-1).reduce((o,r)=>(o[r]=t.unref(e[r]),o),{}),i=new N.Marker(n);return i.setLngLat(e.coordinates).addTo(a.value),t.watch(()=>e.coordinates,o=>i.setLngLat(o)),t.watch(()=>e.offset,o=>i.setOffset(o||[0,0])),t.watch(()=>e.pitchAlignment,o=>i.setPitchAlignment(o||"auto")),t.watch(()=>e.rotationAlignment,o=>i.setRotationAlignment(o||"auto")),t.onBeforeUnmount(i.remove.bind(i)),{marker:i}},render(){}});class F{constructor(){L(this,"unmountHandlers",new Map)}registerUnmountHandler(a,n){this.unmountHandlers.set(a,n)}unregisterUnmountHandler(a){this.unmountHandlers.delete(a)}unmount(){this.unmountHandlers.forEach(a=>a())}}const D=class D{static genSourceOpts(a,n,i){return Object.keys(n).filter(o=>n[o]!==void 0&&i.indexOf(o)!==-1).reduce((o,r)=>(o[r]=t.unref(n[r]),o),{type:a})}static getSourceRef(a,n){const i=typeof n=="string",o=String(a)+(i?n:"");let r=D.REFS.get(o);return r||(r=t.ref(i?null:void 0),D.REFS.set(o,r)),r}};L(D,"REFS",new Map);let A=D;function z(e,a,n,i,o){const r=t.inject(p),s=t.inject(v),y=t.inject(U);function u(){s.value&&(r.value.addSource(a.sourceId,A.genSourceOpts(n,a,i)),e.value=r.value.getSource(a.sourceId))}function O(){e.value=null}return t.watch(s,u,{immediate:!0}),r.value.on("style.load",u),y.on("styleSwitched",O),t.onBeforeUnmount(()=>{s.value&&(o.unmount(),r.value.removeSource(a.sourceId)),r.value.off("style.load",u),y.off("styleSwitched",O)})}const Be=_({animate:void 0,canvas:void 0,coordinates:void 0}),ue=t.defineComponent({name:"MglCanvasSource",props:{sourceId:{type:String,required:!0},coordinates:Array,animate:Boolean,canvas:[Object,String]},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"canvas",Be,o),t.watch(t.isRef(e.coordinates)?e.coordinates:()=>e.coordinates,r=>{var s;(s=i.value)==null||s.setCoordinates(r)},{immediate:!0}),()=>[t.createCommentVNode("Canvas Source"),i.value&&a.default?a.default({}):void 0]}}),_e=_({data:void 0,maxzoom:void 0,attribution:void 0,buffer:void 0,tolerance:void 0,cluster:void 0,clusterRadius:void 0,clusterMaxZoom:void 0,clusterMinPoints:void 0,clusterProperties:void 0,lineMetrics:void 0,generateId:void 0,promoteId:void 0,filter:void 0}),me=t.defineComponent({name:"MglGeoJsonSource",props:{sourceId:{type:String,required:!0},data:[Object,String],maxzoom:Number,attribution:String,buffer:Number,tolerance:Number,cluster:[Number,Boolean],clusterRadius:Number,clusterMaxZoom:Number,clusterMinPoints:Number,clusterProperties:Object,lineMetrics:Boolean,generateId:Boolean,promoteId:[Object,String],filter:[Array,String,Object]},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"geojson",_e,o),t.watch(t.isRef(e.data)?e.data:()=>e.data,r=>{var s;(s=i.value)==null||s.setData(r||{type:"FeatureCollection",features:[]})},{immediate:!0}),()=>[t.createCommentVNode("GeoJSON Source"),i.value&&a.default?a.default({}):void 0]}}),ze=_({url:void 0,coordinates:void 0}),ge=t.defineComponent({name:"MglImageSource",props:{sourceId:{type:String,required:!0},url:String,coordinates:Array},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"image",ze,o),t.watch(t.isRef(e.coordinates)?e.coordinates:()=>e.coordinates,r=>{var s;(s=i.value)==null||s.setCoordinates(r)},{immediate:!0}),()=>[t.createCommentVNode("Image Source"),i.value&&a.default?a.default({}):void 0]}}),ke=_({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,scheme:void 0,attribution:void 0,volatile:void 0}),fe=t.defineComponent({name:"MglRasterSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,scheme:String,attribution:String,volatile:Boolean},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"raster",ke,o),()=>[t.createCommentVNode("Raster Source"),i.value&&a.default?a.default({}):void 0]}}),Ve=_({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,attribution:void 0,encoding:void 0,volatile:void 0,redFactor:void 0,blueFactor:void 0,greenFactor:void 0,baseShift:void 0}),ye=t.defineComponent({name:"MglRasterDemSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,attribution:String,encoding:String,volatile:Boolean,redFactor:Number,blueFactor:Number,greenFactor:Number,baseShift:Number},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"raster-dem",Ve,o),()=>[t.createCommentVNode("RasterDem Source"),i.value&&a.default?a.default({}):void 0]}}),Fe=_({url:void 0,tiles:void 0,bounds:void 0,scheme:void 0,minzoom:void 0,maxzoom:void 0,attribution:void 0,promoteId:void 0,volatile:void 0}),he=t.defineComponent({name:"MglVectorSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,scheme:String,minzoom:Number,maxzoom:Number,attribution:String,promoteId:[Object,String],volatile:Boolean},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"vector",Fe,o),t.watch(t.isRef(e.tiles)?e.tiles:()=>e.tiles,r=>{var s;(s=i.value)==null||s.setTiles(r||[])},{immediate:!0}),t.watch(t.isRef(e.url)?e.url:()=>e.url,r=>{var s;(s=i.value)==null||s.setUrl(r||"")},{immediate:!0}),()=>[t.createCommentVNode("Vector Source"),i.value&&a.default?a.default({}):void 0]}}),De=_({urls:void 0,coordinates:void 0}),be=t.defineComponent({name:"MglVideoSource",props:{sourceId:{type:String,required:!0},urls:Array,coordinates:Array},slots:Object,setup(e,{slots:a}){const n=t.inject(R),i=A.getSourceRef(n,e.sourceId),o=new F;return t.provide(C,e.sourceId),t.provide(P,o),z(i,e,"video",De,o),t.watch(t.isRef(e.coordinates)?e.coordinates:()=>e.coordinates,r=>{var s;(s=i.value)==null||s.setCoordinates(r)},{immediate:!0}),()=>[t.createCommentVNode("Video Source"),i.value&&a.default?a.default({}):void 0]}}),w=class w{static genLayerOpts(a,n,i,o){return Object.keys(i).filter(r=>i[r]!==void 0&&w.SOURCE_OPTS.indexOf(r)!==-1).reduce((r,s)=>(r[s==="sourceLayer"?"source-layer":s]=t.unref(i[s]),r),{type:n,source:i.source||o,id:a})}static registerLayerEvents(a,n,i){if(i.props)for(let o=0,r=w.LAYER_EVENTS.length;o<r;o++){const s="on"+w.LAYER_EVENTS[o].charAt(0).toUpperCase()+w.LAYER_EVENTS[o].substr(1);i.props[s]&&a.on(w.LAYER_EVENTS[o],n,i.props[s])}}static unregisterLayerEvents(a,n,i){if(i.props)for(let o=0,r=w.LAYER_EVENTS.length;o<r;o++){const s="on"+w.LAYER_EVENTS[o].charAt(0).toUpperCase()+w.LAYER_EVENTS[o].substr(1);i.props[s]&&a.off(w.LAYER_EVENTS[o],n,i.props[s])}}};L(w,"SOURCE_OPTS",["metadata","ref","source","sourceLayer","minzoom","maxzoom","interactive","filter","layout","paint"]),L(w,"LAYER_EVENTS",["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]),L(w,"SHARED",{props:{layerId:{type:String,required:!0},source:[String,Object],metadata:[Object,Array,String,Number],sourceLayer:String,minzoom:Number,maxzoom:Number,interactive:Boolean,filter:Array,before:String},emits:["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]});let g=w;function T(e,a){const n=t.inject(p),i=t.inject(v),o=t.inject(P);function r(){i.value&&(a&&g.unregisterLayerEvents(n.value,e,a.vnode),n.value.getLayer(e)&&n.value.removeLayer(e))}o.registerUnmountHandler(e,r),t.onBeforeUnmount(()=>{o.unregisterUnmountHandler(e),r()})}const pe=t.defineComponent({name:"MglBackgroundLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Background Layer: layer must be used inside source tag or source prop must be set");return}const n=t.inject(p),i=t.inject(v),o=t.inject(R),r=A.getSourceRef(o,e.source||a);return T(e.layerId),t.watch([i,r],([s,y])=>{s&&(y||y===void 0)&&n.value.addLayer(g.genLayerOpts(e.layerId,"background",e,a),e.before||void 0)},{immediate:!0}),()=>t.createCommentVNode("Background Layer")}}),Se=t.defineComponent({name:"MglCircleLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Circle Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"circle",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Circle Layer")}}),Le=t.defineComponent({name:"MglFillLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Fill Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"fill",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Fill Layer")}}),Ae=t.defineComponent({name:"MglFillExtrusionLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Fill Extrude Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"fill-extrusion",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Fill Extrusion Layer")}}),Re=t.defineComponent({name:"MglHeatmapLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Heatmap Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"heatmap",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Heatmap Layer")}}),Ce=t.defineComponent({name:"MglHillshadeLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Hillshade Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"hillshade",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Hillshade Layer")}}),Oe=t.defineComponent({name:"MglLineLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Line Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"line",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Line Layer")}}),ve=t.defineComponent({name:"MglRasterLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Raster Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"raster",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Raster Layer")}}),we=t.defineComponent({name:"MglSymbolLayer",props:{...g.SHARED.props,layout:Object,paint:Object},emits:[...g.SHARED.emits],setup(e){const a=t.inject(C);if(!a&&!e.source){t.warn("Symbol Layer: layer must be used inside source tag or source prop must be set");return}const n=t.getCurrentInstance(),i=t.inject(p),o=t.inject(v),r=t.inject(R),s=A.getSourceRef(r,e.source||a);return T(e.layerId,n),t.watch([o,s],([y,u])=>{y&&(u||u===void 0)&&(i.value.addLayer(g.genLayerOpts(e.layerId,"symbol",e,a),e.before||void 0),g.registerLayerEvents(i.value,e.layerId,n.vnode))},{immediate:!0}),()=>t.createCommentVNode("Symbol Layer")}}),Ue=Object.freeze(Object.defineProperty({__proto__:null,MglAttributionControl:ee,MglBackgroundLayer:pe,MglButton:K,MglCanvasSource:ue,MglCircleLayer:Se,MglCustomControl:te,MglFillExtrusionLayer:Ae,MglFillLayer:Le,MglFrameRateControl:ae,MglFullscreenControl:oe,MglGeoJsonSource:me,MglGeolocationControl:ie,MglHeatmapLayer:Re,MglHillshadeLayer:Ce,MglImageSource:ge,MglLineLayer:Oe,MglMap:Q,MglMarker:de,MglNavigationControl:ne,MglRasterDemSource:ye,MglRasterLayer:ve,MglRasterSource:fe,MglScaleControl:le,MglStyleSwitchControl:ce,MglSymbolLayer:we,MglVectorSource:he,MglVideoSource:be},Symbol.toStringTag,{value:"Module"})),Ze=function(a){Object.entries(Ue).forEach(([n,i])=>{a.component(n,i)})};d.AllOptions=Ee,d.AllSourceOptions=_,d.MglAttributionControl=ee,d.MglBackgroundLayer=pe,d.MglButton=K,d.MglCanvasSource=ue,d.MglCircleLayer=Se,d.MglCustomControl=te,d.MglDefaults=m,d.MglFillExtrusionLayer=Ae,d.MglFillLayer=Le,d.MglFrameRateControl=ae,d.MglFullscreenControl=oe,d.MglGeoJsonSource=me,d.MglGeolocationControl=ie,d.MglHeatmapLayer=Re,d.MglHillshadeLayer=Ce,d.MglImageSource=ge,d.MglLineLayer=Oe,d.MglMap=Q,d.MglMarker=de,d.MglNavigationControl=ne,d.MglRasterDemSource=ye,d.MglRasterLayer=ve,d.MglRasterSource=fe,d.MglScaleControl=le,d.MglStyleSwitchControl=ce,d.MglSymbolLayer=we,d.MglVectorSource=he,d.MglVideoSource=be,d.Position=x,d.componentIdSymbol=R,d.default=Ze,d.emitterSymbol=U,d.isInitializedSymbol=j,d.isLoadedSymbol=v,d.mapSymbol=p,d.sourceIdSymbol=C,d.sourceLayerRegistry=P,d.useDisposableLayer=T,d.useMap=Me,d.usePositionWatcher=B,d.useSource=z,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=vue-maplibre-gl.umd.js.map
