import{I as v,d as V,q as k,z as F,p as x,c as n,o,a as r,e as i,w as d,b as y,_ as $,u as s,B as C,F as D,r as M,l as g,t as h,M as S,N as A,g as Y,O as E,s as O,f as R}from"./CKyhG2UO.js";import{f as m}from"./C2e_0_q3.js";import{_ as q}from"./Bjsy3nZY.js";import{N as G,a as J}from"./ulKVTxLt.js";import{N as K}from"./viEWyoyr.js";import{N as z}from"./C-0JdC7n.js";import{N as Q,a as W}from"./CJDVFyJo.js";import{N as B}from"./ec6Iqfcs.js";import"./zJocfCVL.js";import"./CxN_Fqlt.js";import"./C2161hUv.js";import"./DTn_UIPU.js";import"./F4ZwHvzw.js";import"./uIcw47pO.js";import"./W-bRjs--.js";import"./BGrGI3uy.js";const H=[{id:"personal",title:"Personal"},{id:"office",title:"Office"},{id:"important",title:"Important"},{id:"shop",title:"Shop"}];function X(){const N=[];for(let u=0;u<30;u++){const p=[],w=m.number.int({min:1,max:3});for(let f=0;f<w;f++)p.push(m.lorem.sentence(m.number.int({min:8,max:30})));const c=m.date.between({from:v().subtract(2,"w").toDate(),to:v().toDate()});N.push({id:m.string.nanoid(),date:c,dateText:v(c).format("YYYY-MM-DD")===v().format("YYYY-MM-DD")?v(c).format("HH:mm"):v(c).format("D MMM"),title:m.lorem.sentence(m.number.int({min:3,max:7})).slice(0,-1),body:p.join("<br/><br/>"),image:m.datatype.boolean()?m.image.urlPicsumPhotos({width:640,height:400}):"",labels:m.helpers.arrayElements(H,{min:0,max:2})})}return N.sort((u,p)=>p.date.getTime()-u.date.getTime())}const Z={class:"page"},ee={class:"toolbar mb-6 flex items-center gap-4"},te={class:"list"},le={class:"masonry"},ae={key:0,class:"n-image"},se=["onClick"],oe={key:0,class:"n-title"},ie=["innerHTML"],ne=["onClick"],re={class:"n-date"},de={class:"n-labels flex flex-wrap justify-end gap-2"},ue={key:0,class:"form flex flex-col"},me={key:0,class:"mb-4"},ce=["alt","src"],pe={class:"mb-3"},ve={class:"item-center flex justify-between gap-4"},fe={class:"item-center flex grow gap-4"},be={key:0,class:"flex flex-wrap items-center gap-2"},ye={key:1,class:"w-full"},ge={class:"item-center flex gap-4"},_e="fluent:notebook-add-24-regular",xe="carbon:image",he=V({__name:"Notes",setup(N){const u=k(X()),p=H.map(a=>({label:a.title,value:a.id})),w=F(),c=x(()=>w.style),f={personal:c.value["extra1-color"],office:c.value["extra2-color"],important:c.value["extra3-color"],shop:c.value["extra4-color"]},_=k([]),l=k(null),L=x(()=>u.value.filter(a=>_.value.length?_.value.every(e=>a.labels.map(t=>t.id).includes(e)):!0)),P=x(()=>{var a,e;return!!((a=l.value)!=null&&a.title)||!!((e=l.value)!=null&&e.body)}),T=x({get:()=>l.value!==null,set:()=>l.value=null});function U(){l.value={id:"",date:new Date,dateText:v().format("HH:mm"),title:"",body:"",image:"",labels:[]}}function I(a){l.value={...q(a),body:a.body.replace(/<br\/>/gi,`
`)}}function j(a){const e=u.value.findIndex(t=>t.id===a.id);a.body=a.body.replace(/\n/g,"<br/>"),e!==-1?u.value[e]=a:(a.id=`${new Date().getTime()}`,u.value=[a,...u.value]),l.value=null}return(a,e)=>(o(),n("div",Z,[r("div",ee,[i(s(C),{type:"primary",size:"large",onClick:e[0]||(e[0]=t=>U())},{icon:d(()=>[i($,{name:_e})]),default:d(()=>[e[6]||(e[6]=y(" Add notes "))]),_:1}),i(s(z),{value:_.value,"onUpdate:value":e[1]||(e[1]=t=>_.value=t),multiple:"",options:s(p),size:"large",placeholder:"Labels filter..."},null,8,["value","options"])]),r("div",te,[i(s(J),null,{default:d(()=>[r("div",le,[(o(!0),n(D,null,M(L.value,t=>(o(),n("div",{key:t.id,class:"note"},[t.image?(o(),n("div",ae,[i(s(G),{src:t.image,width:"640",height:"400","img-props":{alt:`${t.title}-image`},lazy:""},null,8,["src","img-props"])])):g("",!0),r("div",{class:"n-content",onClick:b=>I(t)},[t.title?(o(),n("div",oe,h(t.title),1)):g("",!0),t.body?(o(),n("div",{key:1,class:"n-body",innerHTML:t.body},null,8,ie)):g("",!0)],8,se),r("div",{class:"n-footer flex items-end justify-between gap-3",onClick:b=>I(t)},[r("div",re,h(t.dateText),1),r("div",de,[(o(!0),n(D,null,M(t.labels,b=>(o(),n("span",{key:b.id,class:"n-label custom-label",style:S(`--label-color:${f[b.id]}`)},h(b.title),5))),128))])],8,ne)]))),128))])]),_:1})]),i(s(O),{show:T.value,"onUpdate:show":e[5]||(e[5]=t=>T.value=t)},{default:d(()=>[i(s(A),{class:"w-[90vw]! max-w-lg!"},{default:d(()=>[l.value?(o(),n("div",ue,[l.value.id&&l.value.image?(o(),n("div",me,[r("img",{alt:`${l.value.title}-image`,src:l.value.image,class:"rounded-lg"},null,8,ce)])):(o(),Y(s(Q),{key:1,class:"mb-2",max:1},{default:d(()=>[i(s(W),null,{default:d(()=>[r("div",pe,[i($,{name:xe,size:48,depth:3})]),i(s(E),null,{default:d(()=>e[7]||(e[7]=[y("Click or drag a file to this area to upload")])),_:1}),i(s(K),{depth:"3"},{default:d(()=>e[8]||(e[8]=[y(" Strictly prohibit from uploading sensitive information. For example, your bank card PIN or your credit card expiry date. ")])),_:1})]),_:1})]),_:1})),i(s(B),{value:l.value.title,"onUpdate:value":e[2]||(e[2]=t=>l.value.title=t),placeholder:"Title",class:"mb-4"},null,8,["value"]),i(s(B),{value:l.value.body,"onUpdate:value":e[3]||(e[3]=t=>l.value.body=t),placeholder:"Body",type:"textarea",class:"mb-4",autosize:{minRows:2,maxRows:7}},null,8,["value"]),r("div",ve,[r("div",fe,[l.value.id?(o(),n("div",be,[(o(!0),n(D,null,M(l.value.labels,t=>(o(),n("span",{key:t.id,class:"custom-label",style:S(`--label-color:${f[t.id]}`)},h(t.title),5))),128))])):(o(),n("div",ye,[i(s(z),{multiple:"",class:"w-full",options:s(p),placeholder:"Labels filter..."},null,8,["options"])]))]),r("div",ge,[l.value.id?(o(),Y(s(C),{key:0},{default:d(()=>e[9]||(e[9]=[y("Delete")])),_:1})):g("",!0),i(s(C),{strong:"",secondary:"",type:"primary",disabled:!P.value,onClick:e[4]||(e[4]=t=>j(l.value))},{default:d(()=>e[10]||(e[10]=[y(" Save ")])),_:1},8,["disabled"])])])])):g("",!0)]),_:1})]),_:1},8,["show"])]))}}),Ue=R(he,[["__scopeId","data-v-b3a44f31"]]);export{Ue as default};
