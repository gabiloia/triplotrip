import{u as le,F as se,i as oe,a as re,b as ie,c as de,_ as ue}from"./BFhPV_yn.js";import{d as ce,z as ve,q as d,p as y,A as pe,C as L,D as me,E as H,c as h,o as v,e as o,w as u,a as c,g as w,u as s,G as fe,l as O,B as C,_ as E,b as ge,H as R,t as be,F as ye,r as we,f as Ce}from"./CKyhG2UO.js";import{S as xe}from"./GWXunN4M.js";import{u as ke}from"./B82JOCCa.js";import{D as De}from"./BS0L2-SF.js";import{N as _e}from"./C-0JdC7n.js";import{N as Te}from"./C4_bR07G.js";import{N as q,a as he}from"./B9eh-Yu0.js";import"./C2e_0_q3.js";import"./Dzlmnvt6.js";import"./BpgezKfx.js";import"./CfCkVGYS.js";import"./rCbTiIU5.js";import"./ec6Iqfcs.js";import"./F4ZwHvzw.js";import"./W-bRjs--.js";import"./mDk2CDXK.js";import"./DM6t9WNN.js";import"./BcBJlPXn.js";import"./DebijYNE.js";import"./BGhqEjLj.js";import"./DFYlfGDB.js";import"./DTn_UIPU.js";const Ee={class:"page page-wrapped page-mobile-full page-without-footer flex flex-col"},Se={class:"section section-calendar"},Ne={class:"section fullcalendar-actions-box"},ze={class:"calendars-list"},Me={class:"flex items-center gap-2"},Ve={class:"w-24"},Pe={key:0},$e="carbon:chevron-right",Ge="carbon:chevron-left",Fe="carbon:calendar-add",Be=ce({__name:"FullCalendar",setup(Ie){const n=le(),S=ve(),j={title:"",start:new Date().getTime(),end:new Date().getTime(),allDay:!1,extendedProps:{calendar:"Personal",location:"",description:""}},N=d(!1),p=d(!1),z=d(),M=d(),i=d(null),V=d(null),l=d(null),x=d(new Date),P=d(void 0),$=d(void 0),G=y({get:()=>P.value,set:e=>Z(e)}),J=[{value:"timeGridDay",label:"Day"},{value:"timeGridWeek",label:"Week"},{value:"listMonth",label:"List"},{value:"dayGridMonth",label:"Month"}];pe(()=>{L(()=>{const e=1e3*S.routerTransitionDuration;setTimeout(()=>{N.value=!0,L(()=>{var a;i.value=(a=z.value)==null?void 0:a.getApi(),F()})},e+500)})}),me(M,e=>{var r;const t=e[0],{width:a}=t.contentRect;p.value=a<600,(r=i.value)==null||r.updateSize()});function K(e){V.value=e}function F(){var e,t;P.value=(e=i.value)==null?void 0:e.view.type,$.value=(t=i.value)==null?void 0:t.view.title}function Q(e){var f,g;const{publicId:t,title:a,extendedProps:{calendar:r,location:m,description:k},allDay:D}=e._def,_=((f=e._instance)==null?void 0:f.range.start)||new Date,T=((g=e._instance)==null?void 0:g.range.end)||new Date;return{id:t,title:a,start:_,end:T,extendedProps:{calendar:r,location:m,description:k},allDay:D}}function X(e){var f,g;const{publicId:t,title:a,extendedProps:{calendar:r,location:m,description:k},allDay:D}=e._def,_=((f=e._instance)==null?void 0:f.range.start.getTime())||new Date().getTime(),T=((g=e._instance)==null?void 0:g.range.end.getTime())||new Date().getTime();return{id:t,title:a,start:_,end:T,extendedProps:{calendar:r,location:m,description:k},allDay:D}}const B=y({get:()=>n.selectedCalendars.length===n.availableCalendars.length,set:e=>{e?n.selectedCalendars=n.availableCalendars.map(t=>t.label):n.selectedCalendars.length===n.availableCalendars.length&&(n.selectedCalendars=[])}}),Y=y(()=>S.isThemeDark),I=y({get:()=>l.value!==null,set:()=>l.value=null});function U(e){var t,a,r;e==="next"&&((t=i.value)==null||t.next()),e==="prev"&&((a=i.value)==null||a.prev()),e==="today"&&((r=i.value)==null||r.today())}function Z(e){var t;(t=i.value)==null||t.changeView(e)}function ee(){l.value&&(l.value.id?n.updateEvent(l.value):n.addEvent(l.value),l.value=null,b())}function te(){l.value&&(l.value.id&&n.removeEvent(l.value.id),l.value=null,b())}function A({start:e,end:t}){l.value={...structuredClone(j),start:e||new Date().getTime(),end:t||new Date().getTime(),allDay:!0}}function b(){var e;(e=i.value)==null||e.refetchEvents()}function ae(){W(new Date)}function W(e,t){var a,r,m;(r=(a=V.value)==null?void 0:a.closeSidebar)==null||r.call(a),(m=i.value)==null||m.gotoDate(e)}const ne={plugins:[oe,re,ie,de],initialView:"dayGridMonth",headerToolbar:{start:"drawerToggler actionsToggler today",center:"prev,title,next",end:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},firstDay:1,forceEventDuration:!0,editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,events:(e,t)=>{if(!e)return;const a=n.fetchEvents();t(a)},eventClassNames({event:e}){return[`c-${e._def.extendedProps.calendar} styled`]},eventClick({event:e}){l.value=X(e)},dateClick(e){A({start:e.date.getTime(),end:e.date.getTime()})},eventDrop:({event:e})=>{e._instance&&(e._instance.range.start=e.start,e._instance.range.end=e.end);const t=Q(e);n.updateEvent(t),b()},datesSet(){F()}};return H(()=>n.selectedCalendars,b),H(x,e=>W(e)),ke(),(e,t)=>(v(),h("div",Ee,[o(xe,{"use-main-scroll":!1,"main-content-class":"h-full! p-0!","disable-container-query":"","enable-resize":"",onMounted:K},{"sidebar-content":u(()=>[c("div",Se,[o(s(De),{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=a=>x.value=a),expanded:"",borderless:"",transparent:"",locale:"en","first-day-of-week":2,"is-dark":Y.value},null,8,["modelValue","is-dark"])]),c("div",Ne,[t[10]||(t[10]=c("p",{class:"mb-3 opacity-50"},"Calendarios",-1)),c("div",ze,[o(s(q),{checked:B.value,"onUpdate:checked":t[1]||(t[1]=a=>B.value=a),label:"View all"},null,8,["checked"]),o(s(he),{value:s(n).selectedCalendars,"onUpdate:value":t[2]||(t[2]=a=>s(n).selectedCalendars=a),class:"flex flex-col"},{default:u(()=>[(v(!0),h(ye,null,we(s(n).availableCalendars,a=>(v(),w(s(q),{key:a.label,value:a.label,class:R(["styled",a.label]),label:a.label},null,8,["value","class","label"]))),128))]),_:1},8,["value"])])])]),"main-toolbar":u(()=>[c("div",Me,[c("div",Ve,[o(s(_e),{value:G.value,"onUpdate:value":t[3]||(t[3]=a=>G.value=a),size:p.value?"small":"medium",options:J,placeholder:""},null,8,["value","size"])]),c("div",null,[o(s(Te),{size:p.value?"small":"medium"},{default:u(()=>[o(s(C),{onClick:t[4]||(t[4]=a=>U("prev"))},{icon:u(()=>[o(E,{name:Ge,size:20})]),_:1}),o(s(C),{onClick:t[5]||(t[5]=a=>U("next"))},{icon:u(()=>[o(E,{name:$e,size:20})]),_:1}),p.value?O("",!0):(v(),w(s(C),{key:0,onClick:t[6]||(t[6]=a=>ae())},{default:u(()=>t[11]||(t[11]=[ge("Hoy")])),_:1}))]),_:1},8,["size"])]),c("div",{class:R(["current-date grow px-3 text-right",{compact:p.value}])},be($.value),3),p.value?O("",!0):(v(),h("div",Pe,[o(s(C),{type:"primary",onClick:t[7]||(t[7]=a=>A({}))},{icon:u(()=>[o(E,{name:Fe,size:20})]),_:1})]))])]),"main-content":u(()=>[c("div",{ref_key:"calWrap",ref:M,class:"main scrollbar-styled h-full"},[N.value?(v(),w(s(se),{key:0,ref_key:"refCalendar",ref:z,options:ne},null,512)):(v(),w(s(fe),{key:1,class:"h-full w-full"}))],512)]),_:1}),o(ue,{show:I.value,"onUpdate:show":t[8]||(t[8]=a=>I.value=a),event:l.value,"onUpdate:event":t[9]||(t[9]=a=>l.value=a),onSubmitEvent:ee,onDeleteEvent:te},null,8,["show","event"])]))}}),it=Ce(Be,[["__scopeId","data-v-4923e152"]]);export{it as default};
