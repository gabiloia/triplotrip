import{bM as m,bN as N,bO as S,d as I,b as w,a9 as z,bo as F,p as h}from"./CghEsQSB.js";import{f as L}from"./BO59WlhY.js";import{g as y,m as D,a as M,b as R,c as O,f as U}from"./BzTxODg_.js";function Y(t,a){const n=m(t),o=m(a),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}function Z(t){return a=>{const o=(t?Math[t]:Math.trunc)(a);return o===0?0:o}}function B(t,a,n){const o=N(),r=(n==null?void 0:n.locale)??o.locale??S,f=Y(t,a);if(isNaN(f))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:f});let c,d;f>0?(c=m(a),d=m(t)):(c=m(t),d=m(a));const e=Z((n==null?void 0:n.roundingMethod)??"round"),g=d.getTime()-c.getTime(),l=g/O,T=y(d)-y(c),v=(g-T)/O,x=n==null?void 0:n.unit;let u;if(x?u=x:l<1?u="second":l<60?u="minute":l<D?u="hour":v<M?u="day":v<R?u="month":u="year",u==="second"){const s=e(g/1e3);return r.formatDistance("xSeconds",s,i)}else if(u==="minute"){const s=e(l);return r.formatDistance("xMinutes",s,i)}else if(u==="hour"){const s=e(l/60);return r.formatDistance("xHours",s,i)}else if(u==="day"){const s=e(v/D);return r.formatDistance("xDays",s,i)}else if(u==="month"){const s=e(v/M);return s===12&&x!=="month"?r.formatDistance("xYears",1,i):r.formatDistance("xMonths",s,i)}else{const s=e(v/R);return r.formatDistance("xYears",s,i)}}function b(t){return m(t*1e3)}const _={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},E=I({name:"Time",props:_,setup(t){const a=Date.now(),{localeRef:n,dateLocaleRef:o}=F("Time"),r=h(()=>{const{timeZone:e}=t;return e?(g,l,T)=>L(g,e,l,T):U}),f=h(()=>({locale:o.value.locale})),i=h(()=>{const{time:e}=t;return t.unix?e===void 0?a:b(typeof e=="number"?e:e.valueOf()):e??a}),c=h(()=>{const{to:e}=t;return t.unix?e===void 0?a:b(typeof e=="number"?e:e.valueOf()):e??a});return{renderedTime:h(()=>t.format?r.value(i.value,t.format,f.value):t.type==="date"?r.value(i.value,n.value.dateFormat,f.value):t.type==="datetime"?r.value(i.value,n.value.dateTimeFormat,f.value):B(i.value,c.value,{addSuffix:!0,locale:o.value.locale}))}},render(){return this.text?w(this.renderedTime):z("time",[this.renderedTime])}});export{E as N};
