const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./DkSj3GC9.js","./4Xusbl9y.js","./k9NlCA2M.js","./BU9QL1D6.js","./entry.CtWbNfpj.css","./BB0NBLx1.js","./DnK2t797.js","./ClNUe3Ud.js","./L-I0I26w.js","./DErN6jjP.js","./DXncxzM1.js"])))=>i.map(i=>d[i]);
import{a4 as rt}from"./BU9QL1D6.js";const bi="revo-grid",xt={hydratedSelectorName:"hydrated",lazyLoad:!0,shadowDom:!1,slotRelocation:!0,updatable:!0};var Si=Object.defineProperty,Ei=(t,e)=>{for(var n in e)Si(t,n,{get:e[n],enumerable:!0})},Cf={isDev:!1},_i="http://www.w3.org/2000/svg",Oi="http://www.w3.org/1999/xhtml",ss=(t=>(t.Undefined="undefined",t.Null="null",t.String="string",t.Number="number",t.SpecialNumber="number",t.Boolean="boolean",t.BigInt="bigint",t))(ss||{}),is=(t=>(t.Array="array",t.Date="date",t.Map="map",t.Object="object",t.RegularExpression="regexp",t.Set="set",t.Channel="channel",t.Symbol="symbol",t))(is||{}),ee="type",ne="value",pe="serialized:",P=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},If=(t,e)=>{t.__stencil__getHostRef=()=>e,e.$lazyInstance$=t},Ti=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};n.$onInstancePromise$=new Promise(i=>n.$onInstanceResolve$=i),n.$onReadyPromise$=new Promise(i=>n.$onReadyResolve$=i),t["s-p"]=[],t["s-rc"]=[];const s=n;return t.__stencil__getHostRef=()=>s,s},fn=(t,e)=>e in t,D=(t,e)=>(0,console.error)(t,e),se=new Map,Ci=(t,e,n)=>{const s=t.$tagName$.replace(/-/g,"_"),i=t.$lazyBundleId$;if(!i)return;const r=se.get(i);if(r)return r[s];{const o=a=>(se.set(i,a),a[s]);switch(i){case"revo-grid":return rt(()=>import("./DkSj3GC9.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(o,D);case"revogr-filter-panel":return rt(()=>import("./BB0NBLx1.js"),__vite__mapDeps([5,3,4]),import.meta.url).then(o,D);case"revogr-attribution_7":return rt(()=>import("./DnK2t797.js"),__vite__mapDeps([6,2,1,7,3,4]),import.meta.url).then(o,D);case"revogr-clipboard_3":return rt(()=>import("./L-I0I26w.js"),__vite__mapDeps([8,3,4]),import.meta.url).then(o,D);case"revogr-data_4":return rt(()=>import("./DErN6jjP.js"),__vite__mapDeps([9,10,7,1,3,4]),import.meta.url).then(o,D)}}return rt(()=>import(`./${i}.entry.js`),[],import.meta.url).then(o=>(se.set(i,o),o[s]),o=>{D(o,e.$hostElement$)})},jt=new Map,Ii="r",xi="o",wi="s",Ri="t",Ai="c",bt="s-id",dn="sty-id",hn="c-id",rs="slot-fb{display:contents}slot-fb[hidden]{display:none}",gn="http://www.w3.org/1999/xlink",T=typeof window<"u"?window:{},S={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,s)=>t.addEventListener(e,n,s),rel:(t,e,n,s)=>t.removeEventListener(e,n,s),ce:(t,e)=>new CustomEvent(t,e)},Li=xt.shadowDom,Pi=(()=>{var t;let e=!1;try{(t=T.document)==null||t.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),Di=t=>Promise.resolve(t),os=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),ve=!1,pn=[],as=[],zi=(t,e)=>n=>{t.push(n),ve||(ve=!0,S.$flags$&4?Yt(me):S.raf(me))},vn=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){D(n)}t.length=0},me=()=>{vn(pn),vn(as),(ve=pn.length>0)&&S.raf(me)},Yt=t=>Di().then(t),Fi=zi(as),He=t=>(t=typeof t,t==="object"||t==="function");function ls(t){var e,n,s;return(s=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?s:void 0}var ji=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Mi=class Z{static fromLocalValue(e){const n=e[ee],s=ne in e?e[ne]:void 0;switch(n){case"string":return s;case"boolean":return s;case"bigint":return BigInt(s);case"undefined":return;case"null":return null;case"number":return s==="NaN"?NaN:s==="-0"?-0:s==="Infinity"?1/0:s==="-Infinity"?-1/0:s;case"array":return s.map(c=>Z.fromLocalValue(c));case"date":return new Date(s);case"map":const i=new Map;for(const[c,u]of s){const f=typeof c=="object"&&c!==null?Z.fromLocalValue(c):c,d=Z.fromLocalValue(u);i.set(f,d)}return i;case"object":const r={};for(const[c,u]of s)r[c]=Z.fromLocalValue(u);return r;case"regexp":const{pattern:o,flags:a}=s;return new RegExp(o,a);case"set":const l=new Set;for(const c of s)l.add(Z.fromLocalValue(c));return l;case"symbol":return Symbol(s);default:throw new Error(`Unsupported type: ${n}`)}}static fromLocalValueArray(e){return e.map(n=>Z.fromLocalValue(n))}static isLocalValueObject(e){if(typeof e!="object"||e===null||!e.hasOwnProperty(ee))return!1;const n=e[ee];return Object.values({...ss,...is}).includes(n)?n!=="null"&&n!=="undefined"?e.hasOwnProperty(ne):!0:!1}},Ni={};Ei(Ni,{err:()=>cs,map:()=>Bi,ok:()=>$e,unwrap:()=>Hi,unwrapErr:()=>Ui});var $e=t=>({isOk:!0,isErr:!1,value:t}),cs=t=>({isOk:!1,isErr:!0,value:t});function Bi(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(s=>$e(s)):$e(n)}if(t.isErr){const n=t.value;return cs(n)}throw"should never get here"}var Hi=t=>{if(t.isOk)return t.value;throw t.value},Ui=t=>{if(t.isErr)return t.value;throw t.value};function ki(t){return typeof t!="string"||!t.startsWith(pe)?t:Mi.fromLocalValue(JSON.parse(atob(t.slice(pe.length))))}var us=t=>{const e=Mt(t,"childNodes");t.tagName&&t.tagName.includes("-")&&t["s-cr"]&&t.tagName!=="SLOT-FB"&&fs(e,t.tagName).forEach(s=>{s.nodeType===1&&s.tagName==="SLOT-FB"&&(Wi(s,Ue(s),!1).length?s.hidden=!0:s.hidden=!1)});let n=0;for(n=0;n<e.length;n++){const s=e[n];s.nodeType===1&&Mt(s,"childNodes").length&&us(s)}},Gi=t=>{const e=[];for(let n=0;n<t.length;n++){const s=t[n]["s-nr"]||void 0;s&&s.isConnected&&e.push(s)}return e};function fs(t,e,n){let s=0,i=[],r;for(;s<t.length;s++)r=t[s],r["s-sr"]&&(!e||r["s-hn"]===e)&&n===void 0&&i.push(r),i=[...i,...fs(r.childNodes,e,n)];return i}var Wi=(t,e,n=!0)=>{const s=[];(n&&t["s-sr"]||!t["s-sr"])&&s.push(t);let i=t;for(;i=i.nextSibling;)Ue(i)===e&&(n||!i["s-sr"])&&s.push(i);return s},mn=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",Ki=(t,e,n,s)=>{if(t["s-ol"]&&t["s-ol"].isConnected)return;const i=document.createTextNode("");if(i["s-nr"]=t,!e["s-cr"]||!e["s-cr"].parentNode)return;const r=e["s-cr"].parentNode,o=Mt(r,"appendChild");if(typeof s<"u"){i["s-oo"]=s;const a=Mt(r,"childNodes"),l=[i];a.forEach(c=>{c["s-nr"]&&l.push(c)}),l.sort((c,u)=>!c["s-oo"]||c["s-oo"]<(u["s-oo"]||0)?-1:!u["s-oo"]||u["s-oo"]<c["s-oo"]?1:0),l.forEach(c=>o.call(r,c))}else o.call(r,i);t["s-ol"]=i,t["s-sh"]=e["s-hn"]},Ue=t=>typeof t["s-sn"]=="string"?t["s-sn"]:t.nodeType===1&&t.getAttribute("slot")||void 0;function ds(t){if(t.assignedElements||t.assignedNodes||!t["s-sr"])return;const e=n=>(function(s){const i=[],r=this["s-sn"];s!=null&&s.flatten&&console.error(`
          Flattening is not supported for Stencil non-shadow slots. 
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);const o=this["s-cr"].parentElement;return(o.__childNodes?o.childNodes:Gi(o.childNodes)).forEach(l=>{r===Ue(l)&&i.push(l)}),n?i.filter(l=>l.nodeType===1):i}).bind(t);t.assignedElements=e(!0),t.assignedNodes=e(!1)}function Mt(t,e){if("__"+e in t){const n=t["__"+e];return typeof n!="function"?n:n.bind(t)}else return typeof t[e]!="function"?t[e]:t[e].bind(t)}var j=(t,e="")=>()=>{},Xi=(t,e)=>()=>{},x=(t,e,...n)=>{let s=null,i=null,r=null,o=!1,a=!1;const l=[],c=f=>{for(let d=0;d<f.length;d++)s=f[d],Array.isArray(s)?c(s):s!=null&&typeof s!="boolean"&&((o=typeof t!="function"&&!He(s))&&(s=String(s)),o&&a?l[l.length-1].$text$+=s:l.push(o?gt(null,s):s),a=o)};if(c(n),e){e.key&&(i=e.key),e.name&&(r=e.name);{const f=e.className||e.class;f&&(e.class=typeof f!="object"?f:Object.keys(f).filter(d=>f[d]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,Zi);const u=gt(t,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=i,u.$name$=r,u},gt=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},Yi={},qi=t=>t&&t.$tag$===Yi,Zi={forEach:(t,e)=>t.map($n).forEach(e),map:(t,e)=>t.map($n).map(e).map(Ji)},$n=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),Ji=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),x(t.vtag,n,...t.vchildren||[])}const e=gt(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},Qi=(t,e,n,s)=>{var i;const r=j("hydrateClient",e),o=t.shadowRoot,a=[],l=[],c=[],u=null,f=gt(e,null);f.$elm$=t,Object.entries(((i=s.$cmpMeta$)==null?void 0:i.$members$)||{}).forEach(([_,[R,N]])=>{var wt;if(!(R&31))return;const $i=N||_,un=t.getAttribute($i);if(un!==null){const yi=Nt(un,R);(wt=s==null?void 0:s.$instanceValues$)==null||wt.set(_,yi)}}),T.document&&(!S.$orgLocNodes$||!S.$orgLocNodes$.size)&&be(T.document.body,S.$orgLocNodes$=new Map),t[bt]=n,t.removeAttribute(bt),s.$vnode$=ye(f,a,l,u,t,t,n,c);let h=0;const g=a.length;let p;for(h;h<g;h++){p=a[h];const _=p.$hostId$+"."+p.$nodeId$,R=S.$orgLocNodes$.get(_),N=p.$elm$;o||(N["s-hn"]=e.toUpperCase(),p.$tag$==="slot"&&(N["s-cr"]=t["s-cr"])),p.$tag$==="slot"&&(p.$name$=p.$elm$["s-sn"]||p.$elm$.name||null,p.$children$?(p.$flags$|=2,p.$elm$.childNodes.length||p.$children$.forEach(wt=>{p.$elm$.appendChild(wt.$elm$)})):p.$flags$|=1),R&&R.isConnected&&(o&&R["s-en"]===""&&R.parentNode.insertBefore(N,R.nextSibling),R.parentNode.removeChild(R),o||(N["s-oo"]=parseInt(p.$nodeId$))),S.$orgLocNodes$.delete(_)}const v=[],m=c.length;let E=0,I,y,w,$;for(E;E<m;E++)if(I=c[E],!(!I||!I.length))for(w=I.length,y=0,y;y<w;y++){if($=I[y],v[$.hostId]||(v[$.hostId]=S.$orgLocNodes$.get($.hostId)),!v[$.hostId])continue;const _=v[$.hostId];(!_.shadowRoot||!o)&&($.slot["s-cr"]=_["s-cr"],!$.slot["s-cr"]&&_.shadowRoot?$.slot["s-cr"]=_:$.slot["s-cr"]=(_.__childNodes||_.childNodes)[0],Ki($.node,$.slot,!1,$.node["s-oo"])),_.shadowRoot&&$.node.parentElement!==_&&_.appendChild($.node)}S.$orgLocNodes$.delete(t["s-id"]),s.$hostElement$=t,r()},ye=(t,e,n,s,i,r,o,a=[])=>{let l,c,u,f;if(r.nodeType===1){if(l=r.getAttribute(hn),l&&(c=l.split("."),c[0]===o||c[0]==="0")){u=yn({$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:r.tagName.toLowerCase(),$elm$:r,$attrs$:{class:r.className||""}}),e.push(u),r.removeAttribute(hn),t.$children$||(t.$children$=[]);const h=u.$elm$.getAttribute("s-sn");typeof h=="string"&&(u.$tag$==="slot-fb"&&bn(h,c[2],u,r,t,e,n,s,a),u.$elm$["s-sn"]=h,u.$elm$.removeAttribute("s-sn")),u.$index$!==void 0&&(t.$children$[u.$index$]=u),t=u}if(r.shadowRoot)for(f=r.shadowRoot.childNodes.length-1;f>=0;f--)ye(t,e,n,s,i,r.shadowRoot.childNodes[f],o,a);const d=r.__childNodes||r.childNodes;for(f=d.length-1;f>=0;f--)ye(t,e,n,s,i,d[f],o,a)}else if(r.nodeType===8){if(c=r.nodeValue.split("."),c[1]===o||c[1]==="0"){if(l=c[0],u=yn({$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4]||"0",$elm$:r,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),l===Ri)u.$elm$=Sn(r,3),u.$elm$&&u.$elm$.nodeType===3&&(u.$text$=u.$elm$.textContent,e.push(u),r.remove(),o===u.$hostId$&&(t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u));else if(l===Ai)u.$elm$=Sn(r,8),u.$elm$&&u.$elm$.nodeType===8&&(e.push(u),r.remove());else if(u.$hostId$===o)if(l===wi){const d=r["s-sn"]=c[5]||"";bn(d,c[2],u,r,t,e,n,s,a)}else l===Ii&&(i["s-cr"]=r,r["s-cn"]=!0)}}else if(t&&t.$tag$==="style"){const d=gt(null,r.textContent);d.$elm$=r,d.$index$="0",t.$children$=[d]}else r.nodeType===3&&!r.wholeText.trim()&&r.remove();return t},be=(t,e)=>{if(t.nodeType===1){const n=t[bt]||t.getAttribute(bt);n&&e.set(n,t);let s=0;if(t.shadowRoot)for(;s<t.shadowRoot.childNodes.length;s++)be(t.shadowRoot.childNodes[s],e);const i=t.__childNodes||t.childNodes;for(s=0;s<i.length;s++)be(i[s],e)}else if(t.nodeType===8){const n=t.nodeValue.split(".");n[0]===xi&&(e.set(n[1]+"."+n[2],t),t.nodeValue="",t["s-en"]=n[3])}},yn=t=>({...{$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},...t});function bn(t,e,n,s,i,r,o,a,l){s["s-sr"]=!0,n.$name$=t||null,n.$tag$="slot";const c=i!=null&&i.$elm$?i.$elm$["s-id"]||i.$elm$.getAttribute("s-id"):"";{const u=n.$elm$,f=c&&c!==n.$hostId$&&i.$elm$.shadowRoot;Vi(l,e,t,s,f?c:n.$hostId$),ds(s),f&&i.$elm$.insertBefore(u,i.$elm$.children[0]),r.push(n)}o.push(n),i.$children$||(i.$children$=[]),i.$children$[n.$index$]=n}var Vi=(t,e,n,s,i)=>{let r=s.nextSibling;for(t[e]=t[e]||[];r&&((r.getAttribute&&r.getAttribute("slot")||r["s-sn"])===n||n===""&&!r["s-sn"]&&(r.nodeType===8&&r.nodeValue.indexOf(".")!==1||r.nodeType===3));)r["s-sn"]=n,t[e].push({slot:s,node:r,hostId:i}),r=r.nextSibling},Sn=(t,e)=>{let n=t;do n=n.nextSibling;while(n&&(n.nodeType!==e||!n.nodeValue));return n},ke=t=>{const e=ji(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};ke("::slotted");ke(":host");ke(":host-context");var Nt=(t,e)=>{if(typeof t=="string"&&(t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")))try{return t=JSON.parse(t),t}catch{}return typeof t=="string"&&t.startsWith(pe)?(t=ki(t),t):t!=null&&!He(t)?e&4?t==="false"?!1:t===""||!!t:e&2?typeof t=="string"?parseFloat(t):typeof t=="number"?t:NaN:e&1?String(t):t:t},tr=t=>P(t).$hostElement$,xf=(t,e,n)=>{const s=tr(t);return{emit:i=>hs(s,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},hs=(t,e,n)=>{const s=S.ce(e,n);return t.dispatchEvent(s),s},ut=new WeakMap,er=(t,e,n)=>{let s=jt.get(t);os&&n?(s=s||new CSSStyleSheet,typeof s=="string"?s=e:s.replaceSync(e)):s=e,jt.set(t,s)},nr=(t,e,n)=>{var s;const i=gs(e),r=jt.get(i);if(!T.document)return i;if(t=t.nodeType===11?t:T.document,r)if(typeof r=="string"){t=t.head||t;let o=ut.get(t),a;if(o||ut.set(t,o=new Set),!o.has(i)){if(t.host&&(a=t.querySelector(`[${dn}="${i}"]`)))a.innerHTML=r;else{a=document.querySelector(`[${dn}="${i}"]`)||T.document.createElement("style"),a.innerHTML=r;const l=(s=S.$nonce$)!=null?s:ls(T.document);if(l!=null&&a.setAttribute("nonce",l),!(e.$flags$&1))if(t.nodeName==="HEAD"){const c=t.querySelectorAll("link[rel=preconnect]"),u=c.length>0?c[c.length-1].nextSibling:t.querySelector("style");t.insertBefore(a,(u==null?void 0:u.parentNode)===t?u:null)}else if("host"in t)if(os){const c=new CSSStyleSheet;c.replaceSync(r),t.adoptedStyleSheets=[c,...t.adoptedStyleSheets]}else{const c=t.querySelector("style");c?c.innerHTML=r+c.innerHTML:t.prepend(a)}else t.append(a);e.$flags$&1&&t.insertBefore(a,null)}e.$flags$&4&&(a.innerHTML+=rs),o&&o.add(i)}}else t.adoptedStyleSheets.includes(r)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,r]);return i},sr=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,s=j("attachStyles",e.$tagName$);nr(n.getRootNode(),e),s()},gs=(t,e)=>"sc-"+t.$tagName$,En=(t,e,n,s,i,r,o)=>{if(n===s)return;let a=fn(t,e),l=e.toLowerCase();if(e==="class"){const c=t.classList,u=_n(n);let f=_n(s);t["s-si"]&&o?(f.push(t["s-si"]),u.forEach(d=>{d.startsWith(t["s-si"])&&f.push(d)}),f=[...new Set(f)],c.add(...f)):(c.remove(...u.filter(d=>d&&!f.includes(d))),c.add(...f.filter(d=>d&&!u.includes(d))))}else if(e==="style"){for(const c in n)(!s||s[c]==null)&&(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in s)(!n||s[c]!==n[c])&&(c.includes("-")?t.style.setProperty(c,s[c]):t.style[c]=s[c])}else if(e!=="key")if(e==="ref")s&&s(t);else if(!a&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):fn(T,l)?e=l.slice(2):e=l[2]+e.slice(3),n||s){const c=e.endsWith(ps);e=e.replace(rr,""),n&&S.rel(t,e,n,c),s&&S.ael(t,e,s,c)}}else{const c=He(s);if((a||c&&s!==null)&&!i)try{if(t.tagName.includes("-"))t[e]!==s&&(t[e]=s);else{const f=s??"";e==="list"?a=!1:(n==null||t[e]!=f)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=f:t.setAttribute(e,f))}}catch{}let u=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(e=l,u=!0),s==null||s===!1?(s!==!1||t.getAttribute(e)==="")&&(u?t.removeAttributeNS(gn,e):t.removeAttribute(e)):(!a||r&4||i)&&!c&&t.nodeType===1&&(s=s===!0?"":s,u?t.setAttributeNS(gn,e,s):t.setAttribute(e,s))}},ir=/\s/,_n=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(ir)),ps="Capture",rr=new RegExp(ps+"$"),Se=(t,e,n,s)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,r=t&&t.$attrs$||{},o=e.$attrs$||{};for(const a of On(Object.keys(r)))a in o||En(i,a,r[a],void 0,n,e.$flags$,s);for(const a of On(Object.keys(o)))En(i,a,r[a],o[a],n,e.$flags$,s)};function On(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Ee,Ge,_e=!1,Bt=!1,We=!1,A=!1,Ht=(t,e,n)=>{var s;const i=e.$children$[n];let r=0,o,a,l;if(_e||(We=!0,i.$tag$==="slot"&&(i.$flags$|=i.$children$?2:1)),i.$text$!==null)o=i.$elm$=T.document.createTextNode(i.$text$);else if(i.$flags$&1)o=i.$elm$=T.document.createTextNode(""),Se(null,i,A);else{if(A||(A=i.$tag$==="svg"),!T.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(o=i.$elm$=T.document.createElementNS(A?_i:Oi,!_e&&xt.slotRelocation&&i.$flags$&2?"slot-fb":i.$tag$),A&&i.$tag$==="foreignObject"&&(A=!1),Se(null,i,A),i.$children$)for(r=0;r<i.$children$.length;++r)a=Ht(t,i,r),a&&o.appendChild(a);i.$tag$==="svg"?A=!1:o.tagName==="foreignObject"&&(A=!0)}return o["s-hn"]=Ge,i.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=Ee,o["s-sn"]=i.$name$||"",o["s-rf"]=(s=i.$attrs$)==null?void 0:s.ref,ds(o),l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===i.$tag$&&t.$elm$&&St(t.$elm$,!1)),o},St=(t,e)=>{S.$flags$|=1;const n=Array.from(t.__childNodes||t.childNodes);for(let s=n.length-1;s>=0;s--){const i=n[s];i["s-hn"]!==Ge&&i["s-ol"]&&(K(Et(i).parentNode,i,Et(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,We=!0),e&&St(i,e)}S.$flags$&=-2},vs=(t,e,n,s,i,r)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(;i<=r;++i)s[i]&&(a=Ht(null,n,i),a&&(s[i].$elm$=a,K(o,a,Et(e))))},ms=(t,e,n)=>{for(let s=e;s<=n;++s){const i=t[s];if(i){const r=i.$elm$;ys(i),r&&(Bt=!0,r["s-ol"]?r["s-ol"].remove():St(r,!0),r.remove())}}},or=(t,e,n,s,i=!1)=>{let r=0,o=0,a=0,l=0,c=e.length-1,u=e[0],f=e[c],d=s.length-1,h=s[0],g=s[d],p,v;for(;r<=c&&o<=d;)if(u==null)u=e[++r];else if(f==null)f=e[--c];else if(h==null)h=s[++o];else if(g==null)g=s[--d];else if(Rt(u,h,i))lt(u,h,i),u=e[++r],h=s[++o];else if(Rt(f,g,i))lt(f,g,i),f=e[--c],g=s[--d];else if(Rt(u,g,i))(u.$tag$==="slot"||g.$tag$==="slot")&&St(u.$elm$.parentNode,!1),lt(u,g,i),K(t,u.$elm$,f.$elm$.nextSibling),u=e[++r],g=s[--d];else if(Rt(f,h,i))(u.$tag$==="slot"||g.$tag$==="slot")&&St(f.$elm$.parentNode,!1),lt(f,h,i),K(t,f.$elm$,u.$elm$),f=e[--c],h=s[++o];else{for(a=-1,l=r;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===h.$key$){a=l;break}a>=0?(v=e[a],v.$tag$!==h.$tag$?p=Ht(e&&e[o],n,a):(lt(v,h,i),e[a]=void 0,p=v.$elm$),h=s[++o]):(p=Ht(e&&e[o],n,o),h=s[++o]),p&&K(Et(u.$elm$).parentNode,p,Et(u.$elm$))}r>c?vs(t,s[d+1]==null?null:s[d+1].$elm$,n,s,o,d):o>d&&ms(e,r,c)},Rt=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Et=t=>t&&t["s-ol"]||t,lt=(t,e,n=!1)=>{const s=e.$elm$=t.$elm$,i=t.$children$,r=e.$children$,o=e.$tag$,a=e.$text$;let l;a===null?(A=o==="svg"?!0:o==="foreignObject"?!1:A,Se(t,e,A,n),i!==null&&r!==null?or(s,i,e,r,n):r!==null?(t.$text$!==null&&(s.textContent=""),vs(s,null,e,r,0,r.length-1)):!n&&xt.updatable&&i!==null&&ms(i,0,i.length-1),A&&o==="svg"&&(A=!1)):(l=s["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(s.data=a)},B=[],$s=t=>{let e,n,s;const i=t.__childNodes||t.childNodes;for(const r of i){if(r["s-sr"]&&(e=r["s-cr"])&&e.parentNode){n=e.parentNode.__childNodes||e.parentNode.childNodes;const o=r["s-sn"];for(s=n.length-1;s>=0;s--)if(e=n[s],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==r["s-hn"])if(mn(e,o)){let a=B.find(l=>l.$nodeToRelocate$===e);Bt=!0,e["s-sn"]=e["s-sn"]||o,a?(a.$nodeToRelocate$["s-sh"]=r["s-hn"],a.$slotRefNode$=r):(e["s-sh"]=r["s-hn"],B.push({$slotRefNode$:r,$nodeToRelocate$:e})),e["s-sr"]&&B.map(l=>{mn(l.$nodeToRelocate$,e["s-sn"])&&(a=B.find(c=>c.$nodeToRelocate$===e),a&&!l.$slotRefNode$&&(l.$slotRefNode$=a.$slotRefNode$))})}else B.some(a=>a.$nodeToRelocate$===e)||B.push({$nodeToRelocate$:e})}r.nodeType===1&&$s(r)}},ys=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(ys)},K=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),ar=(t,e,n=!1)=>{var s,i,r,o;const a=t.$hostElement$,l=t.$cmpMeta$,c=t.$vnode$||gt(null,null),f=qi(e)?e:x(null,null,e);if(Ge=a.tagName,l.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},l.$attrsToReflect$.map(([d,h])=>f.$attrs$[h]=a[d])),n&&f.$attrs$)for(const d of Object.keys(f.$attrs$))a.hasAttribute(d)&&!["key","ref","style","class"].includes(d)&&(f.$attrs$[d]=a[d]);f.$tag$=null,f.$flags$|=4,t.$vnode$=f,f.$elm$=c.$elm$=a,_e=Li,Ee=a["s-cr"],Bt=!1,lt(c,f,n);{if(S.$flags$|=1,We){$s(f.$elm$);for(const d of B){const h=d.$nodeToRelocate$;if(!h["s-ol"]&&T.document){const g=T.document.createTextNode("");g["s-nr"]=h,K(h.parentNode,h["s-ol"]=g,h)}}for(const d of B){const h=d.$nodeToRelocate$,g=d.$slotRefNode$;if(g){const p=g.parentNode;let v=g.nextSibling;{let I=(s=h["s-ol"])==null?void 0:s.previousSibling;for(;I;){let y=(i=I["s-nr"])!=null?i:null;if(y&&y["s-sn"]===h["s-sn"]&&p===(y.__parentNode||y.parentNode)){for(y=y.nextSibling;y===h||y!=null&&y["s-sr"];)y=y==null?void 0:y.nextSibling;if(!y||!y["s-nr"]){v=y;break}}I=I.previousSibling}}const m=h.__parentNode||h.parentNode,E=h.__nextSibling||h.nextSibling;(!v&&p!==m||E!==v)&&h!==v&&(!h["s-hn"]&&h["s-ol"]&&(h["s-hn"]=h["s-ol"].parentNode.nodeName),K(p,h,v),h.nodeType===1&&h.tagName!=="SLOT-FB"&&(h.hidden=(r=h["s-ih"])!=null?r:!1)),h&&typeof g["s-rf"]=="function"&&g["s-rf"](g)}else h.nodeType===1&&(n&&(h["s-ih"]=(o=h.hidden)!=null?o:!1),h.hidden=!0)}}Bt&&us(f.$elm$),S.$flags$&=-2,B.length=0}Ee=void 0},bs=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(s=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),s()}))}},qt=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return bs(t,t.$ancestorComponent$),Fi(()=>lr(t,e))},lr=(t,e)=>{const n=t.$hostElement$,s=j("scheduleUpdate",t.$cmpMeta$.$tagName$),i=t.$lazyInstance$;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let r;return e?(t.$flags$|=256,t.$queuedListeners$&&(t.$queuedListeners$.map(([o,a])=>U(i,o,a,n)),t.$queuedListeners$=void 0),r=U(i,"componentWillLoad",void 0,n)):r=U(i,"componentWillUpdate",void 0,n),r=Tn(r,()=>U(i,"componentWillRender",void 0,n)),s(),Tn(r,()=>ur(t,i,e))},Tn=(t,e)=>cr(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),cr=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",ur=async(t,e,n)=>{var s;const i=t.$hostElement$,r=j("update",t.$cmpMeta$.$tagName$),o=i["s-rc"];n&&sr(t);const a=j("render",t.$cmpMeta$.$tagName$);fr(t,e,i,n),o&&(o.map(l=>l()),i["s-rc"]=void 0),a(),r();{const l=(s=i["s-p"])!=null?s:[],c=()=>dr(t);l.length===0?c():(Promise.all(l).then(c),t.$flags$|=4,l.length=0)}},Oe=null,fr=(t,e,n,s)=>{try{Oe=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,ar(t,e,s)}catch(i){D(i,t.$hostElement$)}return Oe=null,null},Cn=()=>Oe,dr=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,s=j("postUpdate",e),i=t.$lazyInstance$,r=t.$ancestorComponent$;U(i,"componentDidRender",void 0,n),t.$flags$&64?(U(i,"componentDidUpdate",void 0,n),s()):(t.$flags$|=64,hr(n),U(i,"componentDidLoad",void 0,n),s(),t.$onReadyResolve$(n),r||Ss()),t.$onInstanceResolve$(n),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&Yt(()=>qt(t,!1)),t.$flags$&=-517},In=t=>{{const e=P(t),n=e.$hostElement$.isConnected;return n&&(e.$flags$&18)===2&&qt(e,!1),n}},Ss=t=>{Yt(()=>hs(T,"appload",{detail:{namespace:bi}}))},U=(t,e,n,s)=>{if(t&&t[e])try{return t[e](n)}catch(i){D(i,s)}},hr=t=>{var e;return t.classList.add((e=xt.hydratedSelectorName)!=null?e:"hydrated")},gr=(t,e)=>P(t).$instanceValues$.get(e),ie=(t,e,n,s)=>{const i=P(t);if(!i)throw new Error(`Couldn't find host element for "${s.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const r=i.$hostElement$,o=i.$instanceValues$.get(e),a=i.$flags$,l=i.$lazyInstance$;n=Nt(n,s.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(n),u=n!==o&&!c;if((!(a&8)||o===void 0)&&u&&(i.$instanceValues$.set(e,n),l)){if(s.$watchers$&&a&128){const f=s.$watchers$[e];f&&f.map(d=>{try{l[d](n,o,e)}catch(h){D(h,r)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,e)===!1)return;qt(i,!1)}}},Es=(t,e,n)=>{var s,i;const r=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((s=e.$members$)!=null?s:{});if(o.map(([a,[l]])=>{if(l&31||n&2&&l&32){const{get:c,set:u}=Object.getOwnPropertyDescriptor(r,a)||{};c&&(e.$members$[a][0]|=2048),u&&(e.$members$[a][0]|=4096),(n&1||!c)&&Object.defineProperty(r,a,{get(){{if((e.$members$[a][0]&2048)===0)return gr(this,a);const f=P(this),d=f?f.$lazyInstance$:r;return d?d[a]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(r,a,{set(f){const d=P(this);if(u){const h=l&32?this[a]:d.$hostElement$[a];typeof h>"u"&&d.$instanceValues$.get(a)?f=d.$instanceValues$.get(a):!d.$instanceValues$.get(a)&&h&&d.$instanceValues$.set(a,h),u.apply(this,[Nt(f,l)]),f=l&32?this[a]:d.$hostElement$[a],ie(this,a,f,e);return}{if((n&1)===0||(e.$members$[a][0]&4096)===0){ie(this,a,f,e),n&1&&!d.$lazyInstance$&&d.$onReadyPromise$.then(()=>{e.$members$[a][0]&4096&&d.$lazyInstance$[a]!==d.$instanceValues$.get(a)&&(d.$lazyInstance$[a]=f)});return}const h=()=>{const g=d.$lazyInstance$[a];!d.$instanceValues$.get(a)&&g&&d.$instanceValues$.set(a,g),d.$lazyInstance$[a]=Nt(f,l),ie(this,a,d.$lazyInstance$[a],e)};d.$lazyInstance$?h():d.$onReadyPromise$.then(()=>h())}}})}else n&1&&l&64&&Object.defineProperty(r,a,{value(...c){var u;const f=P(this);return(u=f==null?void 0:f.$onInstancePromise$)==null?void 0:u.then(()=>{var d;return(d=f.$lazyInstance$)==null?void 0:d[a](...c)})}})}),n&1){const a=new Map;r.attributeChangedCallback=function(l,c,u){S.jmp(()=>{var f;const d=a.get(l);if(this.hasOwnProperty(d)&&xt.lazyLoad)u=this[d],delete this[d];else{if(r.hasOwnProperty(d)&&typeof this[d]=="number"&&this[d]==u)return;if(d==null){const g=P(this),p=g==null?void 0:g.$flags$;if(p&&!(p&8)&&p&128&&u!==c){const v=g.$lazyInstance$,m=(f=e.$watchers$)==null?void 0:f[l];m==null||m.forEach(E=>{v[E]!=null&&v[E].call(v,u,c,l)})}return}}const h=Object.getOwnPropertyDescriptor(r,d);u=u===null&&typeof this[d]=="boolean"?!1:u,u!==this[d]&&(!h.get||h.set)&&(this[d]=u)})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([l,c])=>c[0]&15).map(([l,c])=>{var u;const f=c[1]||l;return a.set(f,l),c[0]&512&&((u=e.$attrsToReflect$)==null||u.push([l,f])),f})]))}}return t},pr=async(t,e,n,s)=>{let i;if((e.$flags$&32)===0){if(e.$flags$|=32,n.$lazyBundleId$){const l=Ci(n,e);if(l&&"then"in l){const u=Xi();i=await l,u()}else i=l;if(!i)throw new Error(`Constructor for "${n.$tagName$}#${e.$modeName$}" was not found`);i.isProxied||(n.$watchers$=i.watchers,Es(i,n,2),i.isProxied=!0);const c=j("createInstance",n.$tagName$);e.$flags$|=8;try{new i(e)}catch(u){D(u,t)}e.$flags$&=-9,e.$flags$|=128,c(),Te(e.$lazyInstance$,t)}else{i=t.constructor;const l=t.localName;customElements.whenDefined(l).then(()=>e.$flags$|=128)}if(i&&i.style){let l;typeof i.style=="string"&&(l=i.style);const c=gs(n);if(!jt.has(c)){const u=j("registerStyles",n.$tagName$);er(c,l,!!(n.$flags$&1)),u()}}}const r=e.$ancestorComponent$,o=()=>qt(e,!0);r&&r["s-rc"]?r["s-rc"].push(o):o()},Te=(t,e)=>{U(t,"connectedCallback",void 0,e)},vr=t=>{if((S.$flags$&1)===0){const e=P(t),n=e.$cmpMeta$,s=j("connectedCallback",n.$tagName$);if(e.$flags$&1)_s(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?Te(e.$lazyInstance$,t):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Te(e.$lazyInstance$,t));else{e.$flags$|=1;let i;i=t.getAttribute(bt),i&&Qi(t,n.$tagName$,i,e),i||n.$flags$&12&&mr(t);{let r=t;for(;r=r.parentNode||r.host;)if(r.nodeType===1&&r.hasAttribute("s-id")&&r["s-p"]||r["s-p"]){bs(e,e.$ancestorComponent$=r);break}}n.$members$&&Object.entries(n.$members$).map(([r,[o]])=>{if(o&31&&t.hasOwnProperty(r)){const a=t[r];delete t[r],t[r]=a}}),Yt(()=>pr(t,e,n))}s()}},mr=t=>{if(!T.document)return;const e=t["s-cr"]=T.document.createComment("");e["s-cn"]=!0,K(t,e,t.firstChild)},xn=(t,e)=>{U(t,"disconnectedCallback",void 0,e||t)},$r=async t=>{if((S.$flags$&1)===0){const e=P(t);e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0),e!=null&&e.$lazyInstance$?xn(e.$lazyInstance$,t):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>xn(e.$lazyInstance$,t))}ut.has(t)&&ut.delete(t),t.shadowRoot&&ut.has(t.shadowRoot)&&ut.delete(t.shadowRoot)},wf=(t,e={})=>{var n;if(!T.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const s=j(),i=[],r=e.exclude||[],o=T.customElements,a=T.document.head,l=a.querySelector("meta[charset]"),c=T.document.createElement("style"),u=[];let f,d=!0;Object.assign(S,e),S.$resourcesUrl$=new URL(e.resourcesUrl||"./",T.document.baseURI).href,S.$flags$|=2;let h=!1;if(t.map(g=>{g[1].map(p=>{var v;const m={$flags$:p[0],$tagName$:p[1],$members$:p[2],$listeners$:p[3]};m.$flags$&4&&(h=!0),m.$members$=p[2],m.$listeners$=p[3],m.$attrsToReflect$=[],m.$watchers$=(v=p[4])!=null?v:{};const E=m.$tagName$,I=class extends HTMLElement{constructor(y){super(y),this.hasRegisteredEventListeners=!1,y=this,Ti(y,m)}connectedCallback(){const y=P(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,_s(this,y,m.$listeners$)),f&&(clearTimeout(f),f=null),d?u.push(this):S.jmp(()=>vr(this))}disconnectedCallback(){S.jmp(()=>$r(this)),S.raf(()=>{var y;const w=P(this),$=u.findIndex(_=>_===this);$>-1&&u.splice($,1),((y=w==null?void 0:w.$vnode$)==null?void 0:y.$elm$)instanceof Node&&!w.$vnode$.$elm$.isConnected&&delete w.$vnode$.$elm$})}componentOnReady(){return P(this).$onReadyPromise$}};m.$lazyBundleId$=g[0],!r.includes(E)&&!o.get(E)&&(i.push(E),o.define(E,Es(I,m,1)))})}),i.length>0&&(h&&(c.textContent+=rs),c.innerHTML.length)){c.setAttribute("data-styles","");const g=(n=S.$nonce$)!=null?n:ls(T.document);g!=null&&c.setAttribute("nonce",g),a.insertBefore(c,l?l.nextSibling:a.firstChild)}d=!1,u.length?u.map(g=>g.connectedCallback()):S.jmp(()=>f=setTimeout(Ss,30)),s()},_s=(t,e,n,s)=>{n&&T.document&&n.map(([i,r,o])=>{const a=br(T.document,t,i),l=yr(e,o),c=Sr(i);S.ael(a,r,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>S.rel(a,r,l,c))})},yr=(t,e)=>n=>{var s;try{t.$flags$&256?(s=t.$lazyInstance$)==null||s[e](n):(t.$queuedListeners$=t.$queuedListeners$||[]).push([e,n])}catch(i){D(i,t.$hostElement$)}},br=(t,e,n)=>n&4?t:e,Sr=t=>Pi?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,Rf=t=>S.$nonce$=t;/*!
 * Built by Revolist OU ❤️
 */var Os=typeof global=="object"&&global&&global.Object===Object&&global,Er=typeof self=="object"&&self&&self.Object===Object&&self,M=Os||Er||Function("return this")(),X=M.Symbol,Ts=Object.prototype,_r=Ts.hasOwnProperty,Or=Ts.toString,mt=X?X.toStringTag:void 0;function Tr(t){var e=_r.call(t,mt),n=t[mt];try{t[mt]=void 0;var s=!0}catch{}var i=Or.call(t);return s&&(e?t[mt]=n:delete t[mt]),i}var Cr=Object.prototype,Ir=Cr.toString;function xr(t){return Ir.call(t)}var wr="[object Null]",Rr="[object Undefined]",wn=X?X.toStringTag:void 0;function nt(t){return t==null?t===void 0?Rr:wr:wn&&wn in Object(t)?Tr(t):xr(t)}function Q(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function V(t){return t!=null&&typeof t=="object"}var Ar="[object Symbol]";function tt(t){return typeof t=="symbol"||V(t)&&nt(t)==Ar}var Lr=/\s/;function Pr(t){for(var e=t.length;e--&&Lr.test(t.charAt(e)););return e}var Dr=/^\s+/;function zr(t){return t&&t.slice(0,Pr(t)+1).replace(Dr,"")}var Rn=NaN,Fr=/^[-+]0x[0-9a-f]+$/i,jr=/^0b[01]+$/i,Mr=/^0o[0-7]+$/i,Nr=parseInt;function Ce(t){if(typeof t=="number")return t;if(tt(t))return Rn;if(Q(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Q(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zr(t);var n=jr.test(t);return n||Mr.test(t)?Nr(t.slice(2),n?2:8):Fr.test(t)?Rn:+t}var re=function(){return M.Date.now()},Br="Expected a function",Hr=Math.max,Ur=Math.min;function Cs(t,e,n){var s,i,r,o,a,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Br);e=Ce(e)||0,Q(n)&&(u=!!n.leading,f="maxWait"in n,r=f?Hr(Ce(n.maxWait)||0,e):r,d="trailing"in n?!!n.trailing:d);function h($){var _=s,R=i;return s=i=void 0,c=$,o=t.apply(R,_),o}function g($){return c=$,a=setTimeout(m,e),u?h($):o}function p($){var _=$-l,R=$-c,N=e-_;return f?Ur(N,r-R):N}function v($){var _=$-l,R=$-c;return l===void 0||_>=e||_<0||f&&R>=r}function m(){var $=re();if(v($))return E($);a=setTimeout(m,p($))}function E($){return a=void 0,d&&s?h($):(s=i=void 0,o)}function I(){a!==void 0&&clearTimeout(a),c=0,s=l=i=a=void 0}function y(){return a===void 0?o:E(re())}function w(){var $=re(),_=v($);if(s=arguments,i=this,l=$,_){if(a===void 0)return g(l);if(f)return clearTimeout(a),a=setTimeout(m,e),h(l)}return a===void 0&&(a=setTimeout(m,e)),o}return w.cancel=I,w.flush=y,w}/*!
 * Built by Revolist OU ❤️
 */const kr=t=>({set(e,n){if(e!=="proxyItems")return;const s=t.get("items").reduce((r,o)=>(r.add(o),r),new Set),i=n.reduce((r,o)=>(s.has(o)&&r.push(o),r),[]);t.set("items",i)}});function Gr(t,e,n,s){for(var i=t.length,r=n+-1;++r<i;)if(e(t[r],r,t))return r;return-1}function Wr(){this.__data__=[],this.size=0}function Ke(t,e){return t===e||t!==t&&e!==e}function Zt(t,e){for(var n=t.length;n--;)if(Ke(t[n][0],e))return n;return-1}var Kr=Array.prototype,Xr=Kr.splice;function Yr(t){var e=this.__data__,n=Zt(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():Xr.call(e,n,1),--this.size,!0}function qr(t){var e=this.__data__,n=Zt(e,t);return n<0?void 0:e[n][1]}function Zr(t){return Zt(this.__data__,t)>-1}function Jr(t,e){var n=this.__data__,s=Zt(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function G(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}G.prototype.clear=Wr;G.prototype.delete=Yr;G.prototype.get=qr;G.prototype.has=Zr;G.prototype.set=Jr;function Qr(){this.__data__=new G,this.size=0}function Vr(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function to(t){return this.__data__.get(t)}function eo(t){return this.__data__.has(t)}var no="[object AsyncFunction]",so="[object Function]",io="[object GeneratorFunction]",ro="[object Proxy]";function Is(t){if(!Q(t))return!1;var e=nt(t);return e==so||e==io||e==no||e==ro}var oe=M["__core-js_shared__"],An=function(){var t=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oo(t){return!!An&&An in t}var ao=Function.prototype,lo=ao.toString;function st(t){if(t!=null){try{return lo.call(t)}catch{}try{return t+""}catch{}}return""}var co=/[\\^$.*+?()[\]{}|]/g,uo=/^\[object .+?Constructor\]$/,fo=Function.prototype,ho=Object.prototype,go=fo.toString,po=ho.hasOwnProperty,vo=RegExp("^"+go.call(po).replace(co,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mo(t){if(!Q(t)||oo(t))return!1;var e=Is(t)?vo:uo;return e.test(st(t))}function $o(t,e){return t==null?void 0:t[e]}function vt(t,e){var n=$o(t,e);return mo(n)?n:void 0}var _t=vt(M,"Map"),Ot=vt(Object,"create");function yo(){this.__data__=Ot?Ot(null):{},this.size=0}function bo(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var So="__lodash_hash_undefined__",Eo=Object.prototype,_o=Eo.hasOwnProperty;function Oo(t){var e=this.__data__;if(Ot){var n=e[t];return n===So?void 0:n}return _o.call(e,t)?e[t]:void 0}var To=Object.prototype,Co=To.hasOwnProperty;function Io(t){var e=this.__data__;return Ot?e[t]!==void 0:Co.call(e,t)}var xo="__lodash_hash_undefined__";function wo(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ot&&e===void 0?xo:e,this}function et(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}et.prototype.clear=yo;et.prototype.delete=bo;et.prototype.get=Oo;et.prototype.has=Io;et.prototype.set=wo;function Ro(){this.size=0,this.__data__={hash:new et,map:new(_t||G),string:new et}}function Ao(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Jt(t,e){var n=t.__data__;return Ao(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Lo(t){var e=Jt(this,t).delete(t);return this.size-=e?1:0,e}function Po(t){return Jt(this,t).get(t)}function Do(t){return Jt(this,t).has(t)}function zo(t,e){var n=Jt(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function W(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}W.prototype.clear=Ro;W.prototype.delete=Lo;W.prototype.get=Po;W.prototype.has=Do;W.prototype.set=zo;var Fo=200;function jo(t,e){var n=this.__data__;if(n instanceof G){var s=n.__data__;if(!_t||s.length<Fo-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new W(s)}return n.set(t,e),this.size=n.size,this}function k(t){var e=this.__data__=new G(t);this.size=e.size}k.prototype.clear=Qr;k.prototype.delete=Vr;k.prototype.get=to;k.prototype.has=eo;k.prototype.set=jo;var Mo="__lodash_hash_undefined__";function No(t){return this.__data__.set(t,Mo),this}function Bo(t){return this.__data__.has(t)}function Ut(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new W;++e<n;)this.add(t[e])}Ut.prototype.add=Ut.prototype.push=No;Ut.prototype.has=Bo;function Ho(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function Uo(t,e){return t.has(e)}var ko=1,Go=2;function xs(t,e,n,s,i,r){var o=n&ko,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(t),u=r.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&Go?new Ut:void 0;for(r.set(t,e),r.set(e,t);++f<a;){var g=t[f],p=e[f];if(s)var v=o?s(p,g,f,e,t,r):s(g,p,f,t,e,r);if(v!==void 0){if(v)continue;d=!1;break}if(h){if(!Ho(e,function(m,E){if(!Uo(h,E)&&(g===m||i(g,m,n,s,r)))return h.push(E)})){d=!1;break}}else if(!(g===p||i(g,p,n,s,r))){d=!1;break}}return r.delete(t),r.delete(e),d}var Ln=M.Uint8Array;function Wo(t){var e=-1,n=Array(t.size);return t.forEach(function(s,i){n[++e]=[i,s]}),n}function Ko(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var Xo=1,Yo=2,qo="[object Boolean]",Zo="[object Date]",Jo="[object Error]",Qo="[object Map]",Vo="[object Number]",ta="[object RegExp]",ea="[object Set]",na="[object String]",sa="[object Symbol]",ia="[object ArrayBuffer]",ra="[object DataView]",Pn=X?X.prototype:void 0,ae=Pn?Pn.valueOf:void 0;function oa(t,e,n,s,i,r,o){switch(n){case ra:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ia:return!(t.byteLength!=e.byteLength||!r(new Ln(t),new Ln(e)));case qo:case Zo:case Vo:return Ke(+t,+e);case Jo:return t.name==e.name&&t.message==e.message;case ta:case na:return t==e+"";case Qo:var a=Wo;case ea:var l=s&Xo;if(a||(a=Ko),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;s|=Yo,o.set(t,e);var u=xs(a(t),a(e),s,i,r,o);return o.delete(t),u;case sa:if(ae)return ae.call(t)==ae.call(e)}return!1}function aa(t,e){for(var n=-1,s=e.length,i=t.length;++n<s;)t[i+n]=e[n];return t}var L=Array.isArray;function la(t,e,n){var s=e(t);return L(t)?s:aa(s,n(t))}function ca(t,e){for(var n=-1,s=t==null?0:t.length,i=0,r=[];++n<s;){var o=t[n];e(o,n,t)&&(r[i++]=o)}return r}function ua(){return[]}var fa=Object.prototype,da=fa.propertyIsEnumerable,Dn=Object.getOwnPropertySymbols,ha=Dn?function(t){return t==null?[]:(t=Object(t),ca(Dn(t),function(e){return da.call(t,e)}))}:ua;function ga(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var pa="[object Arguments]";function zn(t){return V(t)&&nt(t)==pa}var ws=Object.prototype,va=ws.hasOwnProperty,ma=ws.propertyIsEnumerable,Rs=zn(function(){return arguments}())?zn:function(t){return V(t)&&va.call(t,"callee")&&!ma.call(t,"callee")};function $a(){return!1}var As=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Fn=As&&typeof module=="object"&&module&&!module.nodeType&&module,ya=Fn&&Fn.exports===As,jn=ya?M.Buffer:void 0,ba=jn?jn.isBuffer:void 0,Ie=ba||$a,Sa=9007199254740991,Ea=/^(?:0|[1-9]\d*)$/;function Xe(t,e){var n=typeof t;return e=e??Sa,!!e&&(n=="number"||n!="symbol"&&Ea.test(t))&&t>-1&&t%1==0&&t<e}var _a=9007199254740991;function Ye(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_a}var Oa="[object Arguments]",Ta="[object Array]",Ca="[object Boolean]",Ia="[object Date]",xa="[object Error]",wa="[object Function]",Ra="[object Map]",Aa="[object Number]",La="[object Object]",Pa="[object RegExp]",Da="[object Set]",za="[object String]",Fa="[object WeakMap]",ja="[object ArrayBuffer]",Ma="[object DataView]",Na="[object Float32Array]",Ba="[object Float64Array]",Ha="[object Int8Array]",Ua="[object Int16Array]",ka="[object Int32Array]",Ga="[object Uint8Array]",Wa="[object Uint8ClampedArray]",Ka="[object Uint16Array]",Xa="[object Uint32Array]",O={};O[Na]=O[Ba]=O[Ha]=O[Ua]=O[ka]=O[Ga]=O[Wa]=O[Ka]=O[Xa]=!0;O[Oa]=O[Ta]=O[ja]=O[Ca]=O[Ma]=O[Ia]=O[xa]=O[wa]=O[Ra]=O[Aa]=O[La]=O[Pa]=O[Da]=O[za]=O[Fa]=!1;function Ya(t){return V(t)&&Ye(t.length)&&!!O[nt(t)]}function qa(t){return function(e){return t(e)}}var Ls=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$t=Ls&&typeof module=="object"&&module&&!module.nodeType&&module,Za=$t&&$t.exports===Ls,le=Za&&Os.process,Mn=function(){try{var t=$t&&$t.require&&$t.require("util").types;return t||le&&le.binding&&le.binding("util")}catch{}}(),Nn=Mn&&Mn.isTypedArray,Ps=Nn?qa(Nn):Ya,Ja=Object.prototype,Qa=Ja.hasOwnProperty;function Va(t,e){var n=L(t),s=!n&&Rs(t),i=!n&&!s&&Ie(t),r=!n&&!s&&!i&&Ps(t),o=n||s||i||r,a=o?ga(t.length,String):[],l=a.length;for(var c in t)Qa.call(t,c)&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Xe(c,l)))&&a.push(c);return a}var tl=Object.prototype;function el(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||tl;return t===n}function nl(t,e){return function(n){return t(e(n))}}var sl=nl(Object.keys,Object),il=Object.prototype,rl=il.hasOwnProperty;function Ds(t){if(!el(t))return sl(t);var e=[];for(var n in Object(t))rl.call(t,n)&&n!="constructor"&&e.push(n);return e}function Qt(t){return t!=null&&Ye(t.length)&&!Is(t)}function qe(t){return Qt(t)?Va(t):Ds(t)}function Bn(t){return la(t,qe,ha)}var ol=1,al=Object.prototype,ll=al.hasOwnProperty;function cl(t,e,n,s,i,r){var o=n&ol,a=Bn(t),l=a.length,c=Bn(e),u=c.length;if(l!=u&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in e:ll.call(e,d)))return!1}var h=r.get(t),g=r.get(e);if(h&&g)return h==e&&g==t;var p=!0;r.set(t,e),r.set(e,t);for(var v=o;++f<l;){d=a[f];var m=t[d],E=e[d];if(s)var I=o?s(E,m,d,e,t,r):s(m,E,d,t,e,r);if(!(I===void 0?m===E||i(m,E,n,s,r):I)){p=!1;break}v||(v=d=="constructor")}if(p&&!v){var y=t.constructor,w=e.constructor;y!=w&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof w=="function"&&w instanceof w)&&(p=!1)}return r.delete(t),r.delete(e),p}var xe=vt(M,"DataView"),we=vt(M,"Promise"),Re=vt(M,"Set"),Ae=vt(M,"WeakMap"),Hn="[object Map]",ul="[object Object]",Un="[object Promise]",kn="[object Set]",Gn="[object WeakMap]",Wn="[object DataView]",fl=st(xe),dl=st(_t),hl=st(we),gl=st(Re),pl=st(Ae),H=nt;(xe&&H(new xe(new ArrayBuffer(1)))!=Wn||_t&&H(new _t)!=Hn||we&&H(we.resolve())!=Un||Re&&H(new Re)!=kn||Ae&&H(new Ae)!=Gn)&&(H=function(t){var e=nt(t),n=e==ul?t.constructor:void 0,s=n?st(n):"";if(s)switch(s){case fl:return Wn;case dl:return Hn;case hl:return Un;case gl:return kn;case pl:return Gn}return e});var vl=1,Kn="[object Arguments]",Xn="[object Array]",At="[object Object]",ml=Object.prototype,Yn=ml.hasOwnProperty;function $l(t,e,n,s,i,r){var o=L(t),a=L(e),l=o?Xn:H(t),c=a?Xn:H(e);l=l==Kn?At:l,c=c==Kn?At:c;var u=l==At,f=c==At,d=l==c;if(d&&Ie(t)){if(!Ie(e))return!1;o=!0,u=!1}if(d&&!u)return r||(r=new k),o||Ps(t)?xs(t,e,n,s,i,r):oa(t,e,l,n,s,i,r);if(!(n&vl)){var h=u&&Yn.call(t,"__wrapped__"),g=f&&Yn.call(e,"__wrapped__");if(h||g){var p=h?t.value():t,v=g?e.value():e;return r||(r=new k),i(p,v,n,s,r)}}return d?(r||(r=new k),cl(t,e,n,s,i,r)):!1}function Ze(t,e,n,s,i){return t===e?!0:t==null||e==null||!V(t)&&!V(e)?t!==t&&e!==e:$l(t,e,n,s,Ze,i)}var yl=1,bl=2;function Sl(t,e,n,s){var i=n.length,r=i;if(t==null)return!r;for(t=Object(t);i--;){var o=n[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<r;){o=n[i];var a=o[0],l=t[a],c=o[1];if(o[2]){if(l===void 0&&!(a in t))return!1}else{var u=new k,f;if(!(f===void 0?Ze(c,l,yl|bl,s,u):f))return!1}}return!0}function zs(t){return t===t&&!Q(t)}function El(t){for(var e=qe(t),n=e.length;n--;){var s=e[n],i=t[s];e[n]=[s,i,zs(i)]}return e}function Fs(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function _l(t){var e=El(t);return e.length==1&&e[0][2]?Fs(e[0][0],e[0][1]):function(n){return n===t||Sl(n,t,e)}}var Ol=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tl=/^\w*$/;function Je(t,e){if(L(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||tt(t)?!0:Tl.test(t)||!Ol.test(t)||e!=null&&t in Object(e)}var Cl="Expected a function";function Qe(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cl);var n=function(){var s=arguments,i=e?e.apply(this,s):s[0],r=n.cache;if(r.has(i))return r.get(i);var o=t.apply(this,s);return n.cache=r.set(i,o)||r,o};return n.cache=new(Qe.Cache||W),n}Qe.Cache=W;var Il=500;function xl(t){var e=Qe(t,function(s){return n.size===Il&&n.clear(),s}),n=e.cache;return e}var wl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rl=/\\(\\)?/g,Al=xl(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(wl,function(n,s,i,r){e.push(i?r.replace(Rl,"$1"):s||n)}),e});function Ll(t,e){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=e(t[n],n,t);return i}var qn=X?X.prototype:void 0,Zn=qn?qn.toString:void 0;function js(t){if(typeof t=="string")return t;if(L(t))return Ll(t,js)+"";if(tt(t))return Zn?Zn.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Pl(t){return t==null?"":js(t)}function Ms(t,e){return L(t)?t:Je(t,e)?[t]:Al(Pl(t))}function Vt(t){if(typeof t=="string"||tt(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ns(t,e){e=Ms(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[Vt(e[n++])];return n&&n==s?t:void 0}function Dl(t,e,n){var s=t==null?void 0:Ns(t,e);return s===void 0?n:s}function zl(t,e){return t!=null&&e in Object(t)}function Fl(t,e,n){e=Ms(e,t);for(var s=-1,i=e.length,r=!1;++s<i;){var o=Vt(e[s]);if(!(r=t!=null&&n(t,o)))break;t=t[o]}return r||++s!=i?r:(i=t==null?0:t.length,!!i&&Ye(i)&&Xe(o,i)&&(L(t)||Rs(t)))}function jl(t,e){return t!=null&&Fl(t,e,zl)}var Ml=1,Nl=2;function Bl(t,e){return Je(t)&&zs(e)?Fs(Vt(t),e):function(n){var s=Dl(n,t);return s===void 0&&s===e?jl(n,t):Ze(e,s,Ml|Nl)}}function Ve(t){return t}function Bs(t){return function(e){return e==null?void 0:e[t]}}function Hl(t){return function(e){return Ns(e,t)}}function Ul(t){return Je(t)?Bs(Vt(t)):Hl(t)}function Hs(t){return typeof t=="function"?t:t==null?Ve:typeof t=="object"?L(t)?Bl(t[0],t[1]):_l(t):Ul(t)}var kl=1/0,Gl=17976931348623157e292;function Dt(t){if(!t)return t===0?t:0;if(t=Ce(t),t===kl||t===-1/0){var e=t<0?-1:1;return e*Gl}return t===t?t:0}function Wl(t,e,n){var s=t==null?0:t.length;if(!s)return-1;var i=0;return Gr(t,Hs(e),i)}var Kl=Math.ceil,Xl=Math.max;function Yl(t,e,n,s){for(var i=-1,r=Xl(Kl((e-t)/(n||1)),0),o=Array(r);r--;)o[++i]=t,t+=n;return o}function Us(t,e,n){if(!Q(n))return!1;var s=typeof e;return(s=="number"?Qt(n)&&Xe(e,n.length):s=="string"&&e in n)?Ke(n[e],t):!1}function ql(t){return function(e,n,s){return s&&typeof s!="number"&&Us(e,n,s)&&(n=s=void 0),e=Dt(e),n===void 0?(n=e,e=0):n=Dt(n),s=s===void 0?e<n?1:-1:Dt(s),Yl(e,n,s)}}var Zl=ql();const Jl=(t,e,n)=>{const s=t.get(e);s?s.includes(n)||s.push(n):t.set(e,[n])},Ql=(t,e)=>{let n;return(...s)=>{n&&clearTimeout(n),n=setTimeout(()=>{n=0,t(...s)},e)}},Vl=t=>!("isConnected"in t)||t.isConnected,Jn=Ql(t=>{for(let e of t.keys())t.set(e,t.get(e).filter(Vl))},2e3),tc=()=>{if(typeof Cn!="function")return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const n=Cn();n&&Jl(t,e,n)},set:e=>{const n=t.get(e);n&&t.set(e,n.filter(In)),Jn(t)},reset:()=>{t.forEach(e=>e.forEach(In)),Jn(t)}}},ce=t=>typeof t=="function"?t():t,ec=(t,e=(n,s)=>n!==s)=>{const n=ce(t);let s=new Map(Object.entries(n??{}));const i={dispose:[],get:[],set:[],reset:[]},r=()=>{s=new Map(Object.entries(ce(t)??{})),i.reset.forEach(g=>g())},o=()=>{i.dispose.forEach(g=>g()),r()},a=g=>(i.get.forEach(p=>p(g)),s.get(g)),l=(g,p)=>{const v=s.get(g);e(p,v,g)&&(s.set(g,p),i.set.forEach(m=>m(g,p,v)))},c=typeof Proxy>"u"?{}:new Proxy(n,{get(g,p){return a(p)},ownKeys(g){return Array.from(s.keys())},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},has(g,p){return s.has(p)},set(g,p,v){return l(p,v),!0}}),u=(g,p)=>(i[g].push(p),()=>{nc(i[g],p)});return{state:c,get:a,set:l,on:u,onChange:(g,p)=>{const v=u("set",(E,I)=>{E===g&&p(I)}),m=u("reset",()=>p(ce(t)[g]));return()=>{v(),m()}},use:(...g)=>{const p=g.reduce((v,m)=>(m.set&&v.push(u("set",m.set)),m.get&&v.push(u("get",m.get)),m.reset&&v.push(u("reset",m.reset)),m.dispose&&v.push(u("dispose",m.dispose)),v),[]);return()=>p.forEach(v=>v())},dispose:o,reset:r,forceUpdate:g=>{const p=s.get(g);i.set.forEach(v=>v(g,p,p))}}},nc=(t,e)=>{const n=t.indexOf(e);n>=0&&(t[n]=t[t.length-1],t.length--)},te=(t,e)=>{const n=ec(t,e);return n.use(tc()),n},sc=t=>({set(e,n){switch(e){case"trimmed":{const s=t.get("proxyItems"),i=ic(n),r=s.filter(o=>!i[o]);t.set("items",r);break}}}});function ic(t){const e={};for(let n in t)for(let s in t[n])e[s]=e[s]||t[n][s];return e}function C(t,e){Object.entries(e).forEach(([n,s])=>{t.set(n,s)})}const Af=30,Lf=40,Pf="data-rgCol",Df="data-rgRow",rc="disabled",oc="rgCell",zf="rowHeaders",Ff="rgHeaderCell",jf="sortable",Mf="header-rgRow",Nf="actual-rgRow",Bf="revo-drag-icon",Hf="revo-draggable",Uf="focused-cell",kf="selection-border-range",Gf="mobile-handler",Wf="temp-bg-range",Kf="autofill-handle",ac="edit-input-wrapper",Xf="Draggable item",Y="__rvgr",Yf="focused-rgRow";var Le;(function(t){t[t.MOUSE_LEFT=1]="MOUSE_LEFT",t[t.MOUSE_RIGHT=3]="MOUSE_RIGHT",t[t.MOUSE_MIDDLE=2]="MOUSE_MIDDLE",t[t.BACKSPACE=8]="BACKSPACE",t[t.COMMA=188]="COMMA",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.END=35]="END",t[t.ENTER=13]="ENTER",t[t.ESCAPE=27]="ESCAPE",t[t.CONTROL=17]="CONTROL",t[t.COMMAND_LEFT=91]="COMMAND_LEFT",t[t.COMMAND_RIGHT=93]="COMMAND_RIGHT",t[t.COMMAND_FIREFOX=224]="COMMAND_FIREFOX",t[t.ALT=18]="ALT",t[t.HOME=36]="HOME",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.PAGE_UP=33]="PAGE_UP",t[t.PERIOD=190]="PERIOD",t[t.SPACE=32]="SPACE",t[t.SHIFT=16]="SHIFT",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.TAB=9]="TAB",t[t.ARROW_RIGHT=39]="ARROW_RIGHT",t[t.ARROW_LEFT=37]="ARROW_LEFT",t[t.ARROW_UP=38]="ARROW_UP",t[t.ARROW_DOWN=40]="ARROW_DOWN",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.A=65]="A",t[t.C=67]="C",t[t.D=68]="D",t[t.F=70]="F",t[t.L=76]="L",t[t.O=79]="O",t[t.P=80]="P",t[t.S=83]="S",t[t.V=86]="V",t[t.X=88]="X"})(Le||(Le={}));var Tt;(function(t){t.ENTER="Enter",t.ENTER_NUM="NumpadEnter",t.A="KeyA",t.C="KeyC",t.X="KeyX",t.V="KeyV",t.ESCAPE="Escape",t.TAB="Tab",t.BACKSPACE="Backspace",t.DELETE="Delete",t.ARROW_RIGHT="ArrowRight",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.ARROW_DOWN="ArrowDown",t.SHIFT="Shift"})(Tt||(Tt={}));var kt;(function(t){t.ENTER="Enter",t.TAB="Tab"})(kt||(kt={}));var b=Le,Pe;(function(t){t.mac="Mac"})(Pe||(Pe={}));var lc=Pe;function qf(t,e=0){const n=[],s=e+t;for(let i=e;i<s;i++)n.push(i);return n}function cc(t,e){return function(n){let s=0,i=n.length-1;for(;s<=i;){const r=i+s>>1,o=e(t,n[r]);if(o>0)s=r+1;else if(o<0)i=r-1;else return r}return-s-1}(this)}function Zf(t,e,n){return t.splice(cc.bind(t)(e,n),0,e),t}function uc(t,e){return t<e}function Jf(t,e,n=uc){const s=[];let i=0,r=0,o=0;for(;o<t.length+e.length;){let a=i>=t.length,l=r>=e.length;!a&&(l||n(t[i],e[r]))?(s[o]=t[i],i++):(s[o]=e[r],r++),o++}return s}function fc(t){const e=t.createElement("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",t.body.appendChild(e);const n=e.offsetWidth-e.clientWidth;return t.body.removeChild(e),n}function Qf(t,e,n){return(n[1]-n[0])*(t-e[0])/(e[1]-e[0])+n[0]}async function ks(t=0){await new Promise(e=>{setTimeout(()=>e(),t)})}function Vf(t,e){e.forEach(n=>{Object.getOwnPropertyNames(n.prototype).forEach(s=>{Object.defineProperty(t.prototype,s,Object.getOwnPropertyDescriptor(n.prototype,s)||Object.create(null))})})}class td{get store(){return this.dataStore}constructor(e,n){const s=this.dataStore=te(Object.assign({items:[],proxyItems:[],source:[],groupingDepth:0,groups:{},type:e,trimmed:{},groupingCustomRenderer:void 0},n));s.use(kr(s)),s.use(sc(s))}updateData(e,n,s=!1){s||this.store.set("trimmed",{}),this.store.set("items",[]);const i=Zl(0,(e==null?void 0:e.length)||0);C(this.store,{source:e,proxyItems:[...i]}),this.store.set("items",i),n&&C(this.store,{groupingDepth:n.depth,groups:n.groups,groupingCustomRenderer:n.customRenderer})}addTrimmed(e){let n=this.store.get("trimmed");n=Object.assign(Object.assign({},n),e),C(this.store,{trimmed:n})}setSourceData(e,n=!0){pc(this.store,e,n)}setData(e){const n=Object.assign({},e);C(this.store,n)}refresh(){const e=this.store.get("source");this.store.set("source",[...e])}}function dc(t,e){return t.get("items")[e]}function hc(t){const e=t.get("source");return t.get("items").map(n=>e[n])}const ct=(t,e)=>t.get("source")[gc(t,e)],gc=(t,e)=>t.get("items")[e];function pc(t,e,n=!0){const s=t.get("items"),i=t.get("source");for(let r in e){const o=s[r],a=e[r];i[o]=a}n&&t.set("source",[...i])}function ed(t,e,n=!0){const s=t.get("source");for(let i in e)s[i]=e[i];n&&t.set("source",[...s])}function vc(t,e){t.set("items",e)}function nd(t,e){const n=t.get("items"),s=t.get("source"),i=Wl(s,{prop:e});return n.indexOf(i)}var mc=4294967295,$c=mc-1,yc=Math.floor,bc=Math.min;function Sc(t,e,n,s){var i=0,r=t==null?0:t.length;if(r===0)return 0;e=n(e);for(var o=e!==e,a=e===null,l=tt(e),c=e===void 0;i<r;){var u=yc((i+r)/2),f=n(t[u]),d=f!==void 0,h=f===null,g=f===f,p=tt(f);if(o)var v=g;else c?v=g&&d:a?v=g&&d&&!h:l?v=g&&d&&!h&&!p:h||p?v=!1:v=f<e;v?i=u+1:r=u}return bc(r,$c)}var Ec=4294967295,_c=Ec>>>1;function Oc(t,e,n){var s=0,i=t==null?s:t.length;if(typeof e=="number"&&e===e&&i<=_c){for(;s<i;){var r=s+i>>>1,o=t[r];o!==null&&!tt(o)&&o<e?s=r+1:i=r}return i}return Sc(t,e,Ve)}function Gs(t,e){return Oc(t,e)}function Tc(t,e={}){const n=[],s={},i={},r=Object.keys(e).map(Number).sort((a,l)=>a-l);let o;for(let a=0;a<r.length;a++){const l=r[a],c={itemIndex:l,start:0,end:0};if(o){const u=(l-o.itemIndex-1)*t;c.start=u+o.end}else c.start=l*t;c.end=c.start+e[l],n.push(c.start),i[l]=s[a]=c,o=c}return{indexes:r,positionIndexes:[...n],positionIndexToItem:Object.assign({},s),indexToItem:i}}const zt=({indexes:t,positionIndexes:e,originItemSize:n,positionIndexToItem:s},i)=>{const r={itemIndex:0,start:0,end:0},o=t.length?Gs(e,i):0;if(!o)return r.itemIndex=Math.floor(i/n),r.start=r.itemIndex*n,r.end=r.start+n,r;const a=s[o-1];if(a.end>i)return a;const l=i-a.end,c=Math.floor(l/n);return r.itemIndex=a.itemIndex+1+c,r.start=a.end+c*n,r.end=r.start+n,r};function sd(t,e){let n={itemIndex:e,start:0,end:0};if(t.indexToItem[e])return t.indexToItem[e];const s=t.indexes.length?Gs(t.indexes,e):0;if(!s)return n.start=n.itemIndex*t.originItemSize,n.end=n.start+t.originItemSize,n;const i=t.indexToItem[t.indexes[s-1]];return n.start=i.end+(e-i.itemIndex-1)*t.originItemSize,n.end=n.start+t.originItemSize,n}/*!
 * Built by Revolist OU ❤️
 */function Ct(t){var e=Dt(t),n=e%1;return e===e?n?e-n:e:0}function Cc(t,e,n,s){var i=-1,r=t==null?0:t.length;for(s&&r&&(n=t[++i]);++i<r;)n=e(n,t[i],i,t);return n}function Ic(t){return function(e,n,s){for(var i=-1,r=Object(e),o=s(e),a=o.length;a--;){var l=o[++i];if(n(r[l],l,r)===!1)break}return e}}var xc=Ic();function wc(t,e){return t&&xc(t,e,qe)}function Rc(t,e){return function(n,s){if(n==null)return n;if(!Qt(n))return t(n,s);for(var i=n.length,r=-1,o=Object(n);++r<i&&s(o[r],r,o)!==!1;);return n}}var Ws=Rc(wc);function Ac(t,e,n,s,i){return i(t,function(r,o,a){n=s?(s=!1,r):e(n,r,o,a)}),n}function yt(t,e,n){var s=L(t)?Cc:Ac,i=arguments.length<3;return s(t,Hs(e),n,i,Ws)}function Ks(t){return typeof t>"u"||t===null?"":t}function Gt(t={},e){if(e)return e.cellParser?e.cellParser(t,e):t[e.prop]}function Lc(t,e){return Ks(Gt(t,e))}function Pc(t){return t.pin?t.pin:"rgCol"}function id(t){const e={};for(const[n,s]of t.entries())s.size&&(e[n]=s.size);return e}function tn(t){return!!t.children}function Dc(t,e=0,n){return yt(t,(i,r)=>{if(tn(r))return i=zc(i,r,Dc(r.children,e+1,n),e),i;const o=r.columnType&&(n==null?void 0:n[r.columnType]),a=Object.assign(Object.assign({},o),r);return a.pin?i.columns[a.pin].push(a):i.columns.rgCol.push(a),a.order&&(i.sort[a.prop]=a),i.columnByProp[a.prop]||(i.columnByProp[a.prop]=[]),i.columnByProp[a.prop].push(a),a.beforeSetup&&a.beforeSetup(a),i},{columns:{rgCol:[],colPinStart:[],colPinEnd:[]},columnByProp:{},columnGrouping:{rgCol:[],colPinStart:[],colPinEnd:[]},maxLevel:e,sort:{}})}function zc(t,e,n,s=0){const i=Object.assign(Object.assign({},e),{level:s,indexes:[]});J.forEach(r=>{const o=t.columns[r],a=n.columns[r];if(L(o)&&L(a)){const l=a.length;if(l){const c=o.length;o.push(...a),t.columnGrouping[r].push(Object.assign(Object.assign({},i),{indexes:Array(l).fill(c).map((u,f)=>u+f)}))}}});for(let r in n.columnGrouping){const o=r,a=n.columnGrouping[o];t.columnGrouping[o].push(...a)}return t.maxLevel=Math.max(t.maxLevel,n.maxLevel),t.sort=Object.assign(Object.assign({},t.sort),n.sort),t.columnByProp=Object.assign(Object.assign({},t.columnByProp),n.columnByProp),t}function Xs(t,e){for(const n of t)if(tn(n)){const s=Xs(n.children,e);if(s)return s}else if(n.prop===e)return n}function Fc(t,e){return Xs(t,e)}function jc(){return{range:null,tempRange:null,tempRangeType:null,focus:null,edit:null,lastCell:null,nextFocus:null}}class ot{constructor(){this.unsubscribe=[],this.store=te(jc()),this.store.on("set",(e,n)=>{e==="tempRange"&&!n&&this.store.set("tempRangeType",null)})}onChange(e,n){this.unsubscribe.push(this.store.onChange(e,n))}clearFocus(){C(this.store,{focus:null,range:null,edit:null,tempRange:null})}setFocus(e,n){n?C(this.store,{focus:e,range:De(e,n),edit:null,tempRange:null}):C(this.store,{focus:e})}setNextFocus(e){C(this.store,{nextFocus:e})}setTempArea(e){C(this.store,{tempRange:e==null?void 0:e.area,tempRangeType:e==null?void 0:e.type,edit:null})}clearTemp(){C(this.store,{tempRange:null})}setRangeArea(e){C(this.store,{range:e,edit:null,tempRange:null})}setRange(e,n){const s=De(e,n);this.setRangeArea(s)}setLastCell(e){C(this.store,{lastCell:e})}setEdit(e){const n=this.store.get("focus");if(n&&typeof e=="string"){C(this.store,{edit:{x:n.x,y:n.y,val:e}});return}C(this.store,{edit:null})}dispose(){this.unsubscribe.forEach(e=>e()),this.store.dispose()}}const Mc=-1;class rd{constructor(){this.dirty=!1,this.stores={},this.columnStores={},this.rowStores={},this.storesByType={},this.storesXToType={},this.storesYToType={},this.sections=[]}get focusedStore(){var e;for(let n in this.stores)for(let s in this.stores[n]){const i=(e=this.stores[n][s])===null||e===void 0?void 0:e.store.get("focus");if(i)return{entity:this.stores[n][s],cell:i,position:{x:parseInt(s,10),y:parseInt(n,10)}}}return null}get edit(){var e;return(e=this.focusedStore)===null||e===void 0?void 0:e.entity.store.get("edit")}get focused(){var e;return(e=this.focusedStore)===null||e===void 0?void 0:e.entity.store.get("focus")}get selectedRange(){var e;return(e=this.focusedStore)===null||e===void 0?void 0:e.entity.store.get("range")}registerSection(e){if(!e){this.sections.length=0,this.dirty=!0;return}this.sections.indexOf(e)===-1&&this.sections.push(e)}beforeUpdate(){if(this.dirty){for(let e in this.stores)for(let n in this.stores[e])this.stores[e][n].dispose();this.dirty=!1}}registerColumn(e,n){return Lt(e)?new ot:this.columnStores[e]?this.columnStores[e]:(this.columnStores[e]=new ot,this.storesByType[n]=e,this.storesXToType[e]=n,this.columnStores[e])}registerRow(e,n){return Lt(e)?new ot:this.rowStores[e]?this.rowStores[e]:(this.rowStores[e]=new ot,this.storesByType[n]=e,this.storesYToType[e]=n,this.rowStores[e])}register({x:e,y:n}){var s,i;return Lt(e)||Lt(n)?new ot:(this.stores[n]||(this.stores[n]={}),this.stores[n][e]?this.stores[n][e]:(this.stores[n][e]=new ot,(s=this.stores[n][e])===null||s===void 0||s.onChange("range",r=>{this.columnStores[e].setRangeArea(r),this.rowStores[n].setRangeArea(r)}),(i=this.stores[n][e])===null||i===void 0||i.store.on("dispose",()=>this.destroy(e,n)),this.stores[n][e]))}destroy(e,n){var s,i;if((s=this.columnStores[e])===null||s===void 0||s.dispose(),(i=this.rowStores[n])===null||i===void 0||i.dispose(),delete this.rowStores[n],delete this.columnStores[e],this.storesXToType[e]){const r=this.storesXToType[e];delete this.storesXToType[e],delete this.storesByType[r]}if(this.storesYToType[n]){const r=this.storesYToType[n];delete this.storesYToType[n],delete this.storesByType[r]}this.stores[n]&&delete this.stores[n][e],Object.keys(this.stores[n]||{}).length||delete this.stores[n]}setEditByCell(e,n){this.focusByCell(e,n,n),this.setEdit("")}beforeNextFocusCell(e){var n;if(!this.focusedStore)return;const s=this.focusedStore.entity.store.get("lastCell"),i=s&&this.getNextStore(e,this.focusedStore.position,s);(n=i==null?void 0:i.store)===null||n===void 0||n.setNextFocus(Object.assign(Object.assign({},e),i.item))}focusByCell(e,n,s){const i=this.stores[e.y][e.x];this.focus(i,{focus:n,end:s})}focus(e,{focus:n,end:s}){const i=this.getCurrentStorePointer(e);if(!i)return null;const r=e.store.get("lastCell"),o=r&&this.getNextStore(n,i,r);if(o!=null&&o.store){const a=Object.assign(Object.assign({},n),o.item);return this.focus(o.store,{focus:a,end:a}),null}return r&&(n=Qn(n,r),s=Qn(s,r)),e.setFocus(n,s),n}getCurrentStorePointer(e){let n;for(let s in this.stores)for(let i in this.stores[s]){const r=this.stores[s][i];r!==e?r.clearFocus():n={x:parseInt(i,10),y:parseInt(s,10)}}return n}getNextStore(e,n,s){const i=Nc(e,s);let r;return i&&Object.entries(i).forEach(([o,a])=>{let l;switch(o){case"x":l=this.getXStores(n.y);break;case"y":l=this.getYStores(n.x);break}if(a>=0)r=l[++n[o]];else{r=l[--n[o]];const c=r==null?void 0:r.store.get("lastCell");c&&(i[o]=c[o]+a)}}),{store:r,item:i}}clearAll(){var e;for(let n in this.stores)for(let s in this.stores[n])(e=this.stores[n][s])===null||e===void 0||e.clearFocus()}setEdit(e){this.focusedStore&&this.focusedStore.entity.setEdit(e)}selectAll(){for(let e in this.stores)for(let n in this.stores[e]){const s=this.stores[e][n];if(!s)continue;const i=s.store.get("lastCell");i&&s.setRange({x:0,y:0},{x:i.x-1,y:i.y-1})}}getXStores(e){return this.stores[e]}getYStores(e){const n={};for(let s in this.stores)n[s]=this.stores[s][e];return n}}function Lt(t){return t===Mc}function Nc(t,e){const n={};let s=["x","y"];for(let i of s)if(t[i]<0)return n[i]=t[i],n;for(let i of s)if(t[i]>=e[i])return n[i]=t[i]-e[i],n;return null}function Qn(t,e){const n=Object.assign({},t),s=["x","y"];for(const i of s)t[i]<0?n[i]=0:t[i]>=e[i]&&(n[i]=e[i]-1);return n}function De(t,e){return t&&e?{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x1:Math.max(t.x,e.x),y1:Math.max(t.y,e.y)}:null}function od(t){return t.x===t.x1&&t.y===t.y1}const en=["rowPinStart","rgRow","rowPinEnd"],J=["colPinStart","rgCol","colPinEnd"];function ad(t){return en.indexOf(t)>-1}const Wt=`${Y}-depth`,nn=`${Y}-name`,sn=`${Y}-id`,Kt=`${Y}-value`,ze=`${Y}-column`,It=`${Y}-expanded`,Bc=`${Y}-prop`,Ys=`${Y}-original-index`,ld="group-expand",Hc="groupexpandclick",ue="rgRow";function Uc(t,e){return t[e]||null}function at(t,e,n=!1){let s=0;const i={source:[],prevExpanded:{},oldNewIndexes:{}};return e.forEach(r=>{const o=t[r];if(!n){i.source.push(o);return}F(o)?qs(o)&&(i.prevExpanded[o[Kt]]=!0):(i.source.push(o),i.oldNewIndexes[r]=s,s++)}),i}function qs(t={}){return t[It]}function Zs({groupedValues:t,parentIds:e,isExpanded:n,itemIndex:s,expandedAll:i,prevExpanded:r,columnProps:o}){const a=e.length,l=[];let c={},u={};return t.forEach((f,d)=>{const h=[...e,d],g=h.join(","),p=n&&(!!i||!!r[g]);if(l.push({[nn]:d,[Wt]:a,[sn]:JSON.stringify(h),[Kt]:g,[It]:p,[Bc]:o[a],[o[a]]:d}),s+=1,!n&&a&&(c[s]=!0),Array.isArray(f))f.forEach(v=>{s+=1,p||(c[s]=!0),u[v[Ys]]=s}),l.push(...f);else{const v=Zs({groupedValues:f,parentIds:h,isExpanded:p,itemIndex:s,expandedAll:i,prevExpanded:r,columnProps:o});l.push(...v.source),c=Object.assign(Object.assign({},v.trimmed),c),u=Object.assign(Object.assign({},v.oldNewIndexMap),u),s=v.itemIndex}}),{source:l,oldNewIndexMap:u,trimmed:c,itemIndex:s}}function Vn(t,e,{prevExpanded:n={},expandedAll:s=!1,getGroupValue:i=Uc}){const r=new Map;t.forEach((u,f)=>{const d=e.map(v=>i(u,v)),h=d.pop();let g=r;if(d.forEach(v=>{g.has(v)||g.set(v,new Map),g=g.get(v)}),!g.has(h)){const v=[];g.set(h,v)}g.get(h).push(Object.assign(Object.assign({},u),{[Ys]:f}))});const o=e.length,{source:a,trimmed:l,oldNewIndexMap:c}=Zs({groupedValues:r,parentIds:[],isExpanded:!0,itemIndex:-1,expandedAll:s,prevExpanded:n,columnProps:e});return{sourceWithGroups:a,depth:o,trimmed:l,oldNewIndexMap:c}}function kc(t){return t==null?void 0:t[nn]}function F(t){return typeof(t==null?void 0:t[nn])<"u"}function Js(t){return typeof(t==null?void 0:t[ze])<"u"}function Gc(t,e){const n=t.length;let s=0;for(;s<n;s++)if(t[s]!==e[s])return s;return s}function Qs(t){const e=JSON.parse(t);return Array.isArray(e)?e:null}function Wc(t,e,n){const s=Qs(n[sn]);if(!s)return!1;const i=Gc(t,s);return e[Wt]<i}function Kc(t,e,n){var s=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++s<i;)r[s]=t[s+e];return r}function Xc(t,e,n){var s=t==null?0:t.length;return s?(n&&typeof n!="number"&&Us(t,e,n)?(e=0,n=s):(e=e==null?0:Ct(e),n=n===void 0?s:Ct(n)),Kc(t,e,n)):[]}function cd(t,e={}){const n=t==null?void 0:t.editor;if(n)return typeof n=="string"?e[n]:n}class ud{get columns(){return hc(this.source)}constructor(e,n){this.dataStore=e,this.source=n,this.unsubscribe=[],this.hasGrouping=!1,this.unsubscribe.push(n.onChange("source",s=>this.checkGrouping(s))),this.checkGrouping(n.get("source")),this.type=n.get("type")}checkGrouping(e){for(let n of e){if(Js(n)){this.hasGrouping=!0;return}this.hasGrouping=!1}}isReadOnly(e,n){var s;const i=(s=this.columns[n])===null||s===void 0?void 0:s.readonly;if(typeof i=="function"){const r=this.rowDataModel(e,n);return i(r)}return!!i}mergeProperties(e,n,s,i){var r,o;const a=Object.assign({},s);a.class=Object.assign(Object.assign({},typeof a.class=="string"?{[a.class]:!0}:a.class),{[oc]:!0,[rc]:this.isReadOnly(e,n)});const l=(o=(r=i.column)===null||r===void 0?void 0:r.cellProperties)===null||o===void 0?void 0:o.call(r,i);return l?Vs(a,l):a}getRowClass(e,n){return(ct(this.dataStore,e)||{})[n]||""}getSaveData(e,n,s){const i=this.rowDataModel(e,n);return typeof s>"u"&&(s=Ks(i.value)),Object.assign(Object.assign({},i),{val:s})}rowDataModel(e,n){const s=this.columns[n],i=s==null?void 0:s.prop,r=ct(this.dataStore,e)||{},o=this.dataStore.get("type");return{prop:i,model:r,data:this.dataStore.get("source"),column:s,rowIndex:e,colIndex:n,colType:this.type,type:o,value:Gt(r,s)}}getRangeData(e,n){var s;const i={},r=e.oldRange.x1-e.oldRange.x+1,o=e.oldRange.y1-e.oldRange.y+1,a={};for(let l=e.newRange.y,c=0;l<e.newRange.y1+1;l++,c++){const u=e.oldRange.y+c%o,f=ct(this.dataStore,u)||{};for(let d=e.newRange.x,h=0;d<e.newRange.x1+1;d++,h++){if(l>=e.oldRange.y&&l<=e.oldRange.y1&&d>=e.oldRange.x&&d<=e.oldRange.x1||!this.columns[d])continue;const g=(s=this.columns[d])===null||s===void 0?void 0:s.prop,p=e.oldRange.x+h%r,v=n[p].prop;this.isReadOnly(l,d)||(i[l]||(i[l]={}),i[l][g]=f[v],a[l]||(a[l]={}),a[l][g]={colIndex:p,colProp:v,rowIndex:u})}}return{changed:i,mapping:a}}getTransformedDataToApply(e,n){const s={},i=n.length,r=this.columns.length,o=this.dataStore.get("items").length;let a=e.y,l=0;for(let u=0;a<o&&u<i;a++,u++){const f=n[u%i],d=(f==null?void 0:f.length)||0;let h=e.x;for(let g=0;h<r&&g<d;h++,g++){const p=this.columns[h].prop,v=g%r;this.isReadOnly(a,h)||(s[a]||(s[a]={}),s[a][p]=f[v])}l=Math.max(l,h-1)}const c=De(e,{y:a-1,x:l});return{changed:s,range:c}}getRangeStaticData(e,n){const s={};for(let i=e.y,r=0;i<e.y1+1;i++,r++)for(let o=e.x,a=0;o<e.x1+1;o++,a++){if(!this.columns[o])continue;const l=this.columns[o].prop;this.isReadOnly(i,o)||(s[i]||(s[i]={}),s[i][l]=n)}return s}getRangeTransformedToProps(e,n){var s;const i=[],r=this.dataStore.get("type");for(let o=e.y,a=0;o<e.y1+1;o++,a++)for(let l=e.x,c=0;l<e.x1+1;l++,c++){const u=(s=this.columns[l])===null||s===void 0?void 0:s.prop;i.push({prop:u,rowIndex:o,colIndex:l,model:ct(n,o),type:r,colType:this.type})}return i}copyRangeArray(e,n){const s=[...this.columns],i=Xc(s,e.x,e.x1+1).map(a=>a.prop),r=[],o={};for(let a=e.y;a<=e.y1;a++){const l=[];o[a]={};for(let c of i){const u=ct(n,a);if(!u)continue;const f=u[c];l.push(f),o[a][c]=f}r.push(l)}return{data:r,mapping:o}}destroy(){this.unsubscribe.forEach(e=>e())}}function fd(t,e){return typeof t=="function"?t(e):!!t}function ts(t={},e={}){return typeof t=="string"&&(t={[t]:!0}),typeof e=="string"&&(e={[e]:!0}),Object.assign(Object.assign({},t),e)}function Vs(t,e){e.className&&(e.class=ts(e.class,e.className),delete e.className);let n=Object.assign(Object.assign({},e),t);return e.class&&(n.class=ts(n.class,e.class)),e.style&&(n.style=Object.assign(Object.assign({},e.style),n.style)),n}/*!
 * Built by Revolist OU ❤️
 */const Yc=10,qc=(t,e,n=50)=>(e==null?void 0:e.size)||Math.max((t.toString().length+1)*Yc,n);function Zc(t,e,n,s,i){const r=zt(i,t),o=rn(e);let a;if(o){let c=r.itemIndex-(o.itemIndex||0);c&&(a=Qc(Math.abs(c),Object.assign(Object.assign({positiveDirection:c>-1},i),e)))}const l=Jc(s,i.realSize,r);if(a){const c=ei(r,n,l,a,i);c.length&&ti(a.items,c,a)}if(!a){const c=ni({firstItemStart:r.start,firstItemIndex:r.itemIndex,origSize:i.originItemSize,maxSize:l,maxCount:n,sizes:i.sizes});a={items:c,start:0,end:c.length-1}}return a}function Jc(t,e,n){return Math.min(t+(n.end-n.start),e)}function ti(t,e,n){t.splice(n.end+1,0,...e),n.start>=n.end&&!(n.start===n.end&&n.start===0)&&(n.start+=e.length),n.end+=e.length}function ei(t,e,n,s,i){const r=on(s);return ni({sizes:i.sizes,firstItemStart:r.end,firstItemIndex:r.itemIndex+1,origSize:i.originItemSize,maxSize:n-(r.end-t.start),maxCount:e})}function ni(t,e=0){const n=[];let s=t.firstItemIndex,i=e;for(;i<=t.maxSize&&s<t.maxCount;){const r=Fe(s,t.sizes,t.origSize);n.push({start:t.firstItemStart+i,end:t.firstItemStart+i+r,itemIndex:s,size:r}),i+=r,s++}return n}function Qc(t,e){var n,s;const i=[...e.items],r=i.length;let o={start:e.start,end:e.end};if(t>r)return;if(e.positiveDirection){let l=on(e),c=o.start;const u=c+t;for(;c<u;c++){const f=l.itemIndex+1,d=Fe(f,e.sizes,e.originItemSize);if(l.end+d>e.realSize)break;let h=c%r;if(!i[h])throw new Error("incorrect index");i[h]=l={start:l.end,end:l.end+d,itemIndex:f,size:d},o.start++,o.end=h}}else{let l=rn(e);const c=o.end;for(let u=0;u<t;u++){const f=((n=l==null?void 0:l.itemIndex)!==null&&n!==void 0?n:0)-1,d=Fe(f,e.sizes,e.originItemSize);let h=c-u;if(h=(h<0?r+h:h)%r,!i[h]){console.error("incorrect index");break}const g=(s=l==null?void 0:l.start)!==null&&s!==void 0?s:0;i[h]=l={start:g-d,end:g,itemIndex:f,size:d},o.start=h,o.end--}}const a={start:(o.start<0?r+o.start:o.start)%r,end:(o.end<0?r+o.end:o.end)%r};return Object.assign({items:i},a)}function Fe(t,e,n=0){return e&&e[t]?e[t]:n}function Vc(t,e,n,s){return!n||!s?!1:t>=n.start&&t<=n.end||t>n.end&&s.end===e}function tu(t,e,n,s){var i;return n?e+t>((i=s==null?void 0:s.end)!==null&&i!==void 0?i:0):!1}function rn(t){return t.items[t.start]}function on(t){return t.items[t.end]}function eu(t,e,n,s){const i=[...t],r=i.length;let o=s,a=0,l=e;if(!r)return[];for(;a<r;){const c=i[l];c.start=o,c.size=n,c.end=c.start+n,o=c.end,l++,a++,l===r&&(l=0)}return i}function nu(){return{items:[],start:0,end:0,virtualSize:0,realCount:0,clientSize:0}}class dd{get lastCoordinate(){return this.lastKnownScroll}set lastCoordinate(e){this.lastKnownScroll=e}constructor(e){this.type=e,this.lastKnownScroll=0,this.store=te(nu())}setViewPortCoordinate(e,n,s=!1){const i=this.store.get("virtualSize");if(!i)return;const o=n.originItemSize*1,a=o*2,l=i+a;let c=0;n.realSize>i&&(c=n.realSize-i-o);let u=e;u<0?u=0:u>c&&(u=c),this.lastCoordinate=u,u-=o,u=u<0?0:u<c?u:c;let f;s?f={items:[],start:0,end:0}:f=this.getItems();const d=rn(f),h=on(f);let g={};if(!Vc(u,n.realSize,d,h))g=Object.assign(Object.assign({},g),Zc(u,f,this.store.get("realCount"),l,n)),this.setViewport(Object.assign({},g));else if(tu(u,l,d,h)){const p=[...f.items],v=ei(d,this.store.get("realCount"),l+u-d.start,f,{sizes:n.sizes,originItemSize:n.originItemSize});if(v.length){const m={start:this.store.get("start"),end:this.store.get("end")};ti(p,v,m),g=Object.assign(Object.assign(Object.assign({},g),{items:[...p]}),m),this.setViewport(Object.assign({},g))}}}setOriginalSizes(e){const n=this.store.get("items");n.length&&C(this.store,{items:eu(n,this.store.get("start"),e,this.lastCoordinate)})}getItems(){return{items:this.store.get("items"),start:this.store.get("start"),end:this.store.get("end")}}setViewport(e){(typeof e.realCount=="number"||typeof e.virtualSize=="number")&&(e=Object.assign(Object.assign({},e),{items:e.items||[]})),C(this.store,e)}}/*!
 * Built by Revolist OU ❤️
 */const je="rv-filter",su="active",si="hasFilter",iu="and-or-button",ru="trash-button",hd=({column:t})=>x("span",null,x("button",{class:{[je]:!0,[su]:t&&!!t[si]}},x("svg",{class:"filter-img",viewBox:"0 0 64 64"},x("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},x("path",{d:"M43,48 L43,56 L21,56 L21,48 L43,48 Z M53,28 L53,36 L12,36 L12,28 L53,28 Z M64,8 L64,16 L0,16 L0,8 L64,8 Z",fill:"currentColor"}))))),gd=()=>x("div",{class:{[ru]:!0}},x("svg",{class:"trash-img",viewBox:"0 0 24 24"},x("path",{fill:"currentColor",d:"M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z"}))),pd=({text:t})=>x("button",{class:{[iu]:!0,"light revo-button":!0}},t);function ou(t){return t.classList.contains(je)?!0:t==null?void 0:t.closest(`.${je}`)}/*!
 * Built by Revolist OU ❤️
 */function ft(t,e,n){const s=new CustomEvent(e,{detail:n,cancelable:!0,bubbles:!0});return t==null||t.dispatchEvent(s),s}function vd(t,e,n){return t.preventDefault(),ft(t.target,e,n)}var ht;(function(t){t.start="resize:start",t.move="resize:move",t.end="resize:end"})(ht||(ht={}));const q={"resizable-r":{bit:1,cursor:"ew-resize"},"resizable-rb":{bit:3,cursor:"se-resize"},"resizable-b":{bit:2,cursor:"s-resize"},"resizable-lb":{bit:6,cursor:"sw-resize"},"resizable-l":{bit:4,cursor:"w-resize"},"resizable-lt":{bit:12,cursor:"nw-resize"},"resizable-t":{bit:8,cursor:"n-resize"},"resizable-rt":{bit:9,cursor:"ne-resize"}},Pt={w:4,h:8},au=t=>Object.assign(Object.assign({},t),{fitParent:t.fitParent||!1,active:t.active||[],disableAttributes:t.disableAttributes||[],minWidth:t.minWidth||0,minHeight:t.minHeight||0});class Xt{constructor(e,n){var s,i;this.initialProps=e,this.$event=n,this.mouseX=0,this.mouseY=0,this.width=0,this.height=0,this.changeX=0,this.changeY=0,this.disableCalcMap=15,this.props=au(e),this.mouseMoveFunc=this.handleMove.bind(this),this.mouseUpFunc=this.handleUp.bind(this),this.minW=this.props.minWidth,this.minH=this.props.minHeight,this.maxW=(s=this.props.maxWidth)!==null&&s!==void 0?s:0,this.maxH=(i=this.props.maxHeight)!==null&&i!==void 0?i:0,this.parent={width:0,height:0},this.resizeState=0}set(e){this.$el=e,this.props.disableAttributes.forEach(n=>{switch(n){case"l":this.disableCalcMap&=-2;break;case"t":this.disableCalcMap&=-3;break;case"w":this.disableCalcMap&=-5;break;case"h":this.disableCalcMap&=-9}})}emitEvent(e,n){var s;if(!this.$event)return;const i=(s=this.activeResizer)===null||s===void 0?void 0:s.classList.contains("resizable-l");this.$event(Object.assign({eventName:e,width:this.width+this.changeX*(i?-1:1),height:this.height+this.changeY,changedX:this.changeX,changedY:this.changeY},n))}static isTouchEvent(e){var n;return((n=e.touches)===null||n===void 0?void 0:n.length)>=0}handleMove(e){var n;if(!this.resizeState)return;let s,i;Xt.isTouchEvent(e)?(s=e.touches[0].clientY,i=e.touches[0].clientX):(s=e.clientY,i=e.clientX);let r=this.resizeState&q["resizable-r"].bit||this.resizeState&q["resizable-l"].bit;if((this.resizeState&q["resizable-t"].bit||this.resizeState&q["resizable-b"].bit)&&this.disableCalcMap&Pt.h){let a=s-this.mouseY,l=this.changeY+a;const c=this.height+l;c<this.minH&&(l=-(this.height-this.minH)),this.maxH&&c>this.maxH&&(l=this.maxH-this.height),this.changeY=l,this.mouseY=s,this.activeResizer&&(this.activeResizer.style.bottom=`${-this.changeY}px`)}if(r&&this.disableCalcMap&Pt.w){const a=(n=this.activeResizer)===null||n===void 0?void 0:n.classList.contains("resizable-l");let l=i-this.mouseX,c=this.changeX+l;const u=this.width+c*(a?-1:1);u<this.minW&&(c=-(this.width-this.minW)),this.maxW&&u>this.maxW&&(c=this.maxW-this.width),this.changeX=c,this.mouseX=i,this.activeResizer&&(a?this.activeResizer.style.left=`${this.changeX}px`:this.activeResizer.style.right=`${-this.changeX}px`)}this.emitEvent(ht.move)}handleDown(e){if(!e.defaultPrevented){e.preventDefault(),this.dropInitial();for(let n in q){const s=e.target;if(this.$el.contains(s)&&(s!=null&&s.classList.contains(n))){document.body.style.cursor=q[n].cursor,Xt.isTouchEvent(e)?this.setInitials(e.touches[0],s):(e.preventDefault&&e.preventDefault(),this.setInitials(e,s)),this.resizeState=q[n].bit;const i=ht.start;this.emitEvent(i);break}}this.bindMove()}}handleUp(e){if(e.preventDefault(),this.resizeState!==0){this.resizeState=0,document.body.style.cursor="";const n=ht.end;this.emitEvent(n)}this.dropInitial(),this.unbindMove()}setInitials({clientX:e,clientY:n},s){var i,r,o,a;const l=getComputedStyle(this.$el);if(this.$el.classList.add("active"),this.activeResizer=s,this.disableCalcMap&Pt.w){this.mouseX=e,this.width=this.$el.clientWidth,this.parent.width=(r=(i=this.$el.parentElement)===null||i===void 0?void 0:i.clientWidth)!==null&&r!==void 0?r:0;const c=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight);this.minW=Math.max(c,this.initialProps.minWidth||0),this.initialProps.maxWidth&&(this.maxW=Math.max(this.width,this.initialProps.maxWidth))}if(this.disableCalcMap&Pt.h){this.mouseY=n,this.height=this.$el.clientHeight,this.parent.height=(a=(o=this.$el.parentElement)===null||o===void 0?void 0:o.clientHeight)!==null&&a!==void 0?a:0;const c=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom);this.minH=Math.max(c,this.initialProps.minHeight||0),this.initialProps.maxHeight&&(this.maxH=Math.max(this.height,this.initialProps.maxHeight))}}dropInitial(){this.changeX=this.changeY=this.minW=this.minH,this.width=this.height=0,this.activeResizer&&this.activeResizer.removeAttribute("style"),this.$el.classList.remove("active"),this.activeResizer=void 0}bindMove(){document.documentElement.addEventListener("mouseup",this.mouseUpFunc,!0),document.documentElement.addEventListener("touchend",this.mouseUpFunc,!0),document.documentElement.addEventListener("mousemove",this.mouseMoveFunc,!0),document.documentElement.addEventListener("touchmove",this.mouseMoveFunc,!0),document.documentElement.addEventListener("mouseleave",this.mouseUpFunc)}unbindMove(){document.documentElement.removeEventListener("mouseup",this.mouseUpFunc,!0),document.documentElement.removeEventListener("touchend",this.mouseUpFunc,!0),document.documentElement.removeEventListener("mousemove",this.mouseMoveFunc,!0),document.documentElement.removeEventListener("touchmove",this.mouseMoveFunc,!0),document.documentElement.removeEventListener("mouseleave",this.mouseUpFunc)}}const lu=(t,e)=>{const n=[],s=t.canResize&&new Xt(t,i=>{var r;i.eventName===ht.end&&((r=t.onResize)===null||r===void 0||r.call(t,i))})||null;if(t.active)if(t.canResize)for(let i in t.active)n.push(x("div",{onClick:r=>r.preventDefault(),onDblClick:r=>{var o;r.preventDefault(),(o=t.onDblClick)===null||o===void 0||o.call(t,r)},onMouseDown:r=>s==null?void 0:s.handleDown(r),onTouchStart:r=>s==null?void 0:s.handleDown(r),class:`resizable resizable-${t.active[i]}`}));else for(let i in t.active)n.push(x("div",{onClick:r=>r.preventDefault(),onTouchStart:r=>r.preventDefault(),onDblClick:r=>{var o;r.preventDefault(),(o=t.onDblClick)===null||o===void 0||o.call(t,r)},class:`no-resize resizable resizable-${t.active[i]}`}));return x("div",Object.assign({},t,{ref:i=>i&&(s==null?void 0:s.set(i))}),e,n)},ii="columnclick",md=({data:t,props:e,additionalData:n},s)=>{let i=(t==null?void 0:t.name)||"",r=e;if(t!=null&&t.columnTemplate&&(i=t.columnTemplate(x,t,n)),t!=null&&t.columnProperties){const a=t.columnProperties(t);a&&(r=Vs(e,a))}const o=Object.assign(Object.assign({},r),{onMouseDown(a){ft(a.currentTarget,ii,{data:t,event:a})}});return x(lu,Object.assign({},o),x("div",{class:"header-content"},i),s)};/*!
 * Built by Revolist OU ❤️
 */const cu=t=>({set(e){switch(e){case"count":case"sizes":case"originItemSize":{let n=0;const s=t.store.get("count");for(let i=0;i<s;i++)n+=t.store.get("sizes")[i]||t.store.get("originItemSize");t.setStore({realSize:n});break}}}}),uu=t=>{let e=null,n=null;return{set(s,i){switch(s){case"sizes":{if(e&&e===i){e=null;return}n=null;break}case"trimmed":{const r=i;n||(n=t.store.get("sizes")),e=fu(n,r||{}),t.setSizes(e);break}}}}};function fu(t,e){const n={},s=Object.keys(t||{}).map(Number).sort((o,a)=>o-a),i=s[s.length-1];let r=0;for(let o=0;o<=i;o++)e[o]!==void 0&&(r++,t[o]!==void 0)||t[o]!==void 0&&(n[o-r]=t[o]);return n}function ri(){return{indexes:[],count:0,trimmed:null,sizes:{},positionIndexToItem:{},indexToItem:{},positionIndexes:[]}}function fe(){return Object.assign(Object.assign({},ri()),{realSize:0,originItemSize:0})}class $d{constructor(e){this.type=e,this.store=te(fe()),this.store.use(uu({store:this.store,setSizes:this.setDimensionSize.bind(this)})),this.store.use(cu({store:this.store,setStore:this.setStore.bind(this)}))}getCurrentState(){const e=fe(),n=Object.keys(e);return yt(n,(s,i)=>{const r=this.store.get(i);return s[i]=r,s},e)}dispose(){C(this.store,fe())}setStore(e){C(this.store,e)}drop(){C(this.store,ri())}setDimensionSize(e={}){const n=Tc(this.store.get("originItemSize"),e);C(this.store,Object.assign(Object.assign({},n),{sizes:e}))}updateSizesPositionByIndexes(e,n=[]){const s=Object.assign({},this.store.get("sizes"));if(!Object.keys(s).length)return;const i={};n.forEach((o,a)=>{i[o]||(i[o]=[]),i[o].push(a)});const r={};e.forEach((o,a)=>{const l=i[o];if(l&&l.length>0){const c=l.shift();c!==void 0&&c!==a&&s[c]&&(r[a]=s[c],delete s[c])}}),Object.keys(r).length&&this.setDimensionSize(Object.assign(Object.assign({},s),r))}}class it{constructor(e,n){this.revogrid=e,this.providers=n,this.h=x,this.subscriptions={}}addEventListener(e,n){this.revogrid.addEventListener(e,n),this.subscriptions[e]=n}watch(e,n,{immediate:s}={immediate:!1}){const i=Object.getOwnPropertyDescriptor(this.revogrid,e)||Object.getOwnPropertyDescriptor(this.revogrid.constructor.prototype,e);Object.defineProperty(this.revogrid,e,{set(r){var o;if(n(r)!==!1)return(o=i==null?void 0:i.set)===null||o===void 0?void 0:o.call(this,r)},get(){var r;return(r=i==null?void 0:i.get)===null||r===void 0?void 0:r.call(this)}}),s&&n(i==null?void 0:i.value)}removeEventListener(e){this.revogrid.removeEventListener(e,this.subscriptions[e]),delete this.subscriptions[e]}emit(e,n){const s=new CustomEvent(e,{detail:n,cancelable:!0});return this.revogrid.dispatchEvent(s),s}clearSubscriptions(){for(let e in this.subscriptions)this.removeEventListener(e)}destroy(){this.clearSubscriptions()}}function du(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}function hu(t){return typeof t=="function"?t:Ve}function z(t,e){var n=L(t)?du:Ws;return n(t,hu(e))}const gu=7;class yd extends it{constructor(e,n,s){super(e,n),this.providers=n,this.config=s,this.autoSizeColumns=null,this.dataResolve=null,this.dataReject=null,this.letterBlockSize=(s==null?void 0:s.letterBlockSize)||gu,s!=null&&s.preciseSize&&(this.precsizeCalculationArea=this.initiatePresizeElement(),e.appendChild(this.precsizeCalculationArea));const i=({detail:{source:o}})=>{this.setSource(o)},r=({detail:{columns:o}})=>{this.columnSet(o)};switch(this.addEventListener("beforecolumnsset",r),s==null?void 0:s.mode){case"autoSizeOnTextOverlap":this.addEventListener("aftersourceset",i),this.addEventListener("afteredit",({detail:o})=>{this.afteredit(o)});break;case"autoSizeAll":this.addEventListener("aftersourceset",i),this.addEventListener("afteredit",({detail:o})=>{this.afterEditAll(o)});break;default:this.addEventListener("headerdblclick",({detail:o})=>{const a=Pc(o.column),l=this.getColumnSize(o.index,a);l&&this.providers.dimension.setCustomSizes(a,{[o.index]:l},!0)});break}}async setSource(e){let n=this.autoSizeColumns;if(this.dataReject&&(this.dataReject(),this.clearPromise()),!n){const s=new Promise((i,r)=>{this.dataResolve=i,this.dataReject=r});try{n=await s}catch{return}}z(n,(s,i)=>{const r={};z(n[i],o=>{o.size=r[o.index]=e.reduce((a,l)=>Math.max(a,this.getLength(l[o.prop])),this.getLength(o.name||""))}),this.providers.dimension.setCustomSizes(i,r,!0)})}getLength(e){var n;if(!e)return 0;try{const i=e.toString();return!((n=this.config)===null||n===void 0)&&n.preciseSize?(this.precsizeCalculationArea.innerText=i,this.precsizeCalculationArea.scrollWidth+15*2):i.length*this.letterBlockSize+15*2}catch{return 0}}afteredit(e){let n;this.isRangeEdit(e)?n=e.data:n={0:{[e.prop]:e.val}},z(this.autoSizeColumns,(s,i)=>{const r={};z(s,o=>{var a;const l=yt(n,(c,u)=>typeof u[o.prop]>"u"?c:Math.max(c||0,this.getLength(u[o.prop])),void 0);l&&((a=o.size)!==null&&a!==void 0?a:0)<l&&(o.size=r[o.index]=l)}),this.providers.dimension.setCustomSizes(i,r,!0)})}afterEditAll(e){const n={};this.isRangeEdit(e)?z(e.data,s=>z(s,(i,r)=>n[r]=!0)):n[e.prop]=!0,z(this.autoSizeColumns,(s,i)=>{const r={};z(s,o=>{if(n[o.prop]){const a=this.getColumnSize(o.index,i);a&&(r[o.index]=a)}}),this.providers.dimension.setCustomSizes(i,r,!0)})}getColumnSize(e,n){var s,i;const r=(i=(s=this.autoSizeColumns)===null||s===void 0?void 0:s[n])===null||i===void 0?void 0:i[e];return r?yt(this.providers.data.stores,(o,a)=>{const l=yt(a.store.get("items"),(c,u,f)=>{const d=ct(a.store,f);return Math.max(c||0,this.getLength(d==null?void 0:d[r.prop]))},0);return Math.max(o,l)},r.size||0):0}columnSet(e){var n;for(let s of J){const i=s,r=e[i];for(let o in r)(r[o].autoSize||!((n=this.config)===null||n===void 0)&&n.allColumns)&&(this.autoSizeColumns||(this.autoSizeColumns={}),this.autoSizeColumns[i]||(this.autoSizeColumns[i]={}),this.autoSizeColumns[i][o]=Object.assign(Object.assign({},r[o]),{index:parseInt(o,10)}))}this.dataResolve&&(this.dataResolve(this.autoSizeColumns||{}),this.clearPromise())}clearPromise(){this.dataResolve=null,this.dataReject=null}isRangeEdit(e){return!!e.data}initiatePresizeElement(){var e;const n={position:"absolute",fontSize:"14px",height:"0",width:"0",whiteSpace:"nowrap",top:"0",overflowX:"scroll",display:"block"},s=document.createElement("div");for(let i in n)s.style[i]=(e=n[i])!==null&&e!==void 0?e:"";return s.classList.add("revo-test-container"),s}destroy(){var e;super.destroy(),(e=this.precsizeCalculationArea)===null||e===void 0||e.remove()}}class bd extends it{constructor(e,n){super(e,n),this.providers=n,this.stretchedColumn=null,this.scrollSize=fc(document);const s=({detail:{columns:i}})=>this.applyStretch(i);this.addEventListener("beforecolumnapplied",s)}setScroll({type:e,hasScroll:n}){var s;e==="rgRow"&&this.stretchedColumn&&((s=this.stretchedColumn)===null||s===void 0?void 0:s.initialSize)===this.stretchedColumn.size&&n&&(this.stretchedColumn.size-=this.scrollSize,this.apply(),this.dropChanges())}activateChanges(){const e=({detail:n})=>this.setScroll(n);this.addEventListener("scrollchange",e)}dropChanges(){this.stretchedColumn=null,this.removeEventListener("scrollchange")}apply(){if(!this.stretchedColumn)return;const e="rgCol",n=this.providers.dimension.stores[e].store.get("sizes");this.providers.dimension.setCustomSizes(e,Object.assign(Object.assign({},n),{[this.stretchedColumn.index]:this.stretchedColumn.size}),!0)}applyStretch(e){this.dropChanges();let n=this.revogrid.clientWidth-1;if(z(e,(s,i)=>{const r=this.providers.dimension.stores[i].store.get("realSize");n-=r}),this.revogrid.rowHeaders){const s=this.providers.data.stores.rgRow.store.get("source").length,i=this.revogrid.rowHeaders,r=qc(s,typeof i=="object"?i:void 0);r&&(n-=r)}if(n>0){const s=e.rgCol.length-1,i=e.rgCol[s],r=(i==null?void 0:i.size)||this.revogrid.colSize||0,o=n+r-1;i&&!i.autoSize&&r<o&&(this.stretchedColumn={initialSize:o,index:s,size:o},this.apply(),this.activateChanges())}}}function Sd(t){return!!t.applyStretch}function pu(t,e,n){return t===t&&(t=t<=n?t:n,t=t>=e?t:e),t}var vu=4294967295;function mu(t){return t?pu(Ct(t),0,vu):0}function $u(t,e,n,s){var i=t.length;for(n=Ct(n),n<0&&(n=-n>i?0:i+n),s=s===void 0||s>i?i:Ct(s),s<0&&(s+=i),s=n>s?0:mu(s);n<s;)t[n++]=e;return t}function yu(t,e,n,s){var i=t==null?0:t.length;return i?$u(t,e,n,s):[]}const bu={mime:"text/csv",fileKind:"csv",bom:!0,columnDelimiter:",",rowDelimiter:`\r
`,encoding:""},Su="\r",Eu=`
`,_u='"',Ou="\uFEFF",Tu=new RegExp('"',"g");class Cu{constructor(e={}){this.options=Object.assign(Object.assign({},bu),e)}doExport({data:e,headers:n,props:s}){let i=this.options.bom?Ou:"";return(n==null?void 0:n.length)>0&&n.forEach(r=>{r.length&&(i+=this.prepareHeader(r,this.options.columnDelimiter),i+=this.options.rowDelimiter)}),e.forEach((r,o)=>{if(o>0&&(i+=this.options.rowDelimiter),F(r)){i+=this.parseCell(kc(r),this.options.columnDelimiter);return}i+=s.map(a=>this.parseCell(r[a],this.options.columnDelimiter)).join(this.options.columnDelimiter)}),i}prepareHeader(e,n){let s="";const i=e.map(r=>this.parseCell(r,n,!0));return s+=i.join(n),s}parseCell(e,n,s=!1){let i=e;typeof e!="string"&&(i=JSON.stringify(e));const r=[Su,_u,Eu,n];return typeof i>"u"?"":i!==""&&(s||r.some(o=>i.indexOf(o)>=0))?`"${i.replace(Tu,'""')}"`:i}}var dt;(function(t){t.csv="csv"})(dt||(dt={}));class Ed extends it{async exportString(e={},n=dt.csv){const s=await this.beforeexport();return s?this.formatter(n,e).doExport(s):null}async exportBlob(e={},n=dt.csv){return await this.getBlob(this.formatter(n,e))}async exportFile(e={},n=dt.csv){const s=this.formatter(n,e),i=window.URL||window.webkitURL,r=document.createElement("a"),{filename:o,fileKind:a}=s.options,l=`${o}.${a}`,c=await this.getBlob(s),u=c?i.createObjectURL(c):"";r.style.display="none",r.setAttribute("href",u),r.setAttribute("download",l),this.revogrid.appendChild(r),r.dispatchEvent(new MouseEvent("click")),this.revogrid.removeChild(r),await ks(120),i.revokeObjectURL(u)}async getBlob(e){const n=`${e.options.mime};charset=${e.options.encoding}`;if(typeof Blob<"u"){const s=await this.beforeexport();return s?new Blob([e.doExport(s)],{type:n}):null}return null}async beforeexport(){let e=await this.getData();const n=this.emit("beforeexport",{data:e});return n.defaultPrevented?null:n.detail.data}async getData(){const e=await this.getSource(),n=[],s=[];J.forEach((r,o)=>{s.push(this.getColPerSource(r).then(a=>n[o]=a))}),await Promise.all(s);const i={headers:[],props:[]};for(let r of n)r.headers.forEach((o,a)=>{i.headers[a]||(i.headers[a]=[]),i.headers[a].push(...o)}),i.props.push(...r.props);return Object.assign({data:e},i)}async getColPerSource(e){const n=await this.revogrid.getColumnStore(e),s=n.get("source"),i=n.get("items"),r=n.get("groupingDepth"),o=n.get("groups"),a=[],l=[];i.forEach(u=>{const f=s[u].prop;a.push(s[u].name||""),l.push(f)});const c=this.getGroupHeaders(r,o,i);return c.push(a),{headers:c,props:l}}getGroupHeaders(e,n,s){const i=[],r=yu(new Array(s.length),"");for(let o=0;o<e;o++){const a=[...r];if(i.push(a),!n[o])continue;n[o].forEach(c=>{const u=c.indexes[0];typeof u=="number"&&(a[u]=c.name)})}return i}async getSource(){const e=[],n=[];return en.forEach(s=>{const i=[];e.push(i);const r=this.revogrid.getVisibleSource(s).then(o=>i.push(...o));n.push(r)}),await Promise.all(n),e.reduce((s,i)=>(s.push(...i),s),[])}formatter(e,n={}){switch(e){case dt.csv:return new Cu(n);default:throw new Error("Unknown format")}}}const pt=(t,e)=>{if(typeof t>"u"||t===null&&!e)return!0;typeof t!="string"&&(t=JSON.stringify(t));const n=e==null?void 0:e.toString().toLocaleLowerCase();return(n==null?void 0:n.length)===0?!0:t.toLocaleLowerCase()===n},Me=(t,e)=>!pt(t,e);Me.extra="input";pt.extra="input";const an=function(t,e){let n;return typeof t=="number"&&typeof e<"u"&&e!==null?(n=parseFloat(e==null?void 0:e.toString()),t>n):!1};an.extra="input";const oi=function(t,e){return pt(t,e)||an(t,e)};oi.extra="input";const ln=function(t,e){let n;return typeof t=="number"&&typeof e<"u"&&e!==null?(n=parseFloat(e.toString()),t<n):!1};ln.extra="input";const ai=function(t,e){return pt(t,e)||ln(t,e)};ai.extra="input";const li=t=>!(t===""||t===null||t===void 0),Iu=t=>!li(t),ci=(t,e)=>t?e?(typeof t!="string"&&(t=JSON.stringify(t)),typeof e!="string"&&(e=JSON.stringify(e)),t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())===0):!0:!1;ci.extra="input";const cn=(t,e)=>e?t?e?(typeof t!="string"&&(t=JSON.stringify(t)),t.toLocaleLowerCase().indexOf(e.toString().toLowerCase())>-1):!0:!1:!0,ui=(t,e)=>!cn(t,e);ui.extra="input";cn.extra="input";const xu={none:()=>!0,empty:Iu,notEmpty:li,eq:pt,notEq:Me,begins:ci,contains:cn,notContains:ui,eqN:pt,neqN:Me,gt:an,gte:oi,lt:ln,lte:ai},wu={string:["notEmpty","empty","eq","notEq","begins","contains","notContains"],number:["notEmpty","empty","eqN","neqN","gt","gte","lt","lte"]},Ru={none:"None",empty:"Not set",notEmpty:"Set",eq:"Equal",notEq:"Not equal",begins:"Begins with",contains:"Contains",notContains:"Does not contain",eqN:"=",neqN:"!=",gt:">",gte:">=",lt:"<",lte:"<="},fi="filter",Au="filterconfigchanged",Lu="revogr-filter-panel";class _d extends it{constructor(e,n,s){var i;super(e,n),this.revogrid=e,this.config=s,this.filterCollection={},this.multiFilterItems={},this.filterByType=Object.assign({},wu),this.filterNameIndexByType=Object.assign({},Ru),this.filterFunctionsIndexedByType=Object.assign({},xu),this.filterProp=si,s&&this.initConfig(s);const r=this.revogrid.registerVNode.filter(a=>typeof a=="object"&&a.$tag$!==Lu);this.revogrid.registerVNode=[...r,x("revogr-filter-panel",{filterNames:this.filterNameIndexByType,filterEntities:this.filterFunctionsIndexedByType,filterCaptions:(i=s==null?void 0:s.localization)===null||i===void 0?void 0:i.captions,onFilterChange:a=>this.onFilterChange(a.detail),onResetChange:a=>this.onFilterReset(a.detail),disableDynamicFiltering:s==null?void 0:s.disableDynamicFiltering,closeOnOutsideClick:s==null?void 0:s.closeFilterPanelOnOutsideClick,ref:a=>this.pop=a}," ",this.extraContent())];const o=async()=>{const a=Object.keys(this.filterCollection);a.length>0&&a.forEach((l,c)=>{this.multiFilterItems[l]||(this.multiFilterItems[l]=[{id:c,type:this.filterCollection[l].type,value:this.filterCollection[l].value,relation:"and"}])}),Object.keys(this.multiFilterItems).length!==0&&await this.runFiltering(this.multiFilterItems)};this.addEventListener("headerclick",a=>this.headerclick(a)),this.addEventListener(Au,({detail:a})=>{if(!a||typeof a=="object"&&(!a.multiFilterItems||!Object.keys(a.multiFilterItems).length)){this.clearFiltering();return}typeof a=="object"&&this.initConfig(a),o()}),this.addEventListener("aftersourceset",o),this.addEventListener("filter",({detail:a})=>this.onFilterChange(a))}beforeshow(e){}extraContent(){return null}initConfig(e){if(e.multiFilterItems?this.multiFilterItems=Object.assign({},e.multiFilterItems):this.multiFilterItems={},e.customFilters)for(let s in e.customFilters){const i=e.customFilters[s];this.filterByType[i.columnFilterType]||(this.filterByType[i.columnFilterType]=[]),this.filterByType[i.columnFilterType].push(s),this.filterFunctionsIndexedByType[s]=i.func,this.filterNameIndexByType[s]=i.name}e.filterProp&&(this.filterProp=e.filterProp);const n=e.include;if(n){const s={};for(let i in this.filterByType){const r=this.filterByType[i].filter(o=>n.indexOf(o)>-1);r.length&&(s[i]=r)}Object.keys(s).length>0&&(this.filterByType=s)}if(e.collection){const s=Object.entries(e.collection).filter(([,i])=>this.filterFunctionsIndexedByType[i.type]);this.filterCollection=Object.fromEntries(s)}else this.filterCollection={};e.localization&&e.localization.filterNames&&Object.entries(e.localization.filterNames).forEach(([s,i])=>{this.filterNameIndexByType[s]!=null&&(this.filterNameIndexByType[s]=i)})}async headerclick(e){var n,s;const i=(n=e.detail.originalEvent)===null||n===void 0?void 0:n.target;if(!ou(i)||(e.preventDefault(),!this.pop))return;const r=this.revogrid.getBoundingClientRect(),o=i.getBoundingClientRect(),a=e.detail.prop,l=Object.assign(Object.assign(Object.assign({},e.detail),this.filterCollection[a]),{x:o.x-r.x,y:o.y-r.y+o.height,autoCorrect:!0,filterTypes:this.getColumnFilter(e.detail.filter),filterItems:this.multiFilterItems,extraContent:this.extraHyperContent});(s=this.beforeshow)===null||s===void 0||s.call(this,l),this.pop.show(l)}getColumnFilter(e){let n="string";if(!e)return{[n]:this.filterByType[n]};if(this.isValidType(e))n=e;else if(typeof e=="object"&&e.length)return e.reduce((s,i)=>(this.isValidType(i)&&(s[i]=this.filterByType[i]),s),{});return{[n]:this.filterByType[n]}}isValidType(e){return!!(typeof e=="string"&&this.filterByType[e])}async onFilterChange(e){this.multiFilterItems=e,this.runFiltering(this.multiFilterItems)}onFilterReset(e){delete this.multiFilterItems[e??""],this.onFilterChange(this.multiFilterItems)}async doFiltering(e,n,s,i){const r=[],o={};s.forEach(u=>{const f=Object.assign({},u),d=i[f.prop];o[f.prop]=f,f[this.filterProp]&&!d&&(delete f[this.filterProp],r.push(f)),!f[this.filterProp]&&d&&(r.push(f),f[this.filterProp]=!0)});const a=this.getRowFilter(n,i,o),{defaultPrevented:l,detail:c}=this.emit("beforefiltertrimmed",{collection:e,itemsToFilter:a,source:n,filterItems:i});l||(this.providers.data.setTrimmed({[fi]:c.itemsToFilter}),this.providers.column.updateColumns(r),this.emit("afterfilterapply",{multiFilterItems:i,source:n,collection:e}))}async clearFiltering(){this.multiFilterItems={},await this.runFiltering(this.multiFilterItems)}async runFiltering(e){const n={},s=Object.keys(e);for(const l of s)if(e[l].length>0){const c=e[l][0];n[l]={type:c.type,value:c.value}}this.filterCollection=n;const i=this.providers.column.getColumns(),r=this.providers.data.stores.rgRow.store.get("source"),{defaultPrevented:o,detail:a}=this.emit("beforefilterapply",{collection:this.filterCollection,source:r,columns:i,filterItems:this.multiFilterItems});o||this.doFiltering(a.collection,a.source,a.columns,a.filterItems)}getRowFilter(e,n,s){const i=Object.keys(n),r={};for(let o=0;o<e.length;o++)for(const a of i)this.shouldTrimRow(n[a],a,s[a],e[o])&&(r[o]=!0);return r}shouldTrimRow(e,n,s,i={}){let r=0,o=[];for(const[a,l]of e.entries()){const c=this.filterFunctionsIndexedByType[l.type],u=s?Lc(i,s):i[n];if(l.relation==="or"){if(o=[],c(u,l.value))continue;r++}else if(o.push(!c(u,l.value)),Pu(a,e)){if(Du(o)){o=[];continue}r+=o.length,o=[]}}return r===e.length}}function Pu(t,e){const n=e[t+1];return!n||!!n.relation&&n.relation!=="and"}function Du(t){return!t.includes(!0)}var zu="[object String]";function Fu(t){return typeof t=="string"||!L(t)&&V(t)&&nt(t)==zu}var ju=Bs("length"),Mu="\\ud800-\\udfff",Nu="\\u0300-\\u036f",Bu="\\ufe20-\\ufe2f",Hu="\\u20d0-\\u20ff",Uu=Nu+Bu+Hu,ku="\\ufe0e\\ufe0f",Gu="\\u200d",Wu=RegExp("["+Gu+Mu+Uu+ku+"]");function Ku(t){return Wu.test(t)}var di="\\ud800-\\udfff",Xu="\\u0300-\\u036f",Yu="\\ufe20-\\ufe2f",qu="\\u20d0-\\u20ff",Zu=Xu+Yu+qu,Ju="\\ufe0e\\ufe0f",Qu="["+di+"]",Ne="["+Zu+"]",Be="\\ud83c[\\udffb-\\udfff]",Vu="(?:"+Ne+"|"+Be+")",hi="[^"+di+"]",gi="(?:\\ud83c[\\udde6-\\uddff]){2}",pi="[\\ud800-\\udbff][\\udc00-\\udfff]",tf="\\u200d",vi=Vu+"?",mi="["+Ju+"]?",ef="(?:"+tf+"(?:"+[hi,gi,pi].join("|")+")"+mi+vi+")*",nf=mi+vi+ef,sf="(?:"+[hi+Ne+"?",Ne,gi,pi,Qu].join("|")+")",es=RegExp(Be+"(?="+Be+")|"+sf+nf,"g");function rf(t){for(var e=es.lastIndex=0;es.test(t);)++e;return e}function of(t){return Ku(t)?rf(t):ju(t)}var af="[object Map]",lf="[object Set]";function cf(t){if(t==null)return 0;if(Qt(t))return Fu(t)?of(t):t.length;var e=H(t);return e==af||e==lf?t.size:Ds(t).length}function uf(t,e,n={}){return Object.entries(n).length===0?[...Array(t.length).keys()]:t.sort((s,i)=>{const r=e[s],o=e[i];for(const[a,l]of Object.entries(n)){if(F(r)&&r["__rvgr-prop"]!==a||F(o)&&o["__rvgr-prop"]!==a)return 0;const c=l==null?void 0:l(a,r,o);if(c)return c}return 0})}function de(t,e,n){const s=this.column?Gt(e,this.column):e==null?void 0:e[t],i=this.column?Gt(n,this.column):n==null?void 0:n[t],r=s==null?void 0:s.toString().toLowerCase(),o=i==null?void 0:i.toString().toLowerCase();return r===o?0:r>o?1:-1}function ff(t){return(e,n,s)=>-1*t(e,n,s)}function df(t){switch(t){case void 0:return"asc";case"asc":return"desc";case"desc":return}}function he(t,e){var n;const s=((n=t==null?void 0:t.cellCompare)===null||n===void 0?void 0:n.bind({order:e}))||(de==null?void 0:de.bind({column:t,order:e}));if(e=="asc")return s;if(e=="desc")return ff(s)}class hf extends it{constructor(e,n,s){super(e,n),this.revogrid=e,this.sortingPromise=null,this.postponeSort=Cs((r,o,a)=>this.runSorting(r,o,a),50);const i=r=>{var o;if(r){const a={},l={};(o=r.columns)===null||o===void 0||o.forEach(c=>{a[c.prop]=he(c,c.order),l[c.prop]=c.order}),r.additive?(this.sorting=Object.assign(Object.assign({},this.sorting),l),this.sortingFunc=Object.assign(Object.assign({},this.sortingFunc),a)):(this.sorting=l,this.sortingFunc=a)}};i(s),this.addEventListener("sortingconfigchanged",({detail:r})=>{s=r,i(r),this.startSorting(this.sorting,this.sortingFunc)}),this.addEventListener("beforeheaderrender",({detail:r})=>{var o;const{data:a}=r;a.sortable&&(r.data=Object.assign(Object.assign({},a),{order:(o=this.sorting)===null||o===void 0?void 0:o[a.prop]}))}),this.addEventListener("beforeanysource",({detail:{type:r}})=>{if(this.sorting&&this.sortingFunc){if(this.emit("beforesourcesortingapply",{type:r,sorting:this.sorting}).defaultPrevented)return;this.startSorting(this.sorting,this.sortingFunc)}}),this.addEventListener("aftercolumnsset",({detail:{order:r}})=>{if(s)return;const o=this.providers.column.getColumns(),a={};for(let l in r){const c=he(Fc(o,l),r[l]);a[l]=c}this.sorting=r,this.sortingFunc=r&&a}),this.addEventListener("beforeheaderclick",r=>{var o,a,l,c;r.defaultPrevented||!((a=(o=r.detail)===null||o===void 0?void 0:o.column)===null||a===void 0)&&a.sortable&&this.headerclick(r.detail.column,(c=(l=r.detail)===null||l===void 0?void 0:l.originalEvent)===null||c===void 0?void 0:c.shiftKey)})}startSorting(e,n,s){this.sortingPromise||this.revogrid.jobsBeforeRender.push(new Promise(i=>{this.sortingPromise=i})),this.postponeSort(e,n,s)}headerclick(e,n){var s,i,r;const o=e.prop;let a=df((s=this.sorting)===null||s===void 0?void 0:s[o]);const l=this.emit("beforesorting",{column:e,order:a,additive:n});if(l.defaultPrevented)return;a=l.detail.order;const c=this.emit("beforesortingapply",{column:l.detail.column,order:a,additive:n});if(c.defaultPrevented)return;const u=he(c.detail.column,c.detail.order);if(c.detail.additive&&this.sorting){const f={},d={};this.sorting=Object.assign(Object.assign({},this.sorting),f),this.sortingFunc=Object.assign(Object.assign({},this.sortingFunc),d),o in f&&cf(f)>1&&a===void 0?(delete f[o],delete d[o]):(f[o]=a,d[o]=u)}else a?(this.sorting={[o]:a},this.sortingFunc={[o]:u}):((i=this.sorting)===null||i===void 0||delete i[o],(r=this.sortingFunc)===null||r===void 0||delete r[o]);this.startSorting(this.sorting,this.sortingFunc)}runSorting(e,n,s){var i;this.sort(e,n,void 0,s),(i=this.sortingPromise)===null||i===void 0||i.call(this),this.sortingPromise=null}sort(e,n,s=en,i=!1){if(Object.keys(e||{}).length)for(let r of s){const o=this.providers.data.stores[r],a=o.store.get("source"),l=o.store.get("proxyItems"),c=uf([...l],a,n),u=o.store.get("items");o.setData({proxyItems:c,source:[...a]});const f=o.store.get("items");i||this.providers.dimension.updateSizesPositionByNewDataIndexes(r,f,u)}else for(let r of s){const o=this.providers.data.stores[r],a=o.store.get("source"),l=o.store.get("proxyItems"),c=Array.from({length:a.length},(u,f)=>f);this.providers.dimension.updateSizesPositionByNewDataIndexes(r,c,l),o.setData({proxyItems:c,source:[...a]})}J.forEach(r=>{this.providers.column.dataSources[r].refresh()}),this.emit("aftersortingapply")}}function gf(t,e){const n=e[t],s=n[Kt],i={};let r=t+1;const o=e.length;for(;r<o;){const a=e[r];if(F(a)){const l=a[Kt];if(!l.length||!l.startsWith(s+","))break;a[It]=!1}i[r++]=!0}return n[It]=!1,{trimmed:i}}function pf(t,e,n){const s=n[t],i=e[s],r=Qs(i[sn]),o={};if(!r)return{trimmed:o};const a=[];i[It]=!0;let l=s+1;const c=e.length;let u=0;for(;l<c;){const d=e[l],h=F(d);if(h)if(Wc(r,i,d))u||(u=d[Wt]);else break;(!u||h&&u===d[Wt])&&(o[l]=!1,a.push(l)),l++}const f={trimmed:o};if(a.length){const d=[...n];d.splice(t+1,0,...a),f.items=d}return f}const Ft="grouping";function vf(t,e,n){const s={};for(let i in t){if(i===Ft)continue;const r=t[i],o={};for(let a in r){let l=e[a];n&&(l=n[l]),r[a]&&(o[l]=!0,l!==parseInt(a,10)&&(s[i]=o))}}return s}class Od extends it{getStore(e=ue){return this.providers.data.stores[e].store}constructor(e,n){super(e,n)}onFocus(e){F(e.detail.model)&&e.preventDefault()}onExpand({virtualIndex:e}){const{source:n}=at(this.getStore().get("source"),this.getStore().get("proxyItems"));let s=this.getStore().get("trimmed")[Ft],i=dc(this.getStore(),e);if(qs(n[i])){const{trimmed:o}=gf(i,n);s=Object.assign(Object.assign({},s),o),this.revogrid.clearFocus()}else{const{trimmed:o,items:a}=pf(e,n,this.getStore().get("items"));s=Object.assign(Object.assign({},s),o),a&&vc(this.getStore(),a)}this.getStore().set("source",n),this.revogrid.addTrimmed(s,Ft)}setColumnGrouping(e){return e!=null&&e.length?(e[0][ze]=!0,!0):!1}setColumns({columns:e}){for(let n of J)if(this.setColumnGrouping(e[n]))break}onDrag(e){const{from:n,to:s}=e.detail,i=s-n>=0,{source:r}=at(this.getStore().get("source"),this.getStore().get("proxyItems")),o=this.getStore().get("items");let a=i?n:s;const l=i?s:n;for(;a<l;a++){const c=r[o[a]];if(F(c)){e.preventDefault();return}}}beforeTrimmedApply(e,n){if(n===fi){const s=this.getStore().get("source");for(let i in e)e[i]&&F(s[i])&&(e[i]=!1)}}isSortingRunning(){const e=this.providers.plugins.getByClass(hf);return!!(e!=null&&e.sortingPromise)}doSourceUpdate(e){var n;const s=this.getStore(),{source:i,prevExpanded:r,oldNewIndexes:o}=at(s.get("source"),s.get("proxyItems"),!0),a=Object.assign({prevExpanded:r},e),{sourceWithGroups:l,depth:c,trimmed:u,oldNewIndexMap:f}=Vn(i,((n=this.options)===null||n===void 0?void 0:n.props)||[],a),d=e==null?void 0:e.groupLabelTemplate;this.providers.data.setData(l,ue,this.revogrid.disableVirtualY,{depth:c,customRenderer:d},!0),this.updateTrimmed(u,o??{},f)}onDataSet(e){var n,s;let i={};if(((n=this.options)===null||n===void 0?void 0:n.preserveGroupingOnUpdate)!==!1){let{prevExpanded:f}=at(this.getStore().get("source"),this.getStore().get("proxyItems"),!0);i=f}const r=e.source.filter(f=>!F(f)),o=Object.assign(Object.assign({},this.revogrid.grouping||{}),{prevExpanded:i}),{sourceWithGroups:a,depth:l,trimmed:c,oldNewIndexMap:u}=Vn(r,((s=this.options)===null||s===void 0?void 0:s.props)||[],o);e.source=a,this.providers.data.setGrouping({depth:l}),this.updateTrimmed(c,u)}setGrouping(e){var n,s;if(this.clearSubscriptions(),this.options=e,!(!((s=(n=this.options)===null||n===void 0?void 0:n.props)===null||s===void 0)&&s.length)){this.clearGrouping();return}const i=this.getStore(),{source:r}=at(i.get("source"),i.get("proxyItems"));r.length&&this.doSourceUpdate(Object.assign({},e));for(let o of J)if(this.setColumnGrouping(this.providers.column.getColumns(o))){this.providers.column.refreshByType(o);break}this.addEventListener("beforesourceset",({detail:o})=>{var a,l,c;!((l=(a=this.options)===null||a===void 0?void 0:a.props)===null||l===void 0)&&l.length&&(!((c=o==null?void 0:o.source)===null||c===void 0)&&c.length)&&(this.isSortingRunning()||this.onDataSet(o))}),this.addEventListener("beforecolumnsset",({detail:o})=>{this.setColumns(o)}),this.addEventListener("beforetrimmed",({detail:{trimmed:o,trimmedType:a}})=>this.beforeTrimmedApply(o,a)),this.addEventListener("aftersortingapply",()=>{var o,a;!((a=(o=this.options)===null||o===void 0?void 0:o.props)===null||a===void 0)&&a.length&&this.doSourceUpdate(Object.assign({},this.options))}),this.addEventListener("beforecellfocus",o=>this.onFocus(o)),this.addEventListener("roworderchanged",o=>this.onDrag(o)),this.addEventListener(Hc,o=>this.onExpand(o.detail))}clearGrouping(){J.forEach(s=>{const i=this.providers.column.getColumns(s);let r=!1;i.forEach(o=>{Js(o)&&(delete o[ze],r=!0)}),r&&this.providers.column.refreshByType(s)});const{source:e,oldNewIndexes:n}=at(this.getStore().get("source"),this.getStore().get("proxyItems"),!0);this.providers.data.setData(e,ue,this.revogrid.disableVirtualY,void 0,!0),this.updateTrimmed(void 0,void 0,n)}updateTrimmed(e={},n={},s){const i=vf(this.getStore().get("trimmed"),n,s);for(let r in i)this.revogrid.addTrimmed(i[r],r);this.revogrid.addTrimmed(Object.assign({},e),Ft)}}const ns="column-drag-start";class mf{constructor(){this.offset=0}renderAutoscroll(e,n){n&&(this.autoscrollEl=document.createElement("div"),this.autoscrollEl.classList.add("drag-auto-scroll-y"),n.appendChild(this.autoscrollEl))}autoscroll(e,n,s="translateX"){if(!this.autoscrollEl)return;const r=Math.min(e+10,n-3);this.autoscrollEl.style.transform=`${s}(${r}px)`,this.autoscrollEl.scrollIntoView({block:"nearest",inline:"nearest"})}start(e,{dataEl:n,gridRect:s,scrollEl:i,gridEl:r},o="left"){r.classList.add(ns);const a=i.getBoundingClientRect();a&&(this.offset=a[o]-s[o]),this.renderAutoscroll(e,n)}stop(e){var n;e.classList.remove(ns),this.element&&(this.element.hidden=!0),this.offset=0,(n=this.autoscrollEl)===null||n===void 0||n.remove(),this.autoscrollEl=void 0}showHandler(e,n,s="translateX"){this.element&&(this.offset&&(e=Math.max(e,this.offset)),e=Math.min(e,n),this.element.style.transform=`${s}(${e}px)`,this.element.hidden=!1)}render(){const e=this.element=document.createElement("div");return e.classList.add("drag-position-y"),e.hidden=!0,e}}const $f=ii,yf="columndragmousemove",bf="columndragend",Sf="beforecolumndragend",Ef="columndragstart";class Td extends it{constructor(e,n){super(e,n),this.revogrid=e,this.providers=n,this.moveFunc=Cs(s=>this.doMove(s),5),this.staticDragData=null,this.dragData=null,this.localSubscriptions={},this.orderUi=new mf,e.appendChild(this.orderUi.render()),e.classList.add("column-draggable"),this.localSubscriptions.mouseleave={target:document,callback:s=>this.onMouseOut(s)},this.localSubscriptions.mouseup={target:document,callback:s=>this.onMouseUp(s)},this.localSubscriptions.mousemove={target:document,callback:s=>this.move(s)},this.addEventListener($f,({detail:s})=>this.dragStart(s))}dragStart({event:e,data:n}){if(e.defaultPrevented)return;const{defaultPrevented:s}=ft(this.revogrid,Ef,n);if(s)return;this.clearOrder();const{mouseleave:i,mouseup:r,mousemove:o}=this.localSubscriptions;i.target.addEventListener("mouseleave",i.callback),r.target.addEventListener("mouseup",r.callback);const a=e.target.closest("revogr-header"),l=e.target.closest("revogr-viewport-scroll");if(!a||!l||tn(n)||n.providers.type==="rowHeaders")return;const c=this.getDimension(n.pin||"rgCol"),u=this.revogrid.getBoundingClientRect(),f=a.getBoundingClientRect(),d=zt(c,ge(e.x,u.left,f.left-u.left));this.staticDragData={startPos:e.x,startItem:d,data:n,dataEl:a,scrollEl:l,gridEl:this.revogrid,cols:c},this.dragData=this.getData(this.staticDragData),o.target.addEventListener("mousemove",o.callback),this.orderUi.start(e,Object.assign(Object.assign({},this.dragData),this.staticDragData))}doMove(e){if(!this.staticDragData)return;const n=this.dragData=this.getData(this.staticDragData);if(!n)return;const s=this.staticDragData.startPos;if(Math.abs(s-e.x)>10){const i=ge(e.x,this.dragData.gridRect.left,this.dragData.scrollOffset),r=zt(this.staticDragData.cols,i);if(this.orderUi.autoscroll(i,n.elRect.width),r.itemIndex>=this.staticDragData.cols.count)return;this.orderUi.showHandler(r.end+n.scrollOffset,n.gridRect.width)}}move(e){ft(this.revogrid,yf,e),this.moveFunc(e)}onMouseOut(e){this.clearOrder()}onMouseUp(e){if(this.dragData&&this.staticDragData){let n=ge(e.x,this.dragData.gridRect.left,this.dragData.scrollOffset);n<0&&(n=0);const s=zt(this.staticDragData.cols,n),i=this.providers.column.stores[this.dragData.type].store,r=[...i.get("items")],{defaultPrevented:o}=ft(this.revogrid,Sf,Object.assign(Object.assign({},this.staticDragData),{startPosition:this.staticDragData.startItem,newPosition:s,newItem:i.get("source")[r[this.staticDragData.startItem.itemIndex]]}));if(!o){const a=[...r],l=r.splice(this.staticDragData.startItem.itemIndex,1);r.splice(s.itemIndex,0,...l),i.set("items",r),this.providers.dimension.updateSizesPositionByNewDataIndexes(this.dragData.type,r,a)}ft(this.revogrid,bf,this.dragData)}this.clearOrder()}clearLocalSubscriptions(){z(this.localSubscriptions,({target:e,callback:n},s)=>e.removeEventListener(s,n))}clearOrder(){this.staticDragData=null,this.dragData=null,this.clearLocalSubscriptions(),this.orderUi.stop(this.revogrid)}clearSubscriptions(){super.clearSubscriptions(),this.clearLocalSubscriptions()}getData({gridEl:e,dataEl:n,data:s}){const i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),o=r.left-i.left;return{elRect:r,gridRect:i,type:s.pin||"rgCol",scrollOffset:o}}getDimension(e){return this.providers.dimension.stores[e].getCurrentState()}}function ge(t,e,n){return t-e-n}/*!
 * Built by Revolist OU ❤️
 */function Cd(t){return[b.ARROW_DOWN,b.ARROW_UP,b.ARROW_LEFT,b.ARROW_RIGHT,b.HOME,b.END,b.DELETE,b.BACKSPACE,b.F1,b.F2,b.F3,b.F4,b.F5,b.F6,b.F7,b.F8,b.F9,b.F10,b.F11,b.F12,b.TAB,b.PAGE_DOWN,b.PAGE_UP,b.ENTER,b.ESCAPE,b.SHIFT,b.CAPS_LOCK,b.ALT].indexOf(t)!==-1}function Id(t,e){return e.includes(lc.mac)?[b.COMMAND_LEFT,b.COMMAND_RIGHT,b.COMMAND_FIREFOX].includes(t):t===b.CONTROL}function xd(t){return[b.CONTROL,b.COMMAND_LEFT,b.COMMAND_RIGHT,b.COMMAND_FIREFOX].includes(t)}function wd(t){return Tt.BACKSPACE===t||Tt.DELETE===t}function _f(t){return Tt.TAB===t}function Rd(t){return kt.TAB===t}function Of(t){return kt.ENTER===t}function Ad(t){return t.ctrlKey&&t.code==="KeyX"||t.metaKey&&t.code==="KeyX"}function Ld(t){return t.ctrlKey&&t.code==="KeyC"||t.metaKey&&t.code==="KeyC"}function Pd(t){return t.ctrlKey&&t.code==="KeyV"||t.metaKey&&t.code==="KeyV"}function Dd(t){return t.ctrlKey&&t.code==="KeyA"||t.metaKey&&t.code==="KeyA"}function zd(t){return!!(t!=null&&t.closest(`.${ac}`))}function Fd(t){return typeof t=="function"&&typeof t.prototype=="object"}/*!
 * Built by Revolist OU ❤️
 */class jd{constructor(e,n){this.data=e,this.saveCallback=n,this.editInput=null,this.element=null,this.editCell=void 0}async componentDidRender(){var e;this.editInput&&(await ks(),(e=this.editInput)===null||e===void 0||e.focus())}onKeyDown(e){const n=Of(e.key),s=_f(e.key);(s||n)&&e.target&&this.saveCallback&&!e.isComposing&&(this.beforeDisconnect(),this.saveCallback(this.getValue(),s))}beforeDisconnect(){var e;(e=this.editInput)===null||e===void 0||e.blur()}getValue(){var e;return(e=this.editInput)===null||e===void 0?void 0:e.value}render(e,n){var s,i;return e("input",{type:"text",enterKeyHint:"enter",value:(i=(s=this.editCell)===null||s===void 0?void 0:s.val)!==null&&i!==void 0?i:"",ref:r=>{this.editInput=r},onKeyDown:r=>this.onKeyDown(r)})}}export{de as $,at as A,it as B,tn as C,F as D,Js as E,Lt as F,ue as G,od as H,ad as I,Wc as J,Gc as K,Nc as L,en as M,yd as N,Td as O,ze as P,$d as Q,Cu as R,ot as S,Ed as T,Au as U,fi as V,Lu as W,_d as X,Od as Y,hf as Z,bd as _,Bc as a,wd as a$,ff as a0,gf as a1,pf as a2,xu as a3,Ru as a4,wu as a5,he as a6,ge as a7,df as a8,Sd as a9,Vf as aA,Tc as aB,Tt as aC,cc as aD,ic as aE,sd as aF,zt as aG,dc as aH,fc as aI,ct as aJ,nd as aK,gc as aL,hc as aM,kt as aN,Jf as aO,kr as aP,Zf as aQ,qf as aR,Qf as aS,vc as aT,ed as aU,pc as aV,C as aW,ks as aX,sc as aY,jd as aZ,Dd as a_,uf as aa,ft as ab,vd as ac,oc as ad,Kf as ae,Pf as af,Df as ag,rc as ah,Hf as ai,Xf as aj,Bf as ak,td as al,ac as am,Uf as an,Y as ao,Nf as ap,Ff as aq,Mf as ar,jf as as,Af as at,Gf as au,Lf as av,Yf as aw,zf as ax,kf as ay,Wf as az,wf as b,Ld as b0,Id as b1,xd as b2,Ad as b3,zd as b4,Fd as b5,Of as b6,Cd as b7,Pd as b8,_f as b9,xf as bA,rd as bB,Yi as bC,tr as bD,yt as bE,Cs as bF,Mc as bG,ud as bH,cd as bI,Q as bJ,Hs as bK,md as bL,L as bM,Ws as bN,vt as bO,Rd as ba,x as bb,dd as bc,ei as bd,qc as be,rn as bf,ni as bg,on as bh,Zc as bi,Vc as bj,tu as bk,Qc as bl,eu as bm,ti as bn,iu as bo,pd as bp,su as bq,je as br,si as bs,hd as bt,ru as bu,gd as bv,ou as bw,Cf as bx,fd as by,If as bz,Wt as c,It as d,ld as e,Hc as f,Ys as g,nn as h,sn as i,Kt as j,J as k,Qn as l,zc as m,Vn as n,Ks as o,Lc as p,Gt as q,Fc as r,Rf as s,id as t,Pc as u,Dc as v,qs as w,kc as x,Qs as y,De as z};
