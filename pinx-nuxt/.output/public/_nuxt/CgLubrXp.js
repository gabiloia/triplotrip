import{cu as c,cv as N,cw as I,d as b,b as p,ac as w,bm as z,q as h}from"./BboPWEKj.js";import{g as y,m as D,a as M,b as R,c as O,f as F}from"./DxKG17RJ.js";import{f as L}from"./CQhb659Y.js";function U(t,r){const s=c(t),u=c(r),n=s.getTime()-u.getTime();return n<0?-1:n>0?1:n}function Y(t){return r=>{const u=(t?Math[t]:Math.trunc)(r);return u===0?0:u}}function Z(t,r,s){const u=I(),n=s?.locale??u.locale??N,f=U(t,r);if(isNaN(f))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:s?.addSuffix,comparison:f});let m,d;f>0?(m=c(r),d=c(t)):(m=c(t),d=c(r));const e=Y(s?.roundingMethod??"round"),v=d.getTime()-m.getTime(),l=v/O,T=y(d)-y(m),g=(v-T)/O,x=s?.unit;let i;if(x?i=x:l<1?i="second":l<60?i="minute":l<D?i="hour":g<M?i="day":g<R?i="month":i="year",i==="second"){const a=e(v/1e3);return n.formatDistance("xSeconds",a,o)}else if(i==="minute"){const a=e(l);return n.formatDistance("xMinutes",a,o)}else if(i==="hour"){const a=e(l/60);return n.formatDistance("xHours",a,o)}else if(i==="day"){const a=e(g/D);return n.formatDistance("xDays",a,o)}else if(i==="month"){const a=e(g/M);return a===12&&x!=="month"?n.formatDistance("xYears",1,o):n.formatDistance("xMonths",a,o)}else{const a=e(g/R);return n.formatDistance("xYears",a,o)}}function S(t){return c(t*1e3)}const B={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},A=b({name:"Time",props:B,setup(t){const r=Date.now(),{localeRef:s,dateLocaleRef:u}=z("Time"),n=h(()=>{const{timeZone:e}=t;return e?(v,l,T)=>L(v,e,l,T):F}),f=h(()=>({locale:u.value.locale})),o=h(()=>{const{time:e}=t;return t.unix?e===void 0?r:S(typeof e=="number"?e:e.valueOf()):e??r}),m=h(()=>{const{to:e}=t;return t.unix?e===void 0?r:S(typeof e=="number"?e:e.valueOf()):e??r});return{renderedTime:h(()=>t.format?n.value(o.value,t.format,f.value):t.type==="date"?n.value(o.value,s.value.dateFormat,f.value):t.type==="datetime"?n.value(o.value,s.value.dateTimeFormat,f.value):Z(o.value,m.value,{addSuffix:!0,locale:u.value.locale}))}},render(){return this.text?p(this.renderedTime):w("time",[this.renderedTime])}});export{A as N};
