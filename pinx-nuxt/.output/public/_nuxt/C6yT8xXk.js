import{E as v,d as V,q as k,H as E,p as x,c as r,o,a as n,e as i,w as d,b,_ as $,u as s,B as C,F as D,r as T,l as y,t as h,O as S,N as F,g as Y,z as A,s as O,f as R}from"./CghEsQSB.js";import{f as m}from"./BUrEn1b-.js";import{_ as q}from"./Cr9QXyju.js";import{N as z}from"./DP7HyKJs.js";import{N as G,a as J}from"./CNOXU4Bn.js";import{N as K,a as Q}from"./DxjLUHQR.js";import{N as W}from"./DPXmE9SX.js";import{N as B}from"./0TCeaYoV.js";import"./BMwUx3Op.js";import"./BM6BEBls.js";import"./Q0tXJf8o.js";import"./D18vG-Rc.js";import"./C0u4gweV.js";import"./D5bvd9vl.js";import"./WsVwp_Qa.js";import"./veF_NSp8.js";import"./Cw-TSHwX.js";import"./Caey5ouJ.js";import"./C2161hUv.js";import"./Cg1KF0f9.js";import"./Civqqbwb.js";import"./BON73T5l.js";const H=[{id:"personal",title:"Personal"},{id:"office",title:"Office"},{id:"important",title:"Important"},{id:"shop",title:"Shop"}];function X(){const N=[];for(let u=0;u<30;u++){const p=[],w=m.number.int({min:1,max:3});for(let f=0;f<w;f++)p.push(m.lorem.sentence(m.number.int({min:8,max:30})));const c=m.date.between({from:v().subtract(2,"w").toDate(),to:v().toDate()});N.push({id:m.string.nanoid(),date:c,dateText:v(c).format("YYYY-MM-DD")===v().format("YYYY-MM-DD")?v(c).format("HH:mm"):v(c).format("D MMM"),title:m.lorem.sentence(m.number.int({min:3,max:7})).slice(0,-1),body:p.join("<br/><br/>"),image:m.datatype.boolean()?m.image.urlPicsumPhotos({width:640,height:400}):"",labels:m.helpers.arrayElements(H,{min:0,max:2})})}return N.sort((u,p)=>p.date.getTime()-u.date.getTime())}const Z={class:"page"},ee={class:"toolbar mb-6 flex items-center gap-4"},te={class:"list"},le={class:"masonry"},ae={key:0,class:"n-image"},se=["onClick"],oe={key:0,class:"n-title"},ie=["innerHTML"],re=["onClick"],ne={class:"n-date"},de={class:"n-labels flex flex-wrap justify-end gap-2"},ue={key:0,class:"form flex flex-col"},me={key:0,class:"mb-4"},ce=["alt","src"],pe={class:"mb-3"},ve={class:"item-center flex justify-between gap-4"},fe={class:"item-center flex grow gap-4"},_e={key:0,class:"flex flex-wrap items-center gap-2"},be={key:1,class:"w-full"},ye={class:"item-center flex gap-4"},ge="fluent:notebook-add-24-regular",xe="carbon:image",he=V({__name:"Notes",setup(N){const u=k(X()),p=H.map(a=>({label:a.title,value:a.id})),w=E(),c=x(()=>w.style),f={personal:c.value["extra1-color"],office:c.value["extra2-color"],important:c.value["extra3-color"],shop:c.value["extra4-color"]},g=k([]),l=k(null),L=x(()=>u.value.filter(a=>g.value.length?g.value.every(e=>a.labels.map(t=>t.id).includes(e)):!0)),P=x(()=>{var a,e;return!!((a=l.value)!=null&&a.title)||!!((e=l.value)!=null&&e.body)}),M=x({get:()=>l.value!==null,set:()=>l.value=null});function U(){l.value={id:"",date:new Date,dateText:v().format("HH:mm"),title:"",body:"",image:"",labels:[]}}function I(a){l.value={...q(a),body:a.body.replace(/<br\/>/gi,`
`)}}function j(a){const e=u.value.findIndex(t=>t.id===a.id);a.body=a.body.replace(/\n/g,"<br/>"),e!==-1?u.value[e]=a:(a.id=`${new Date().getTime()}`,u.value=[a,...u.value]),l.value=null}return(a,e)=>(o(),r("div",Z,[n("div",ee,[i(s(C),{type:"primary",size:"large",onClick:e[0]||(e[0]=t=>U())},{icon:d(()=>[i($,{name:ge})]),default:d(()=>[e[6]||(e[6]=b(" Add notes "))]),_:1,__:[6]}),i(s(z),{value:g.value,"onUpdate:value":e[1]||(e[1]=t=>g.value=t),multiple:"",options:s(p),size:"large",placeholder:"Labels filter..."},null,8,["value","options"])]),n("div",te,[i(s(J),null,{default:d(()=>[n("div",le,[(o(!0),r(D,null,T(L.value,t=>(o(),r("div",{key:t.id,class:"note"},[t.image?(o(),r("div",ae,[i(s(G),{src:t.image,width:"640",height:"400","img-props":{alt:`${t.title}-image`},lazy:""},null,8,["src","img-props"])])):y("",!0),n("div",{class:"n-content",onClick:_=>I(t)},[t.title?(o(),r("div",oe,h(t.title),1)):y("",!0),t.body?(o(),r("div",{key:1,class:"n-body",innerHTML:t.body},null,8,ie)):y("",!0)],8,se),n("div",{class:"n-footer flex items-end justify-between gap-3",onClick:_=>I(t)},[n("div",ne,h(t.dateText),1),n("div",de,[(o(!0),r(D,null,T(t.labels,_=>(o(),r("span",{key:_.id,class:"n-label custom-label",style:S(`--label-color:${f[_.id]}`)},h(_.title),5))),128))])],8,re)]))),128))])]),_:1})]),i(s(O),{show:M.value,"onUpdate:show":e[5]||(e[5]=t=>M.value=t)},{default:d(()=>[i(s(F),{class:"w-[90vw]! max-w-lg!"},{default:d(()=>[l.value?(o(),r("div",ue,[l.value.id&&l.value.image?(o(),r("div",me,[n("img",{alt:`${l.value.title}-image`,src:l.value.image,class:"rounded-lg"},null,8,ce)])):(o(),Y(s(K),{key:1,class:"mb-2",max:1},{default:d(()=>[i(s(Q),null,{default:d(()=>[n("div",pe,[i($,{name:xe,size:48,depth:3})]),i(s(A),null,{default:d(()=>e[7]||(e[7]=[b("Click or drag a file to this area to upload")])),_:1,__:[7]}),i(s(W),{depth:"3"},{default:d(()=>e[8]||(e[8]=[b(" Strictly prohibit from uploading sensitive information. For example, your bank card PIN or your credit card expiry date. ")])),_:1,__:[8]})]),_:1})]),_:1})),i(s(B),{value:l.value.title,"onUpdate:value":e[2]||(e[2]=t=>l.value.title=t),placeholder:"Title",class:"mb-4"},null,8,["value"]),i(s(B),{value:l.value.body,"onUpdate:value":e[3]||(e[3]=t=>l.value.body=t),placeholder:"Body",type:"textarea",class:"mb-4",autosize:{minRows:2,maxRows:7}},null,8,["value"]),n("div",ve,[n("div",fe,[l.value.id?(o(),r("div",_e,[(o(!0),r(D,null,T(l.value.labels,t=>(o(),r("span",{key:t.id,class:"custom-label",style:S(`--label-color:${f[t.id]}`)},h(t.title),5))),128))])):(o(),r("div",be,[i(s(z),{multiple:"",class:"w-full",options:s(p),placeholder:"Labels filter..."},null,8,["options"])]))]),n("div",ye,[l.value.id?(o(),Y(s(C),{key:0},{default:d(()=>e[9]||(e[9]=[b("Delete")])),_:1,__:[9]})):y("",!0),i(s(C),{strong:"",secondary:"",type:"primary",disabled:!P.value,onClick:e[4]||(e[4]=t=>j(l.value))},{default:d(()=>e[10]||(e[10]=[b(" Save ")])),_:1,__:[10]},8,["disabled"])])])])):y("",!0)]),_:1})]),_:1},8,["show"])]))}}),Oe=R(he,[["__scopeId","data-v-b3a44f31"]]);export{Oe as default};
