var we=Object.defineProperty;var he=(n,s,e)=>s in n?we(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var o=(n,s,e)=>he(n,typeof s!="symbol"?s+"":s,e);import{bM as h,bP as C,bN as ye,bO as be,dM as xe}from"./CghEsQSB.js";import{h as p,e as ee,j as pe,c as me,k as ge,l as ke,n as se,o as Me,p as De,g as ae,d as _e,q as te,r as Pe,w as re,t as Oe,i as Ye,f as L,s as F}from"./BzTxODg_.js";function N(n,s){const e=h(n);return isNaN(s)?p(n,NaN):(s&&e.setDate(e.getDate()+s),e)}function W(n,s){const e=h(n);if(isNaN(s))return p(n,NaN);if(!s)return e;const t=e.getDate(),r=p(n,e.getTime());r.setMonth(e.getMonth()+s+1,0);const a=r.getDate();return t>=a?r:(e.setFullYear(r.getFullYear(),r.getMonth(),t),e)}function Te(n,s){const e=s*3;return W(n,e)}function Ne(n,s){return W(n,s*12)}function Ie(n,s){const e=ee(n),t=ee(s);return+e==+t}function qe(n){const s=h(n);return Math.trunc(s.getMonth()/3)+1}function ne(n){const s=h(n),e=s.getMonth(),t=e-e%3;return s.setMonth(t,1),s.setHours(0,0,0,0),s}function He(n){const s=h(n);return s.setDate(1),s.setHours(0,0,0,0),s}function oe(n){return h(n).getDate()}function Ee(n){return h(n).getDay()}function Le(n){let e=h(n).getDay();return e===0&&(e=7),e}function q(n){return h(n).getMonth()}function g(n){return h(n).getTime()}function H(n){return h(n).getFullYear()}function Qe(n,s){const e=s instanceof Date?p(s,0):new s(0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}const Re=10;class ie{constructor(){o(this,"subPriority",0)}validate(s,e){return!0}}class Ae extends ie{constructor(s,e,t,r,a){super(),this.value=s,this.validateValue=e,this.setValue=t,this.priority=r,a&&(this.subPriority=a)}validate(s,e){return this.validateValue(s,this.value,e)}set(s,e,t){return this.setValue(s,e,this.value,t)}}class Ce extends ie{constructor(){super(...arguments);o(this,"priority",Re);o(this,"subPriority",-1)}set(e,t){return t.timestampIsSet?e:p(e,Qe(e,Date))}}class u{run(s,e,t,r){const a=this.parse(s,e,t,r);return a?{setter:new Ae(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(s,e,t){return!0}}class Fe extends u{constructor(){super(...arguments);o(this,"priority",140);o(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});case"GGGG":default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}set(e,t,r){return t.era=r,e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}const b={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function x(n,s){return n&&{value:s(n.value),rest:n.rest}}function d(n,s){const e=s.match(n);return e?{value:parseInt(e[0],10),rest:s.slice(e[0].length)}:null}function P(n,s){const e=s.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:s.slice(1)};const t=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,i=e[5]?parseInt(e[5],10):0;return{value:t*(r*pe+a*me+i*ge),rest:s.slice(e[0].length)}}function ce(n){return d(b.anyDigitsSigned,n)}function y(n,s){switch(n){case 1:return d(b.singleDigit,s);case 2:return d(b.twoDigits,s);case 3:return d(b.threeDigits,s);case 4:return d(b.fourDigits,s);default:return d(new RegExp("^\\d{1,"+n+"}"),s)}}function E(n,s){switch(n){case 1:return d(b.singleDigitSigned,s);case 2:return d(b.twoDigitsSigned,s);case 3:return d(b.threeDigitsSigned,s);case 4:return d(b.fourDigitsSigned,s);default:return d(new RegExp("^-?\\d{1,"+n+"}"),s)}}function B(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ue(n,s){const e=s>0,t=e?s:1-s;let r;if(t<=50)r=n||100;else{const a=t+50,i=Math.trunc(a/100)*100,l=n>=a%100;r=n+i-(l?100:0)}return e?r:1-r}function le(n){return n%400===0||n%4===0&&n%100!==0}class We extends u{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,r){const a=i=>({year:i,isTwoDigitYear:t==="yy"});switch(t){case"y":return x(y(4,e),a);case"yo":return x(r.ordinalNumber(e,{unit:"year"}),a);default:return x(y(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r){const a=e.getFullYear();if(r.isTwoDigitYear){const l=ue(r.year,a);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const i=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}}class Be extends u{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,r){const a=i=>({year:i,isTwoDigitYear:t==="YY"});switch(t){case"Y":return x(y(4,e),a);case"Yo":return x(r.ordinalNumber(e,{unit:"year"}),a);default:return x(y(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,r,a){const i=ke(e,a);if(r.isTwoDigitYear){const f=ue(r.year,i);return e.setFullYear(f,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),C(e,a)}const l=!("era"in t)||t.era===1?r.year:1-r.year;return e.setFullYear(l,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),C(e,a)}}class Ge extends u{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return E(t==="R"?4:t.length,e)}set(e,t,r){const a=p(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),se(a)}}class Xe extends u{constructor(){super(...arguments);o(this,"priority",130);o(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return E(t==="u"?4:t.length,e)}set(e,t,r){return e.setFullYear(r,0,1),e.setHours(0,0,0,0),e}}class ze extends u{constructor(){super(...arguments);o(this,"priority",120);o(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"Q":case"QQ":return y(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class je extends u{constructor(){super(...arguments);o(this,"priority",120);o(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"q":case"qq":return y(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,r){return e.setMonth((r-1)*3,1),e.setHours(0,0,0,0),e}}class Ze extends u{constructor(){super(...arguments);o(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);o(this,"priority",110)}parse(e,t,r){const a=i=>i-1;switch(t){case"M":return x(d(b.month,e),a);case"MM":return x(y(2,e),a);case"Mo":return x(r.ordinalNumber(e,{unit:"month"}),a);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}class Ke extends u{constructor(){super(...arguments);o(this,"priority",110);o(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,r){const a=i=>i-1;switch(t){case"L":return x(d(b.month,e),a);case"LL":return x(y(2,e),a);case"Lo":return x(r.ordinalNumber(e,{unit:"month"}),a);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.setMonth(r,1),e.setHours(0,0,0,0),e}}function $e(n,s,e){const t=h(n),r=Me(t,e)-s;return t.setDate(t.getDate()-r*7),t}class ve extends u{constructor(){super(...arguments);o(this,"priority",100);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,r){switch(t){case"w":return d(b.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return y(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r,a){return C($e(e,r,a),a)}}function Ve(n,s){const e=h(n),t=De(e)-s;return e.setDate(e.getDate()-t*7),e}class Ue extends u{constructor(){super(...arguments);o(this,"priority",100);o(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,r){switch(t){case"I":return d(b.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return y(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,r){return se(Ve(e,r))}}const Je=[31,28,31,30,31,30,31,31,30,31,30,31],Se=[31,29,31,30,31,30,31,31,30,31,30,31];class et extends u{constructor(){super(...arguments);o(this,"priority",90);o(this,"subPriority",1);o(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"d":return d(b.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return y(t.length,e)}}validate(e,t){const r=e.getFullYear(),a=le(r),i=e.getMonth();return a?t>=1&&t<=Se[i]:t>=1&&t<=Je[i]}set(e,t,r){return e.setDate(r),e.setHours(0,0,0,0),e}}class tt extends u{constructor(){super(...arguments);o(this,"priority",90);o(this,"subpriority",1);o(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,r){switch(t){case"D":case"DD":return d(b.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return y(t.length,e)}}validate(e,t){const r=e.getFullYear();return le(r)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,r){return e.setMonth(0,r),e.setHours(0,0,0,0),e}}function G(n,s,e){var O,T,Y,I;const t=ye(),r=(e==null?void 0:e.weekStartsOn)??((T=(O=e==null?void 0:e.locale)==null?void 0:O.options)==null?void 0:T.weekStartsOn)??t.weekStartsOn??((I=(Y=t.locale)==null?void 0:Y.options)==null?void 0:I.weekStartsOn)??0,a=h(n),i=a.getDay(),f=(s%7+7)%7,k=7-r,M=s<0||s>6?s-(i+k)%7:(f+k)%7-(i+k)%7;return N(a,M)}class rt extends u{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=G(e,r,a),e.setHours(0,0,0,0),e}}class nt extends u{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,r,a){const i=l=>{const f=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+f};switch(t){case"e":case"ee":return x(y(t.length,e),i);case"eo":return x(r.ordinalNumber(e,{unit:"day"}),i);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=G(e,r,a),e.setHours(0,0,0,0),e}}class st extends u{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,r,a){const i=l=>{const f=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+f};switch(t){case"c":case"cc":return x(y(t.length,e),i);case"co":return x(r.ordinalNumber(e,{unit:"day"}),i);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,r,a){return e=G(e,r,a),e.setHours(0,0,0,0),e}}function at(n,s){const e=h(n),t=Le(e),r=s-t;return N(e,r)}class ot extends u{constructor(){super(...arguments);o(this,"priority",90);o(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,r){const a=i=>i===0?7:i;switch(t){case"i":case"ii":return y(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return x(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return x(r.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return x(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return x(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,r){return e=at(e,r),e.setHours(0,0,0,0),e}}class it extends u{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(B(r),0,0,0),e}}class ct extends u{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(B(r),0,0,0),e}}class ut extends u{constructor(){super(...arguments);o(this,"priority",80);o(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,r){return e.setHours(B(r),0,0,0),e}}class lt extends u{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,r){switch(t){case"h":return d(b.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return y(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,r){const a=e.getHours()>=12;return a&&r<12?e.setHours(r+12,0,0,0):!a&&r===12?e.setHours(0,0,0,0):e.setHours(r,0,0,0),e}}class dt extends u{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,r){switch(t){case"H":return d(b.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return y(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,r){return e.setHours(r,0,0,0),e}}class ft extends u{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,r){switch(t){case"K":return d(b.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return y(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,r){return e.getHours()>=12&&r<12?e.setHours(r+12,0,0,0):e.setHours(r,0,0,0),e}}class wt extends u{constructor(){super(...arguments);o(this,"priority",70);o(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,r){switch(t){case"k":return d(b.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return y(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,r){const a=r<=24?r%24:r;return e.setHours(a,0,0,0),e}}class ht extends u{constructor(){super(...arguments);o(this,"priority",60);o(this,"incompatibleTokens",["t","T"])}parse(e,t,r){switch(t){case"m":return d(b.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return y(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setMinutes(r,0,0),e}}class yt extends u{constructor(){super(...arguments);o(this,"priority",50);o(this,"incompatibleTokens",["t","T"])}parse(e,t,r){switch(t){case"s":return d(b.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return y(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,r){return e.setSeconds(r,0),e}}class bt extends u{constructor(){super(...arguments);o(this,"priority",30);o(this,"incompatibleTokens",["t","T"])}parse(e,t){const r=a=>Math.trunc(a*Math.pow(10,-t.length+3));return x(y(t.length,e),r)}set(e,t,r){return e.setMilliseconds(r),e}}class xt extends u{constructor(){super(...arguments);o(this,"priority",10);o(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return P(_.basicOptionalMinutes,e);case"XX":return P(_.basic,e);case"XXXX":return P(_.basicOptionalSeconds,e);case"XXXXX":return P(_.extendedOptionalSeconds,e);case"XXX":default:return P(_.extended,e)}}set(e,t,r){return t.timestampIsSet?e:p(e,e.getTime()-ae(e)-r)}}class pt extends u{constructor(){super(...arguments);o(this,"priority",10);o(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return P(_.basicOptionalMinutes,e);case"xx":return P(_.basic,e);case"xxxx":return P(_.basicOptionalSeconds,e);case"xxxxx":return P(_.extendedOptionalSeconds,e);case"xxx":default:return P(_.extended,e)}}set(e,t,r){return t.timestampIsSet?e:p(e,e.getTime()-ae(e)-r)}}class mt extends u{constructor(){super(...arguments);o(this,"priority",40);o(this,"incompatibleTokens","*")}parse(e){return ce(e)}set(e,t,r){return[p(e,r*1e3),{timestampIsSet:!0}]}}class gt extends u{constructor(){super(...arguments);o(this,"priority",20);o(this,"incompatibleTokens","*")}parse(e){return ce(e)}set(e,t,r){return[p(e,r),{timestampIsSet:!0}]}}const kt={G:new Fe,y:new We,Y:new Be,R:new Ge,u:new Xe,Q:new ze,q:new je,M:new Ze,L:new Ke,w:new ve,I:new Ue,d:new et,D:new tt,E:new rt,e:new nt,c:new st,i:new ot,a:new it,b:new ct,B:new ut,h:new lt,H:new dt,K:new ft,k:new wt,m:new ht,s:new yt,S:new bt,X:new xt,x:new pt,t:new mt,T:new gt},Mt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_t=/^'([^]*?)'?$/,Pt=/''/g,Ot=/\S/,Yt=/[a-zA-Z]/;function Tt(n,s,e,t){var X,z,j,Z,K,$,v,V;const r=_e(),a=(t==null?void 0:t.locale)??r.locale??be,i=(t==null?void 0:t.firstWeekContainsDate)??((z=(X=t==null?void 0:t.locale)==null?void 0:X.options)==null?void 0:z.firstWeekContainsDate)??r.firstWeekContainsDate??((Z=(j=r.locale)==null?void 0:j.options)==null?void 0:Z.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??(($=(K=t==null?void 0:t.locale)==null?void 0:K.options)==null?void 0:$.weekStartsOn)??r.weekStartsOn??((V=(v=r.locale)==null?void 0:v.options)==null?void 0:V.weekStartsOn)??0;if(s==="")return n===""?h(e):p(e,NaN);const f={firstWeekContainsDate:i,weekStartsOn:l,locale:a},k=[new Ce],M=s.match(Dt).map(c=>{const w=c[0];if(w in te){const D=te[w];return D(c,a.formatLong)}return c}).join("").match(Mt),O=[];for(let c of M){!(t!=null&&t.useAdditionalWeekYearTokens)&&Pe(c)&&re(c,s,n),!(t!=null&&t.useAdditionalDayOfYearTokens)&&Oe(c)&&re(c,s,n);const w=c[0],D=kt[w];if(D){const{incompatibleTokens:U}=D;if(Array.isArray(U)){const J=O.find(S=>U.includes(S.token)||S.token===w);if(J)throw new RangeError(`The format string mustn't contain \`${J.fullToken}\` and \`${c}\` at the same time`)}else if(D.incompatibleTokens==="*"&&O.length>0)throw new RangeError(`The format string mustn't contain \`${c}\` and any other token at the same time`);O.push({token:w,fullToken:c});const R=D.run(n,c,a.match,f);if(!R)return p(e,NaN);k.push(R.setter),n=R.rest}else{if(w.match(Yt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(c==="''"?c="'":w==="'"&&(c=Nt(c)),n.indexOf(c)===0)n=n.slice(c.length);else return p(e,NaN)}}if(n.length>0&&Ot.test(n))return p(e,NaN);const T=k.map(c=>c.priority).sort((c,w)=>w-c).filter((c,w,D)=>D.indexOf(c)===w).map(c=>k.filter(w=>w.priority===c).sort((w,D)=>D.subPriority-w.subPriority)).map(c=>c[0]);let Y=h(e);if(isNaN(Y.getTime()))return p(e,NaN);const I={};for(const c of T){if(!c.validate(Y,f))return p(e,NaN);const w=c.set(Y,I,f);Array.isArray(w)?(Y=w[0],Object.assign(I,w[1])):Y=w}return p(e,Y)}function Nt(n){return n.match(_t)[1].replace(Pt,"'")}function Q(n,s){const e=h(n),t=h(s);return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}function de(n,s){const e=ne(n),t=ne(s);return+e==+t}function fe(n,s){const e=h(n),t=h(s);return e.getFullYear()===t.getFullYear()}function It(n,s){const e=h(n);return isNaN(+e)?p(n,NaN):(e.setFullYear(s),e)}const qt={date:Ie,month:Q,year:fe,quarter:de};function Ht(n){return(s,e)=>{const t=(n+1)%7;return xe(s,e,{weekStartsOn:t})}}function m(n,s,e,t=0){return(e==="week"?Ht(t):qt[e])(n,s)}function A(n,s,e,t,r,a){return r==="date"?Et(n,s,e,t):Lt(n,s,e,t,a)}function Et(n,s,e,t){let r=!1,a=!1,i=!1;Array.isArray(e)&&(e[0]<n&&n<e[1]&&(r=!0),m(e[0],n,"date")&&(a=!0),m(e[1],n,"date")&&(i=!0));const l=e!==null&&(Array.isArray(e)?m(e[0],n,"date")||m(e[1],n,"date"):m(e,n,"date"));return{type:"date",dateObject:{date:oe(n),month:q(n),year:H(n)},inCurrentMonth:Q(n,s),isCurrentDate:m(t,n,"date"),inSpan:r,inSelectedWeek:!1,startOfSpan:a,endOfSpan:i,selected:l,ts:g(n)}}function Bt(n,s,e){const t=new Date(2e3,n,1).getTime();return L(t,s,{locale:e})}function Gt(n,s,e){const t=new Date(n,1,1).getTime();return L(t,s,{locale:e})}function Xt(n,s,e){const t=new Date(2e3,n*3-2,1).getTime();return L(t,s,{locale:e})}function Lt(n,s,e,t,r){let a=!1,i=!1,l=!1;Array.isArray(e)&&(e[0]<n&&n<e[1]&&(a=!0),m(e[0],n,"week",r)&&(i=!0),m(e[1],n,"week",r)&&(l=!0));const f=e!==null&&(Array.isArray(e)?m(e[0],n,"week",r)||m(e[1],n,"week",r):m(e,n,"week",r));return{type:"date",dateObject:{date:oe(n),month:q(n),year:H(n)},inCurrentMonth:Q(n,s),isCurrentDate:m(t,n,"date"),inSpan:a,startOfSpan:i,endOfSpan:l,selected:!1,inSelectedWeek:f,ts:g(n)}}function Qt(n,s,e,{monthFormat:t}){return{type:"month",monthFormat:t,dateObject:{month:q(n),year:H(n)},isCurrent:Q(e,n),selected:s!==null&&m(s,n,"month"),ts:g(n)}}function Rt(n,s,e,{yearFormat:t}){return{type:"year",yearFormat:t,dateObject:{year:H(n)},isCurrent:fe(e,n),selected:s!==null&&m(s,n,"year"),ts:g(n)}}function At(n,s,e,{quarterFormat:t}){return{type:"quarter",quarterFormat:t,dateObject:{quarter:qe(n),year:H(n)},isCurrent:de(e,n),selected:s!==null&&m(s,n,"quarter"),ts:g(n)}}function zt(n,s,e,t,r=!1,a=!1){const i=a?"week":"date",l=q(n);let f=g(He(n)),k=g(N(f,-1));const M=[];let O=!r;for(;Ee(k)!==t||O;)M.unshift(A(k,n,s,e,i,t)),k=g(N(k,-1)),O=!1;for(;q(f)===l;)M.push(A(f,n,s,e,i,t)),f=g(N(f,1));const T=r?M.length<=28?28:M.length<=35?35:42:42;for(;M.length<T;)M.push(A(f,n,s,e,i,t)),f=g(N(f,1));return M}function jt(n,s,e,t){const r=[],a=F(n);for(let i=0;i<12;i++)r.push(Qt(g(W(a,i)),s,e,t));return r}function Zt(n,s,e,t){const r=[],a=F(n);for(let i=0;i<4;i++)r.push(At(g(Te(a,i)),s,e,t));return r}function Kt(n,s,e,t){const r=t.value,a=[],i=F(It(new Date,r[0]));for(let l=0;l<r[1]-r[0];l++)a.push(Rt(g(Ne(i,l)),n,s,e));return a}function $t(n,s,e,t){const r=Tt(n,s,e,t);return Ye(r)?L(r,s,t)===n?r:new Date(Number.NaN):r}function vt(n){if(n===void 0)return;if(typeof n=="number")return n;const[s,e,t]=n.split(":");return{hours:Number(s),minutes:Number(e),seconds:Number(t)}}function Vt(n,s){return Array.isArray(n)?n[s==="start"?0:1]:null}export{W as a,Ne as b,q as c,zt as d,H as e,$t as f,g,oe as h,vt as i,He as j,ne as k,Q as l,jt as m,Xt as n,Bt as o,Gt as p,Zt as q,Vt as r,It as s,Kt as y};
