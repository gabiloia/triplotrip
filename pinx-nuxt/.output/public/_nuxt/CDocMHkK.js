import{_ as C}from"./vPp7vp59.js";import{d as k,q as x,ai as S,y as $,ah as T,c as B,o as E,a as u,e as d,b as _,_ as I,w as m,u as g,t as b}from"./BfwEk-Nq.js";import{N as V}from"./BS7aab3v.js";import{N as D}from"./Dy7vW8Ky.js";import"./CPRgsAKX.js";import"./D-rSACz3.js";import"./Bk_rJcZu.js";const F={duration:{type:Number,default:0},active:{type:Boolean,default:!0},precision:{type:Number,default:0},render:Function,onFinish:Function},U=k({name:"Countdown",props:F,setup(o){let a=null,i=0,t=!1;const r=x(0);S(()=>{r.value=o.duration});let e=-1;function p(n){return o.duration-i+e-n}function M(n){const c=Math.floor(n/36e5),s=Math.floor(n%36e5/6e4),l=Math.floor(n%6e4/1e3),h=Math.floor(n%1e3);return{hours:c,minutes:s,seconds:l,milliseconds:h}}function N(n){const{hours:c,minutes:s,seconds:l,milliseconds:h}=n,{precision:f}=o;switch(f){case 0:return`${String(c).padStart(2,"0")}:${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`;default:return`${String(c).padStart(2,"0")}:${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}.${String(Math.floor(h/(f===1?100:f===2?10:1))).padStart(f,"0")}`}}const v=()=>{var n;const{precision:c}=o,s=p(performance.now());if(s<=0){r.value=0,w(),t||(t=!0,(n=o.onFinish)===null||n===void 0||n.call(o));return}let l;switch(c){case 3:case 2:l=s%34;break;case 1:l=s%100;break;default:l=s%1e3}r.value=s,a=window.setTimeout(()=>{v()},l)};function w(){a!==null&&(window.clearTimeout(a),a=null)}$(()=>{S(()=>{if(o.active)e=performance.now(),v();else{const n=performance.now();e!==-1&&(i+=n-e),w()}})}),T(()=>{w()});function y(){r.value=o.duration,i=0,e=performance.now(),o.active&&t&&v(),t=!1}return Object.assign({reset:y},{distance:r,getTimeInfo:M,getDisplayValue:N})},render(){const{render:o,precision:a,distance:i,getTimeInfo:t,getDisplayValue:r}=this;let e;switch(a){case 0:e=t(i+999),e.milliseconds=0;break;case 1:e=t(i+99),e.milliseconds=Math.floor(e.milliseconds/100)*100;break;case 2:e=t(i+9),e.milliseconds=Math.floor(e.milliseconds/10)*10;break;case 3:e=t(i)}return o?o(e):r(e)}}),j={class:"page"},q={class:"page-header"},z={class:"links"},A={href:"https://www.naiveui.com/en-US/light/components/countdown",target:"_blank",alt:"docs",rel:"nofollow noopener noreferrer"},O={class:"components-list"},P={style:{"font-variant-numeric":"tabular-nums"}},R="tabler:external-link",Y=k({__name:"Countdown",setup(o){const a=x(!1);return(i,t)=>{const r=C;return E(),B("div",j,[u("div",q,[t[2]||(t[2]=u("div",{class:"title"},"Countdown",-1)),u("div",z,[u("a",A,[d(I,{name:R,size:16}),t[1]||(t[1]=_(" docs "))])])]),u("div",O,[d(r,{title:"Basic"},{description:m(()=>t[3]||(t[3]=[_("A countdown string.")])),code:m(({html:e,js:p})=>[_(b(e(`
					<n-space>
						<n-switch v-model:value="active" />
						<span style="font-variant-numeric: tabular-nums">
							<n-countdown :duration="5000" :active="active" />
						</span>
					</n-space>
					`))+" "+b(p(`
						const active = ref(false)
						`)),1)]),default:m(()=>[d(g(V),null,{default:m(()=>[d(g(D),{value:a.value,"onUpdate:value":t[0]||(t[0]=e=>a.value=e)},null,8,["value"]),u("span",P,[d(g(U),{duration:5e3,active:a.value},null,8,["active"])])]),_:1})]),_:1})])])}}});export{Y as default};
