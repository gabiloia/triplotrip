import{E as v,d as V,s as k,H as E,o as s,c as r,a as n,e as i,w as d,b as y,_ as $,u as a,B as C,F as D,r as T,n as g,t as x,O as S,N as F,g as Y,z as A,p as O,q as h,f as R}from"./BboPWEKj.js";import{f as m}from"./GaUcJ0Yz.js";import{_ as q}from"./Ck2voq-2.js";import{N as z}from"./DnnAk1_e.js";import{N as G,a as J}from"./CWhe2oSJ.js";import{N as K,a as Q}from"./C9x3Mxu6.js";import{N as W}from"./DmRx7GGq.js";import{N as B}from"./DawznoV1.js";import"./DxB_AnUS.js";import"./C6MRmTaG.js";import"./CBN863Oo.js";import"./DqhOMRwD.js";import"./ChA4gcHA.js";import"./DgobSdsA.js";import"./BY5EArDQ.js";import"./BuIxUXC0.js";import"./BXMLvpzM.js";import"./uD1lXFsz.js";import"./C2161hUv.js";import"./DnIKkyzR.js";import"./DqYVDO9Y.js";import"./Cf99Tf4m.js";const H=[{id:"personal",title:"Personal"},{id:"office",title:"Office"},{id:"important",title:"Important"},{id:"shop",title:"Shop"}];function X(){const N=[];for(let u=0;u<30;u++){const p=[],w=m.number.int({min:1,max:3});for(let f=0;f<w;f++)p.push(m.lorem.sentence(m.number.int({min:8,max:30})));const c=m.date.between({from:v().subtract(2,"w").toDate(),to:v().toDate()});N.push({id:m.string.nanoid(),date:c,dateText:v(c).format("YYYY-MM-DD")===v().format("YYYY-MM-DD")?v(c).format("HH:mm"):v(c).format("D MMM"),title:m.lorem.sentence(m.number.int({min:3,max:7})).slice(0,-1),body:p.join("<br/><br/>"),image:m.datatype.boolean()?m.image.urlPicsumPhotos({width:640,height:400}):"",labels:m.helpers.arrayElements(H,{min:0,max:2})})}return N.sort((u,p)=>p.date.getTime()-u.date.getTime())}const Z={class:"page"},ee={class:"toolbar mb-6 flex items-center gap-4"},te={class:"list"},le={class:"masonry"},ae={key:0,class:"n-image"},se=["onClick"],oe={key:0,class:"n-title"},ie=["innerHTML"],re=["onClick"],ne={class:"n-date"},de={class:"n-labels flex flex-wrap justify-end gap-2"},ue={key:0,class:"form flex flex-col"},me={key:0,class:"mb-4"},ce=["alt","src"],pe={class:"mb-3"},ve={class:"item-center flex justify-between gap-4"},fe={class:"item-center flex grow gap-4"},be={key:0,class:"flex flex-wrap items-center gap-2"},ye={key:1,class:"w-full"},ge={class:"item-center flex gap-4"},_e="fluent:notebook-add-24-regular",xe="carbon:image",he=V({__name:"Notes",setup(N){const u=k(X()),p=H.map(o=>({label:o.title,value:o.id})),w=E(),c=h(()=>w.style),f={personal:c.value["extra1-color"],office:c.value["extra2-color"],important:c.value["extra3-color"],shop:c.value["extra4-color"]},_=k([]),l=k(null),L=h(()=>u.value.filter(o=>_.value.length?_.value.every(t=>o.labels.map(e=>e.id).includes(t)):!0)),P=h(()=>!!l.value?.title||!!l.value?.body),M=h({get:()=>l.value!==null,set:()=>l.value=null});function U(){l.value={id:"",date:new Date,dateText:v().format("HH:mm"),title:"",body:"",image:"",labels:[]}}function I(o){l.value={...q(o),body:o.body.replace(/<br\/>/gi,`
`)}}function j(o){const t=u.value.findIndex(e=>e.id===o.id);o.body=o.body.replace(/\n/g,"<br/>"),t!==-1?u.value[t]=o:(o.id=`${new Date().getTime()}`,u.value=[o,...u.value]),l.value=null}return(o,t)=>(s(),r("div",Z,[n("div",ee,[i(a(C),{type:"primary",size:"large",onClick:t[0]||(t[0]=e=>U())},{icon:d(()=>[i($,{name:_e})]),default:d(()=>[t[6]||(t[6]=y(" Add notes ",-1))]),_:1}),i(a(z),{value:_.value,"onUpdate:value":t[1]||(t[1]=e=>_.value=e),multiple:"",options:a(p),size:"large",placeholder:"Labels filter..."},null,8,["value","options"])]),n("div",te,[i(a(J),null,{default:d(()=>[n("div",le,[(s(!0),r(D,null,T(L.value,e=>(s(),r("div",{key:e.id,class:"note"},[e.image?(s(),r("div",ae,[i(a(G),{src:e.image,width:"640",height:"400","img-props":{alt:`${e.title}-image`},lazy:""},null,8,["src","img-props"])])):g("",!0),n("div",{class:"n-content",onClick:b=>I(e)},[e.title?(s(),r("div",oe,x(e.title),1)):g("",!0),e.body?(s(),r("div",{key:1,class:"n-body",innerHTML:e.body},null,8,ie)):g("",!0)],8,se),n("div",{class:"n-footer flex items-end justify-between gap-3",onClick:b=>I(e)},[n("div",ne,x(e.dateText),1),n("div",de,[(s(!0),r(D,null,T(e.labels,b=>(s(),r("span",{key:b.id,class:"n-label custom-label",style:S(`--label-color:${f[b.id]}`)},x(b.title),5))),128))])],8,re)]))),128))])]),_:1})]),i(a(O),{show:M.value,"onUpdate:show":t[5]||(t[5]=e=>M.value=e)},{default:d(()=>[i(a(F),{class:"w-[90vw]! max-w-lg!"},{default:d(()=>[l.value?(s(),r("div",ue,[l.value.id&&l.value.image?(s(),r("div",me,[n("img",{alt:`${l.value.title}-image`,src:l.value.image,class:"rounded-lg"},null,8,ce)])):(s(),Y(a(K),{key:1,class:"mb-2",max:1},{default:d(()=>[i(a(Q),null,{default:d(()=>[n("div",pe,[i($,{name:xe,size:48,depth:3})]),i(a(A),null,{default:d(()=>[...t[7]||(t[7]=[y("Click or drag a file to this area to upload",-1)])]),_:1}),i(a(W),{depth:"3"},{default:d(()=>[...t[8]||(t[8]=[y(" Strictly prohibit from uploading sensitive information. For example, your bank card PIN or your credit card expiry date. ",-1)])]),_:1})]),_:1})]),_:1})),i(a(B),{value:l.value.title,"onUpdate:value":t[2]||(t[2]=e=>l.value.title=e),placeholder:"Title",class:"mb-4"},null,8,["value"]),i(a(B),{value:l.value.body,"onUpdate:value":t[3]||(t[3]=e=>l.value.body=e),placeholder:"Body",type:"textarea",class:"mb-4",autosize:{minRows:2,maxRows:7}},null,8,["value"]),n("div",ve,[n("div",fe,[l.value.id?(s(),r("div",be,[(s(!0),r(D,null,T(l.value.labels,e=>(s(),r("span",{key:e.id,class:"custom-label",style:S(`--label-color:${f[e.id]}`)},x(e.title),5))),128))])):(s(),r("div",ye,[i(a(z),{multiple:"",class:"w-full",options:a(p),placeholder:"Labels filter..."},null,8,["options"])]))]),n("div",ge,[l.value.id?(s(),Y(a(C),{key:0},{default:d(()=>[...t[9]||(t[9]=[y("Delete",-1)])]),_:1})):g("",!0),i(a(C),{strong:"",secondary:"",type:"primary",disabled:!P.value,onClick:t[4]||(t[4]=e=>j(l.value))},{default:d(()=>[...t[10]||(t[10]=[y(" Save ",-1)])]),_:1},8,["disabled"])])])])):g("",!0)]),_:1})]),_:1},8,["show"])]))}}),Oe=R(he,[["__scopeId","data-v-b3a44f31"]]);export{Oe as default};
