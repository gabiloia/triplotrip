import{ct as c,cu as N,cv as b,d as I,b as w,ab as z,bl as F,p as h}from"./D0txxWEs.js";import{f as L}from"./BzJvYh6m.js";import{g as y,m as D,a as M,b as R,c as O,f as U}from"./DIt6SmjI.js";function Y(t,a){const n=c(t),o=c(a),r=n.getTime()-o.getTime();return r<0?-1:r>0?1:r}function Z(t){return a=>{const o=(t?Math[t]:Math.trunc)(a);return o===0?0:o}}function B(t,a,n){const o=N(),r=(n==null?void 0:n.locale)??o.locale??b,f=Y(t,a);if(isNaN(f))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:f});let m,d;f>0?(m=c(a),d=c(t)):(m=c(t),d=c(a));const e=Z((n==null?void 0:n.roundingMethod)??"round"),v=d.getTime()-m.getTime(),l=v/O,T=y(d)-y(m),g=(v-T)/O,x=n==null?void 0:n.unit;let u;if(x?u=x:l<1?u="second":l<60?u="minute":l<D?u="hour":g<M?u="day":g<R?u="month":u="year",u==="second"){const s=e(v/1e3);return r.formatDistance("xSeconds",s,i)}else if(u==="minute"){const s=e(l);return r.formatDistance("xMinutes",s,i)}else if(u==="hour"){const s=e(l/60);return r.formatDistance("xHours",s,i)}else if(u==="day"){const s=e(g/D);return r.formatDistance("xDays",s,i)}else if(u==="month"){const s=e(g/M);return s===12&&x!=="month"?r.formatDistance("xYears",1,i):r.formatDistance("xMonths",s,i)}else{const s=e(g/R);return r.formatDistance("xYears",s,i)}}function S(t){return c(t*1e3)}const _={time:{type:[Number,Date],default:void 0},type:{type:String,default:"datetime"},to:{type:[Number,Date],default:void 0},unix:Boolean,format:String,text:Boolean,timeZone:String},E=I({name:"Time",props:_,setup(t){const a=Date.now(),{localeRef:n,dateLocaleRef:o}=F("Time"),r=h(()=>{const{timeZone:e}=t;return e?(v,l,T)=>L(v,e,l,T):U}),f=h(()=>({locale:o.value.locale})),i=h(()=>{const{time:e}=t;return t.unix?e===void 0?a:S(typeof e=="number"?e:e.valueOf()):e??a}),m=h(()=>{const{to:e}=t;return t.unix?e===void 0?a:S(typeof e=="number"?e:e.valueOf()):e??a});return{renderedTime:h(()=>t.format?r.value(i.value,t.format,f.value):t.type==="date"?r.value(i.value,n.value.dateFormat,f.value):t.type==="datetime"?r.value(i.value,n.value.dateTimeFormat,f.value):B(i.value,m.value,{addSuffix:!0,locale:o.value.locale}))}},render(){return this.text?w(this.renderedTime):z("time",[this.renderedTime])}});export{E as N};
